"use strict";function main(){Scene.initialize("renderCanvas");var radio=document.getElementsByName("shapes");for(var i=0;i<radio.length;i++){radio[i].onchange=testRadio}document.getElementById("one").onclick=checkRadio}window.onload=main;function testRadio(){Scene.setShape(this.value)}function checkRadio(){var m=document.getElementsByName("shapes");for(var i=0;i<m.length;i++){if(m[i].checked){alert(m[i].value);break}}}"use strict";var Scene=function(){var canvas=null;var engine=null;var scene=null;var shapes={};var previousShape=null;function initialize(canvasID){canvas=document.getElementById(canvasID);engine=new BABYLON.Engine(canvas,true);document.addEventListener("contextmenu",function(event){event.preventDefault()},false);scene=createScene();animate()}function createScene(){var scene=new BABYLON.Scene(engine);var light2=new BABYLON.DirectionalLight("dir01",new BABYLON.Vector3(-20,-20,10),scene);light2.position=new BABYLON.Vector3(20,20,-10);var hemiLight=new BABYLON.HemisphericLight("light1",new BABYLON.Vector3(1,1,0),scene);hemiLight.intensity=.4;hemiLight.groundColor=new BABYLON.Color3(.8,.8,.8);var camera=new BABYLON.ArcRotateCamera("camera1",-120*Math.PI/180,70*Math.PI/180,2,new BABYLON.Vector3(0,.5,0),scene);camera.minZ=.1;camera.wheelPrecision=100;camera.attachControl(canvas,true);var cube=BABYLON.MeshBuilder.CreateBox("box1",{size:1},scene);cube.position.y=.5;shapes.cube=cube;cube.setEnabled(0);var cubeMaterial=new BABYLON.StandardMaterial("cubeMaterial",scene);var texCubeScale=1;cubeMaterial.diffuseTexture=new BABYLON.Texture("https://dl.dropboxusercontent.com/s/h7zwfpw4v4fjwag/154.jpg",scene);cubeMaterial.diffuseTexture.uScale=texCubeScale;cubeMaterial.diffuseTexture.vScale=texCubeScale;cubeMaterial.bumpTexture=new BABYLON.Texture("https://dl.dropboxusercontent.com/s/t4xbe49r1hnymdg/154_norm.jpg",scene);cubeMaterial.bumpTexture.uScale=texCubeScale;cubeMaterial.bumpTexture.vScale=texCubeScale;cubeMaterial.specularColor=new BABYLON.Color3(.3,.3,.3);cube.material=cubeMaterial;var sphere=BABYLON.MeshBuilder.CreateSphere("sphere1",{diameter:1},scene);sphere.position.y=.5;shapes.sphere=sphere;previousShape="sphere";var sphereMaterial=new BABYLON.StandardMaterial("sphereMaterial",scene);var texSphereScale=1;sphereMaterial.diffuseTexture=new BABYLON.Texture("https://dl.dropboxusercontent.com/s/pjul4mif4kqfpo0/167.jpg",scene);sphereMaterial.diffuseTexture.uScale=texSphereScale;sphereMaterial.diffuseTexture.vScale=texSphereScale;sphereMaterial.bumpTexture=new BABYLON.Texture("https://dl.dropboxusercontent.com/s/775ddnv0hhj7gcx/167_norm.jpg?dl=0",scene);sphereMaterial.bumpTexture.uScale=texSphereScale;sphereMaterial.bumpTexture.vScale=texSphereScale;sphereMaterial.specularColor=new BABYLON.Color3(.3,.3,.3);sphere.material=sphereMaterial;var cylinder=BABYLON.MeshBuilder.CreateCylinder("cylinder1",{diameterTop:.5,diameterBottom:.5,height:1},scene);cylinder.position.y=.5;shapes.cylinder=cylinder;cylinder.setEnabled(0);var cylinderMaterial=new BABYLON.StandardMaterial("cylinderMaterial",scene);var texCylinderScale=1;cylinderMaterial.diffuseTexture=new BABYLON.Texture("https://dl.dropboxusercontent.com/s/x3o1bawspbv0brf/191.jpg",scene);cylinderMaterial.diffuseTexture.uScale=texCylinderScale;cylinderMaterial.diffuseTexture.vScale=texCylinderScale;cylinderMaterial.bumpTexture=new BABYLON.Texture("https://dl.dropboxusercontent.com/s/39axbqz2heaksjh/191_norm.jpg",scene);cylinderMaterial.bumpTexture.uScale=texCylinderScale;cylinderMaterial.bumpTexture.vScale=texCylinderScale;cylinderMaterial.specularColor=new BABYLON.Color3(.3,.3,.3);cylinder.material=cylinderMaterial;var ground=BABYLON.Mesh.CreateGround("ground1",6,6,2,scene);var groundMaterial=new BABYLON.StandardMaterial("groundMaterial",scene);groundMaterial.diffuseTexture=new BABYLON.Texture("https://dl.dropboxusercontent.com/s/5c4smljbpc09pw2/156.jpg",scene);var scale=4;groundMaterial.diffuseTexture.uScale=scale;groundMaterial.diffuseTexture.vScale=scale;groundMaterial.bumpTexture=new BABYLON.Texture("https://dl.dropboxusercontent.com/s/1zlbcwh37wxs8g7/156_norm.jpg",scene);groundMaterial.bumpTexture.uScale=scale;groundMaterial.bumpTexture.vScale=scale;groundMaterial.specularColor=new BABYLON.Color3(.2,.2,.2);ground.material=groundMaterial;var shadowGenerator=new BABYLON.ShadowGenerator(512,light2);shadowGenerator.getShadowMap().renderList.push(cube);shadowGenerator.getShadowMap().renderList.push(sphere);shadowGenerator.getShadowMap().renderList.push(cylinder);shadowGenerator.usePoissonSampling=true;shadowGenerator.bias=1e-5;ground.receiveShadows=true;var skybox=BABYLON.MeshBuilder.CreateBox("skybox",{size:1e3},scene);skybox.infiniteDistance=true;var skyboxMaterial=new BABYLON.StandardMaterial("skyboxMat",scene);skyboxMaterial.backFaceCulling=false;var files=["https://dl.dropboxusercontent.com/s/d6pb1vco30tb1qd/skybox_px.jpg","https://dl.dropboxusercontent.com/s/j8r319homxctq46/skybox_py.jpg","https://dl.dropboxusercontent.com/s/owtkos3hjayv819/skybox_pz.jpg","https://dl.dropboxusercontent.com/s/fn49xqtrz18h6vn/skybox_nx.jpg","https://dl.dropboxusercontent.com/s/jdtd2cgpe13930o/skybox_ny.jpg","https://dl.dropboxusercontent.com/s/shin4itwifrypl5/skybox_nz.jpg"];skyboxMaterial.reflectionTexture=BABYLON.CubeTexture.CreateFromImages(files,scene);skyboxMaterial.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE;skyboxMaterial.diffuseColor=new BABYLON.Color3(0,0,0);skyboxMaterial.specularColor=new BABYLON.Color3(0,0,0);skybox.material=skyboxMaterial;return scene}function setShape(name){shapes[previousShape].setEnabled(0);previousShape=name;shapes[name].setEnabled(1)}function animate(){engine.runRenderLoop(function(){scene.render()});window.addEventListener("resize",function(){engine.resize()})}return{initialize:initialize,setShape:setShape}}();