"use strict";function main(){Scene.Create("renderCanvas")}window.onload=main;"use strict";var Scene=function(){var _canvas=null;var _engine=null;var _scene=null;var _Create=function(canvasID){_canvas=document.getElementById(canvasID);_engine=new BABYLON.Engine(_canvas,true);document.addEventListener("contextmenu",function(event){event.preventDefault()},false);BABYLON.SceneLoader.Load("","./assets/models/plane.babylon",_engine,function(newScene){newScene.executeWhenReady(function(){_scene=newScene;var light=new BABYLON.PointLight("light1",new BABYLON.Vector3(0,1,0),_scene);var camera=new BABYLON.ArcRotateCamera("Camera",-Math.PI/2,0,5,BABYLON.Vector3.Zero(),_scene);camera.minZ=.1;camera.wheelPrecision=100;_scene.activeCamera=camera;camera.attachControl(_canvas,true);var mesh=_scene.meshes[0];var normalTexture=new BABYLON.Texture("./assets/textures/norm.png",_scene);var material=new BABYLON.StandardMaterial("planeMat",_scene);material.diffuseColor=new BABYLON.Color3(.596,.356,.164);material.invertNormalMapX=true;material.invertNormalMapY=true;material.bumpTexture=normalTexture;mesh.material=material;var skybox=BABYLON.MeshBuilder.CreateBox("skybox",{size:1e3},_scene);skybox.infiniteDistance=true;var skyboxMaterial=new BABYLON.StandardMaterial("skybox",_scene);skyboxMaterial.backFaceCulling=false;var files=["./assets/textures/skybox/skybox_px.jpg","./assets/textures/skybox/skybox_py.jpg","./assets/textures/skybox/skybox_pz.jpg","./assets/textures/skybox/skybox_nx.jpg","./assets/textures/skybox/skybox_ny.jpg","./assets/textures/skybox/skybox_nz.jpg"];skyboxMaterial.reflectionTexture=BABYLON.CubeTexture.CreateFromImages(files,_scene);skyboxMaterial.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE;skyboxMaterial.diffuseColor=new BABYLON.Color3(0,0,0);skyboxMaterial.specularColor=new BABYLON.Color3(0,0,0);skybox.material=skyboxMaterial;_Animate()})})};var _Animate=function(){_engine.runRenderLoop(function(){_scene.render()});window.addEventListener("resize",function(){_engine.resize()})};var mPublic={Create:_Create};return mPublic}();