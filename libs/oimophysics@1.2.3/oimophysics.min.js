/* OimoPhysics 1.2.2 (c) 2022 saharan, The MIT License */var pc="function"==typeof Object.create?Object.create:function($e){function Ab(){}Ab.prototype=$e;return new Ab},yk;if("function"==typeof Object.setPrototypeOf)yk=Object.setPrototypeOf;else{var zk;a:{var Tk={a:!0},Uk={};try{Uk.__proto__=Tk;zk=Uk.a;break a}catch($e){}zk=!1}yk=zk?function($e,Ab){$e.__proto__=Ab;if($e.__proto__!==Ab)throw new TypeError($e+" is not extensible");return $e}:null}var ql=yk;
function rl($e,Ab){$e.prototype=pc(Ab.prototype);$e.prototype.constructor=$e;if(ql)ql($e,Ab);else for(var Eh in Ab)if("prototype"!=Eh)if(Object.defineProperties){var qk=Object.getOwnPropertyDescriptor(Ab,Eh);qk&&Object.defineProperty($e,Eh,qk)}else $e[Eh]=Ab[Eh];$e.Si=Ab.prototype}
(function(){function $e(){this.position=new z;this.rotation=new ia;this.friction=ra.defaultFriction;this.restitution=ra.defaultRestitution;this.density=ra.defaultDensity;this.collisionGroup=ra.defaultCollisionGroup;this.collisionMask=ra.defaultCollisionMask;this.contactCallback=this.geometry=null}function Ab(a){this.uc=-1;this.ra=new Ob;this.za=new Ob;this.g=new Ob;var b=a.position;this.ra.F=b.x;this.ra.G=b.y;this.ra.H=b.z;b=a.rotation;this.ra.A=b.e00;this.ra.j=b.e01;this.ra.m=b.e02;this.ra.o=b.e10;
this.ra.v=b.e11;this.ra.s=b.e12;this.ra.u=b.e20;this.ra.l=b.e21;this.ra.B=b.e22;b=this.za;var e=this.ra;b.F=e.F;b.G=e.G;b.H=e.H;b.A=e.A;b.j=e.j;b.m=e.m;b.o=e.o;b.v=e.v;b.s=e.s;b.u=e.u;b.l=e.l;b.B=e.B;b=this.g;e=this.ra;b.F=e.F;b.G=e.G;b.H=e.H;b.A=e.A;b.j=e.j;b.m=e.m;b.o=e.o;b.v=e.v;b.s=e.s;b.u=e.u;b.l=e.l;b.B=e.B;this.kh=a.restitution;this.dh=a.friction;this.Qh=a.density;this.Tb=a.geometry;this.$g=a.collisionGroup;this.ah=a.collisionMask;this.ld=a.contactCallback;this.D=new Pb;this.Eb=null;this.qc=
new z}function Eh(){}function qk(){this.position=new z;this.rotation=new ia;this.linearVelocity=new z;this.angularVelocity=new z;this.type=0;this.autoSleep=!0;this.angularDamping=this.linearDamping=0}function J(a){this.Jb=this.vc=this.sa=this.U=null;this.nf=0;this.oc=this.Zb=null;this.Pd=0;this.fe=this.Od=null;this.Mf=0;var b=a.linearVelocity;this.ub=b.x;this.vb=b.y;this.wb=b.z;b=a.angularVelocity;this.xb=b.x;this.yb=b.y;this.zb=b.z;this.Lc=this.Kc=this.Jc=this.Rc=this.Qc=this.Pc=0;this.za=new Ob;
this.g=new Ob;b=a.position;this.za.F=b.x;this.za.G=b.y;this.za.H=b.z;b=a.rotation;this.za.A=b.e00;this.za.j=b.e01;this.za.m=b.e02;this.za.o=b.e10;this.za.v=b.e11;this.za.s=b.e12;this.za.u=b.e20;this.za.l=b.e21;this.za.B=b.e22;b=this.g;var e=this.za;b.F=e.F;b.G=e.G;b.H=e.H;b.A=e.A;b.j=e.j;b.m=e.m;b.o=e.o;b.v=e.v;b.s=e.s;b.u=e.u;b.l=e.l;b.B=e.B;this.Xb=a.type;this.Kb=0;this.Ob=!1;this.Oh=a.autoSleep;this.ja=this.ia=this.ha=this.ga=this.fa=this.ea=this.da=this.ca=this.ba=this.Ib=this.ob=this.nb=this.Ya=
this.Wa=this.Sa=this.Oa=this.Ma=this.qa=this.kb=this.jb=this.ib=this.hb=this.gb=this.fb=this.eb=this.cb=this.bb=this.aa=this.Y=this.W=this.V=this.M=this.I=this.C=this.i=this.h=this.Ab=this.Ce=0;this.gh=a.linearDamping;this.Xg=a.angularDamping;this.Gf=this.Ff=this.Ef=this.Kf=this.Jf=this.If=this.Fe=this.Ee=this.De=this.ag=this.$f=this.Zf=0;this.X=new z(1,1,1);this.Ke=!1;this.Hf=1;this.pc=null}function Vk(){this.mass=0;this.localInertia=new ia}function xd(a){var b=bd.call(this)||this;b.h=a;b.info=new Wk;
b.i=Array(ra.maxJacobianRows);a=0;for(var e=b.i.length;a<e;)b.i[a++]=new Xk;return b}function Nd(a){var b=bd.call(this)||this;b.i=a;b.info=new sl;b.h=Array(ra.maxManifoldPoints);a=0;for(var e=b.h.length;a<e;)b.h[a++]=new tl;return b}function Ak(a){this.h=a;this.C=Array(this.h);this.Ab=Array(this.h);this.Fg=Array(this.h);a=0;for(var b=this.h;a<b;){var e=a++;this.C[e]=Array(this.h);this.Ab[e]=Array(this.h);this.Fg[e]=Array(this.h);for(var d=0,c=this.h;d<c;){var f=d++;this.C[e][f]=0;this.Ab[e][f]=0;
this.Fg[e][f]=0}}this.i=1<<this.h;this.Zg=Array(this.i);this.Ph=Array(this.i);a=0;for(b=this.i;a<b;){e=a++;d=(e&85)+(e>>1&85);d=(d&51)+(d>>2&51);d=(d&15)+(d>>4&15);c=Array(d);for(f=0;f<d;){var h=f++;c[h]=Array(d);for(var k=0;k<d;)c[h][k++]=0}this.Zg[e]=!1;this.Ph[e]=c}}function yd(a){var b=bd.call(this)||this;b.h=a;b.info=new Wk;a=ra.maxJacobianRows;b.W=new Ak(a);b.i=new Yk(a);b.I=Array(a);for(var e=0,d=b.I.length;e<d;)b.I[e++]=new Xk;e=b.i.C.length;b.qa=new Zk(e);b.aa=new Zk(e);b.M=Array(a);b.V=
Array(a);b.C=Array(a);b.Y=Array(a);for(e=0;e<a;)d=e++,b.M[d]=0,b.V[d]=0,b.C[d]=0,b.Y[d]=0;return b}function Zk(a){this.C=a;this.h=Array(a);this.i=Array(a);for(var b=0;b<a;){var e=b++;this.h[e]=e}}function Yk(a){this.M=a;this.i=0;this.C=Array(1<<a);this.h=new ul(a)}function ul(a){this.size=a;this.Ic=0;this.Qf=Array(a);this.Sf=Array(a);this.Md=0;this.xf=Array(a)}function Bk(a){this.Qf=Array(a);this.xf=Array(a);this.Sf=Array(a);this.b=Array(a);this.Md=this.Ic=0}function Xk(){this.Je=this.mass=this.Zc=
this.Yc=this.Xc=this.Wc=this.Vc=this.Uc=this.ed=this.dd=this.cd=this.bd=this.ad=this.$c=0}function tl(){this.Ii=this.Hi=this.Gi=this.Fi=this.Ld=this.sh=this.rh=this.qh=this.ph=this.oh=this.nh=this.ni=this.mi=this.li=this.ki=this.ji=this.ii=this.Sg=this.Rg=this.Qg=this.Pg=this.Og=this.Ng=this.ui=this.ti=this.si=this.ri=this.pi=this.oi=this.Ue=this.Te=this.Se=this.Re=this.Qe=this.Pe=this.lg=this.kg=this.jg=this.ig=this.hg=this.gg=0}function Ck(){}function Sj(){var a=qf.call(this)||this;a.localAxis1=
new z(1,0,0);a.localAxis2=new z(1,0,0);a.springDamper1=new Fd;a.springDamper2=new Fd;a.limitMotor1=new te;a.limitMotor2=new te;return a}function cc(a){var b=za.call(this,a,Wg.UNIVERSAL)||this;var e=a.localAxis1;b.i=e.x;b.C=e.y;b.I=e.z;e=a.localAxis2;b.Rb=e.x;b.Sb=e.y;b.Wb=e.z;b.wh();b.qe=0;b.Df=0;b.re=0;b.hd=!1;b.jd=!1;b.wd=!1;b.tc=a.springDamper1.clone();b.yc=a.springDamper2.clone();b.Sh=a.limitMotor1.clone();b.Th=a.limitMotor2.clone();return b}function rf(){this.lowerLimit=1;this.motorForce=this.upperLimit=
0}function Fd(){this.dampingRatio=this.frequency=0;this.useSymplecticEuler=!1}function Tj(){var a=qf.call(this)||this;a.springDamper=new Fd;return a}function Zi(a){var b=za.call(this,a,0)||this;b.h=a.springDamper.clone();return b}function te(){this.lowerLimit=1;this.motorTorque=this.upperLimit=0}function Uj(){var a=qf.call(this)||this;a.localAxis1=new z(1,0,0);a.localAxis2=new z(1,0,0);a.springDamper=new Fd;a.limitMotor=new te;return a}function qc(a){var b=za.call(this,a,1)||this;var e=a.localAxis1;
b.i=e.x;b.C=e.y;b.I=e.z;e=a.localAxis2;b.V=e.x;b.W=e.y;b.Y=e.z;b.mg();b.Va=0;b.Fb=0;b.Gb=0;b.h=new Dk(b);b.Xa=a.springDamper.clone();b.cg=a.limitMotor.clone();return b}function Vj(){var a=qf.call(this)||this;a.localTwistAxis1=new z(1,0,0);a.localTwistAxis2=new z(1,0,0);a.localSwingAxis1=new z(0,1,0);a.twistSpringDamper=new Fd;a.swingSpringDamper=new Fd;a.twistLimitMotor=new te;a.maxSwingAngle1=3.14159265358979;a.maxSwingAngle2=3.14159265358979;return a}function Yb(a){var b=za.call(this,a,Wg.RAGDOLL)||
this;var e=a.localTwistAxis1;b.i=e.x;b.C=e.y;b.I=e.z;e=a.localSwingAxis1;b.Ya=e.x;b.nb=e.y;b.ob=e.z;e=a.localTwistAxis2;b.V=e.x;b.W=e.y;b.Y=e.z;b.xh();b.hd=a.twistSpringDamper.clone();b.Zh=a.twistLimitMotor.clone();b.gd=a.swingSpringDamper.clone();b.hh=a.maxSwingAngle1;b.ih=a.maxSwingAngle2;b.hh<ra.minRagdollMaxSwingAngle&&(b.hh=ra.minRagdollMaxSwingAngle);b.ih<ra.minRagdollMaxSwingAngle&&(b.ih=ra.minRagdollMaxSwingAngle);b.jd=new te;b.jd.lowerLimit=-1;b.jd.upperLimit=0;b.tc=0;b.Mg=0;b.yc=0;b.h=0;
b.Va=0;b.Xa=0;b.tb=0;b.Fb=0;b.Gb=0;return b}function Wj(){var a=qf.call(this)||this;a.localAxis1=new z(1,0,0);a.localAxis2=new z(1,0,0);a.limitMotor=new rf;a.springDamper=new Fd;return a}function rc(a){var b=za.call(this,a,Wg.PRISMATIC)||this;var e=a.localAxis1;b.i=e.x;b.C=e.y;b.I=e.z;e=a.localAxis2;b.V=e.x;b.W=e.y;b.Y=e.z;b.mg();b.h=new Dk(b);b.Gb=0;b.ac=0;b.bc=0;b.tb=0;b.Va=0;b.Xa=0;b.Fb=a.springDamper.clone();b.cg=a.limitMotor.clone();return b}function Wg(){}function Gf(a){this.Rh=a}function vl(){this.Hb=
this.Tc=this.Aa=0}function Xj(){var a=qf.call(this)||this;a.localBasis1=new ia;a.localBasis2=new ia;var b=[];b.push((new rf).h(0,0));b.push((new rf).h(0,0));b.push((new rf).h(0,0));a.translationalLimitMotors=b;b=[];b.push((new te).h(0,0));b.push((new te).h(0,0));b.push((new te).h(0,0));a.rotationalLimitMotors=b;a.translationalSpringDampers=[new Fd,new Fd,new Fd];a.rotationalSpringDampers=[new Fd,new Fd,new Fd];return a}function Pc(a){var b=za.call(this,a,Wg.GENERIC)||this;var e=a.localBasis1;0>e.e00*
(e.e11*e.e22-e.e12*e.e21)-e.e01*(e.e10*e.e22-e.e12*e.e20)+e.e02*(e.e10*e.e21-e.e11*e.e20)?e=!0:(e=a.localBasis2,e=0>e.e00*(e.e11*e.e22-e.e12*e.e21)-e.e01*(e.e10*e.e22-e.e12*e.e20)+e.e02*(e.e10*e.e21-e.e11*e.e20));e&&console.log("src/oimo/dynamics/constraint/joint/GenericJoint.hx:50:","[warning] joint basis must be right handed");var d=a.localBasis1;e=d.e00;var c=d.e01;var f=d.e02;var h=d.e10;var k=d.e11;var g=d.e12;var l=d.e20;var m=d.e21;d=d.e22;var n=a.localBasis2;var q=n.e00;var p=n.e01;var r=
n.e02;var t=n.e10;var x=n.e11;var v=n.e12;var B=n.e20;var H=n.e21;n=n.e22;b.i=e;b.C=h;b.I=l;b.Ya=c;b.nb=k;b.ob=m;b.Ib=f;b.Jb=g;b.Pb=d;b.V=q;b.W=t;b.Y=B;b.je=p;b.He=x;b.Ie=H;b.Rb=r;b.Sb=v;b.Wb=n;b.qe=0;b.Df=0;b.re=0;b.tc=0;b.vd=0;b.yc=0;b.hd=!1;b.jd=!1;b.wd=!1;b.Oe=Array(3);b.bc=Array(3);b.Ne=Array(3);b.ac=Array(3);b.Oe[0]=a.translationalLimitMotors[0].clone();b.Oe[1]=a.translationalLimitMotors[1].clone();b.Oe[2]=a.translationalLimitMotors[2].clone();b.bc[0]=a.translationalSpringDampers[0].clone();
b.bc[1]=a.translationalSpringDampers[1].clone();b.bc[2]=a.translationalSpringDampers[2].clone();b.Ne[0]=a.rotationalLimitMotors[0].clone();b.Ne[1]=a.rotationalLimitMotors[1].clone();b.Ne[2]=a.rotationalLimitMotors[2].clone();b.ac[0]=a.rotationalSpringDampers[0].clone();b.ac[1]=a.rotationalSpringDampers[1].clone();b.ac[2]=a.rotationalSpringDampers[2].clone();return b}function Yj(){var a=qf.call(this)||this;a.localAxis1=new z(1,0,0);a.localAxis2=new z(1,0,0);a.translationalLimitMotor=new rf;a.translationalSpringDamper=
new Fd;a.rotationalLimitMotor=new te;a.rotationalSpringDamper=new Fd;return a}function qf(){this.rigidBody2=this.rigidBody1=null;this.localAnchor1=new z;this.localAnchor2=new z;this.allowCollision=!1;this.solverType=ra.defaultJointConstraintSolverType;this.positionCorrectionAlgorithm=ra.defaultJointPositionCorrectionAlgorithm;this.breakTorque=this.breakForce=0}function dc(a){var b=za.call(this,a,2)||this;var e=a.localAxis1;b.i=e.x;b.C=e.y;b.I=e.z;e=a.localAxis2;b.V=e.x;b.W=e.y;b.Y=e.z;b.mg();b.Va=
0;b.tc=0;b.vd=0;b.Xa=0;b.ac=0;b.bc=0;b.h=new Dk(b);b.Fb=a.translationalSpringDamper.clone();b.Yh=a.translationalLimitMotor.clone();b.tb=a.rotationalSpringDamper.clone();b.Vh=a.rotationalLimitMotor.clone();return b}function za(a,b){this.Bb=new Gf(this);this.Cb=new Gf(this);this.pf=ra.defaultJointPositionCorrectionAlgorithm;this.Xb=b;this.pc=null;this.J=a.rigidBody1;this.K=a.rigidBody2;this.Nh=a.allowCollision;this.rf=a.breakForce;this.sf=a.breakTorque;switch(a.solverType){case 0:this.mh=new xd(this);
break;case 1:this.mh=new yd(this)}b=a.localAnchor1;this.tf=b.x;this.uf=b.y;this.vf=b.z;a=a.localAnchor2;this.wf=a.x;this.yf=a.y;this.zf=a.z;this.Wb=this.Sb=this.Rb=this.Ie=this.He=this.je=this.Y=this.W=this.V=this.Pb=this.Jb=this.Ib=this.ob=this.nb=this.Ya=this.I=this.C=this.i=this.pe=this.oe=this.ne=this.me=this.le=this.ke=this.Wa=this.Sa=this.Oa=this.Ma=this.qa=this.aa=0;this.M=Array(ra.maxJacobianRows);a=0;for(b=ra.maxJacobianRows;a<b;)this.M[a++]=new vl}function Dk(a){this.h=a;this.qa=this.aa=
this.Y=this.W=this.V=this.M=this.I=this.C=this.i=0}function wl(){this.Ea=new Zj;this.Db=this.motorSpeed=this.Pa=this.Qa=this.Ua=this.Na=0;this.Aa=null}function Wk(){this.Zd=this.Yd=null;this.La=0;this.rows=Array(ra.maxJacobianRows);for(var a=0,b=this.rows.length;a<b;)this.rows[a++]=new wl}function xl(){this.Ve=new Zj;this.Ug=new Zj;this.Tg=new Zj;this.friction=this.Ua=this.Na=0;this.Aa=null}function sl(){this.Zd=this.Yd=null;this.La=0;this.rows=Array(ra.maxManifoldPoints);for(var a=0,b=this.rows.length;a<
b;)this.rows[a++]=new xl}function Zj(){this.sc=this.pa=this.oa=this.na=this.ma=this.la=this.ka=this.Ha=this.Ga=this.Fa=this.Da=this.Ca=this.Ba=0}function $i(a){this.Ra=a;this.h=0;this.i=Array(ra.maxManifoldPoints);a=0;for(var b=ra.maxManifoldPoints;a<b;)this.i[a++]=new Qc}function Qc(){this.zc=this.td=this.sd=this.rd=this.qd=this.pd=this.od=this.mc=this.lc=this.kc=this.Nb=this.Mb=this.Lb=this.Be=this.Ae=this.ze=this.ye=this.xe=this.we=0;this.Ad=new $k;this.ve=this.Xd=!1;this.uc=-1}function nd(){this.Bd=
this.Dg=this.Cg=this.Bg=this.Ig=this.Hg=this.Gg=this.mf=this.lf=this.kf=0;this.rc=Array(ra.maxManifoldPoints);for(var a=0,b=ra.maxManifoldPoints;a<b;)this.rc[a++]=new Qc}function $k(){this.ie=this.he=this.ge=this.Hb=this.wc=this.xc=this.Hc=0}function af(a){this.mh=new Nd(this);this.Ra=a}function Fh(){}function bd(){this.K=this.J=null;this.Ke=!1}function ii(){}function al(){this.basisColorZ=new z(0,0,1);this.basisColorY=new z(0,1,0);this.basisColorX=new z(1,0,0);this.basisLength=.5;this.jointRotationalConstraintRadius=
.3;this.jointErrorColor=new z(1,.1,.1);this.jointLineColor=new z(.8,.8,.8);this.contactNormalLength=this.contactTangentLength=this.contactBinormalLength=.5;this.contactBinormalColor=new z(.2,.2,1);this.contactTangentColor=new z(.1,.8,.1);this.contactNormalColor=new z(1,.1,.1);this.disabledContactColor=new z(.5,.1,.1);this.newContactColor=new z(1,1,.1);this.contactColor4=new z(.8,.1,1);this.contactColor3=new z(.1,.8,.6);this.contactColor2=new z(1,.6,.1);this.contactColor=new z(1,.1,.1);this.pairColor=
new z(1,1,.1);this.bvhNodeColor=new z(.4,.4,.4);this.aabbColor=new z(1,.1,.1);this.kinematicShapeColor=new z(1,.5,.1);this.staticShapeColor=new z(.7,.7,.7);this.sleepingShapeColor2=new z(.2,.8,.5);this.sleepingShapeColor1=new z(.3,.3,.8);this.sleepyShapeColor2=new z(.6,.8,.3);this.sleepyShapeColor1=new z(.5,.25,.6);this.shapeColor2=new z(1,.8,.1);this.shapeColor1=new z(.7,.2,.4)}function Zf(){this.h=new jd;this.wireframe=!1;this.drawShapes=!0;this.drawBvh=!1;this.drawBvhMinLevel=0;this.drawBvhMaxLevel=
65536;this.drawContacts=this.drawPairs=this.drawBases=this.drawAabbs=!1;this.drawJoints=!0;this.drawJointLimits=!1;this.W=Array(5);this.M=Array(5);this.Y=Array(5);for(var a=0;5>a;){var b=a++,e=0==b||4==b?1:8;this.W[b]=Array(e);this.M[b]=Array(e);this.Y[b]=Array(e);for(e=0;8>e;){var d=e++,c=.7853981633974475*b,f=.7853981633974475*d;this.W[b][d]=new z(Math.sin(c)*Math.cos(f),Math.cos(c),-Math.sin(c)*Math.sin(f));this.M[b][d]=new z;this.Y[b][d]=new z}}this.V=Array(8);this.aa=Array(8);this.C=Array(8);
this.i=Array(8);this.I=Array(8);for(a=0;8>a;)b=a++,this.V[b]=new z(Math.cos(.7853981633974475*b),0,-Math.sin(.7853981633974475*b)),this.aa[b]=new z(Math.cos(.7853981633974475*(b+.5)),0,-Math.sin(.7853981633974475*(b+.5))),this.C[b]=new z,this.i[b]=new z,this.I[b]=new z;this.style=new al}function aj(){this.position=new z;this.normal=new z;this.shape=null;this.fraction=1;this.position.$();this.normal.$();this.hit=!1;return this}function Ek(){}function ak(){}function bl(){}function Fk(){this.D=new Pb;
this.h=null;return this}function Gk(){this.C=new rk;this.h=new Ob;this.I=new z;this.$=new z;this.M=this.i=null;return this}function Hk(){this.C=new rk;this.h=new z;this.end=new z;this.i=null;return this}function tb(a,b){null==a&&(a=2);switch(a){case 1:this.nc=new Od;break;case 2:this.nc=new cd}this.Xf=new rg(this.nc);null==b&&(b=new z(0,-9.80665,0));this.Jb=new z(b.x,b.y,b.z);this.Ma=this.Y=this.Oa=this.I=null;this.Ya=this.Pb=this.nf=this.Wa=0;this.Sb=10;this.Rb=5;this.nb=new Hk;this.Sa=new Gk;this.ob=
new Fk;this.M=new Mj;this.i=Array(ra.islandInitialConstraintArraySize);this.W=Array(ra.islandInitialRigidBodyArraySize);this.aa=new cl;this.h=new jd;this.Ci=0}function cl(){this.invDt=this.dt=0;this.dtRatio=1}function Mj(){this.C=Array(ra.islandInitialRigidBodyArraySize);this.I=Array(ra.islandInitialConstraintArraySize);this.Y=Array(ra.islandInitialConstraintArraySize);this.W=Array(ra.islandInitialConstraintArraySize);this.M=this.V=this.i=this.h=0}function rg(a){this.nc=a;this.C=new bk;this.pg=0}
function Hf(){this.Fc=this.zd=this.U=this.sa=null}function Jd(){this.sa=this.U=null;this.Bb=new Hf;this.Cb=new Hf;this.Yf=this.K=this.J=this.jc=this.ic=null;this.Eg=new dl;this.W=new bj;this.lh=this.fh=!1;this.Ra=new nd;this.h=new $i(this.Ra);this.ee=new af(this.Ra);this.xd=!1}function Gb(a,b,e,d){null==d&&(d=1);null==e&&(e=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=e;this.w=d;Gb.numCreations++}function jd(){this.i=Array(256);this.h=0;this.C=Array(256);this.I=0;this.W=Array(256);this.Y=
0;this.M=Array(256);this.V=0}function Sb(){}function Ha(a,b,e,d,c,f,h,k,g,l,m,n,q,p,r,t){null==t&&(t=1);null==r&&(r=0);null==p&&(p=0);null==q&&(q=0);null==n&&(n=0);null==m&&(m=1);null==l&&(l=0);null==g&&(g=0);null==k&&(k=0);null==h&&(h=0);null==f&&(f=1);null==c&&(c=0);null==d&&(d=0);null==e&&(e=0);null==b&&(b=0);null==a&&(a=1);this.e00=a;this.e01=b;this.e02=e;this.e03=d;this.e10=c;this.e11=f;this.e12=h;this.e13=k;this.e20=g;this.e21=l;this.e22=m;this.e23=n;this.e30=q;this.e31=p;this.e32=r;this.e33=
t;Ha.numCreations++}function ia(a,b,e,d,c,f,h,k,g){null==g&&(g=1);null==k&&(k=0);null==h&&(h=0);null==f&&(f=0);null==c&&(c=1);null==d&&(d=0);null==e&&(e=0);null==b&&(b=0);null==a&&(a=1);this.e00=a;this.e01=b;this.e02=e;this.e10=d;this.e11=c;this.e12=f;this.e20=h;this.e21=k;this.e22=g;ia.numCreations++}function Gh(){}function Xg(){}function yc(){this.i=Array(4);this.mb=Array(4);this.sb=Array(4);this.qa=Array(3);this.qa[0]=new z(1,0,0);this.qa[1]=new z(0,1,0);this.qa[2]=new z(0,0,1);this.bc=new z;this.Sc=
new z;this.Fb=new z;this.tb=new z;this.ac=new Ob;this.i[0]=new z;this.mb[0]=new z;this.sb[0]=new z;this.i[1]=new z;this.mb[1]=new z;this.sb[1]=new z;this.i[2]=new z;this.mb[2]=new z;this.sb[2]=new z;this.i[3]=new z;this.mb[3]=new z;this.sb[3]=new z;this.C=new z;this.aa=new z;this.closestPoint1=new z;this.closestPoint2=new z;this.Y=new ck}function ra(){}function Ob(){this.H=this.G=this.F=0;this.A=1;this.o=this.m=this.j=0;this.v=1;this.l=this.u=this.s=0;this.B=1}function z(a,b,e){null==e&&(e=0);null==
b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=e;z.numCreations++}function el(){this.vi=new z}function Aj(){this.kd=new z;this.mb=new z;this.sb=new z}function Hh(){this.id=++Hh.h;this.sa=this.U=null;this.jh=new z;this.Xh=this.bh=0;this.Lg=!1;this.Ja=Array(3);this.Ub=Array(3);this.Vb=Array(3);this.ng=new z;this.Ac=Array(3);this.Ac[0]=1;this.Ac[1]=2;this.Ac[2]=0}function ck(){this.Ja=Array(ra.maxEPAVertices);this.W=new z;this.Vd=0;this.i=this.C=null;this.V=0;this.M=this.I=null}function sk(){this.C=
!1;return this}function dk(a){this.C=a;return this}function ek(a){this.C=a;return this}function tk(){this.C=!1;return this}function uk(){this.C=!1;return this}function dl(){}function Ik(){this.C=this.I=this.M=this.w=0;this.i=Array(8);this.h=Array(8);this.i[0]=new sf;this.h[0]=new sf;this.i[1]=new sf;this.h[1]=new sf;this.i[2]=new sf;this.h[2]=new sf;this.i[3]=new sf;this.h[3]=new sf;this.i[4]=new sf;this.h[4]=new sf;this.i[5]=new sf;this.h[5]=new sf;this.i[6]=new sf;this.h[6]=new sf;this.i[7]=new sf;
this.h[7]=new sf}function sf(){this.ab=this.$a=this.Za=this.y=this.x=0}function vk(){this.C=!1;this.i=new Ik;return this}function sg(a){this.C=a}function fl(){this.position1=new z;this.position2=new z;this.id=this.depth=0}function bj(){this.numPoints=0;this.normal=new z;this.points=Array(ra.maxManifoldPoints);this.incremental=!1;for(var a=0,b=ra.maxManifoldPoints;a<b;)this.points[a++]=new fl}function bk(){this.h=Array(8);this.h[0]=Array(8);this.h[1]=Array(8);this.h[2]=Array(8);this.h[3]=Array(8);
this.h[4]=Array(8);this.h[5]=Array(8);var a=new tk;this.h[0][0]=new sk;this.h[0][1]=new ek(!1);this.h[0][2]=a;this.h[0][3]=a;this.h[0][4]=new dk(!1);this.h[0][5]=a;this.h[1][0]=new ek(!0);this.h[1][1]=new vk;this.h[1][2]=a;this.h[1][3]=a;this.h[1][4]=a;this.h[1][5]=a;this.h[2][0]=a;this.h[2][1]=a;this.h[2][2]=a;this.h[2][3]=a;this.h[2][4]=a;this.h[2][5]=a;this.h[3][0]=a;this.h[3][1]=a;this.h[3][2]=a;this.h[3][3]=a;this.h[3][4]=a;this.h[3][5]=a;this.h[4][0]=new dk(!0);this.h[4][1]=a;this.h[4][2]=a;
this.h[4][3]=a;this.h[4][4]=new uk;this.h[4][5]=a;this.h[5][0]=a;this.h[5][1]=a;this.h[5][2]=a;this.h[5][3]=a;this.h[5][4]=a;this.h[5][5]=a}function kh(a){var b=kd.call(this,0)||this;b.lb=a;b.fc=b.lb;b.Wd();return b}function rk(){this.position=new z;this.normal=new z;this.fraction=0}function Bj(){}function $f(a,b){var e=kd.call(this,2)||this;e.lb=a;e.Qb=b;e.Wd();return e}function Ih(a){var b=kd.call(this,5)||this;b.Vd=a.length;b.Ja=Array(b.Vd);b.qf=Array(b.Vd);for(var e=0,d=b.Vd;e<d;){var c=e++;b.Ja[c]=
a[c];b.qf[c]=new z}b.Ma=!0;b.Wd();return b}function ag(a,b){var e=kd.call(this,3)||this;e.lb=a;e.Qb=b;e.C=a/Math.sqrt(a*a+4*b*b);e.i=2*b/Math.sqrt(a*a+4*b*b);e.Wd();return e}function bg(a,b){var e=kd.call(this,4)||this;e.lb=a;e.Qb=b;e.fc=e.lb;e.Wd();return e}function cg(a){var b=kd.call(this,1)||this;b.Sd=a.x;b.Td=a.y;b.Ud=a.z;b.i=a.x;b.C=0;b.I=0;b.M=0;b.V=a.y;b.W=0;b.Y=0;b.aa=0;b.qa=a.z;b.Wd();a=a.x<a.y?a.z<a.x?a.z:a.x:a.z<a.y?a.z:a.y;b.fc>.2*a&&(b.fc=.2*a);return b}function Pb(){this.va=this.ua=
this.ta=this.ya=this.xa=this.wa=0}function Jk(){this.$b=null;this.M=0;this.I=new gl;this.i=this.C=this.h=null;this.ng=Array(1024)}function gl(){this.Yg=!1}function hl(a,b){a=tg.call(this,a,b)||this;a.bg=null;a.Lf=!1;return a}function wk(){this.Le=this.Me=this.U=null;this.L=Array(2);this.Ta=0;this.Ka=null;this.Z=0;this.Eb=null;this.P=this.O=this.N=this.T=this.S=this.R=0}function cd(){var a=tc.call(this,2)||this;a.eh=!0;a.h=new Jk;a.I=Array(1024);a.M=0;return a}function Od(){var a=tc.call(this,1)||
this;a.eh=!1;return a}function Yg(){this.Of=this.Nf=null}function tg(a,b){this.userData=a;this.uc=b;this.U=this.sa=null;this.P=this.O=this.N=this.T=this.S=this.R=0}function Kk(){}function Cj(){}function Lk(){var a=kd.call(this,-1)||this;a.min=new z;a.max=new z;return a}function xk(){return kd.call(this,-1)||this}function kd(a){a=tf.call(this,a)||this;a.fc=ra.defaultGJKMargin;a.Ma=!1;return a}function tf(a){this.Xb=a;this.Ge=0}function tc(a){this.Xb=a;this.qa=0;this.Cd=this.C=this.i=null;this.eh=!1;
this.Ma=0;this.V=null;this.ob=0;this.Oa=new xk;this.D=new Lk;this.nb=new Ob;this.$=new z;new rk}function il(){}function Jh(){}Jh.h=function(){return Date.now()};il.h=function(){window.OIMO={};window.OIMO.BroadPhase=tc;tc.prototype.createProxy=tc.prototype.eg;tc.prototype.destroyProxy=tc.prototype.fg;tc.prototype.moveProxy=tc.prototype.fd;tc.prototype.isOverlapping=tc.prototype.Sb;tc.prototype.collectPairs=tc.prototype.qg;tc.prototype.getProxyPairList=tc.prototype.Ib;tc.prototype.isIncremental=tc.prototype.Rb;
tc.prototype.getTestCount=tc.prototype.Jb;tc.prototype.rayCast=tc.prototype.yd;tc.prototype.convexCast=tc.prototype.aa;tc.prototype.aabbTest=tc.prototype.Y;window.OIMO.Geometry=tf;tf.prototype.getType=tf.prototype.Oa;tf.prototype.getVolume=tf.prototype.nb;tf.prototype.rayCast=tf.prototype.yd;window.OIMO.ConvexGeometry=kd;kd.prototype.getGjkMergin=kd.prototype.Sa;kd.prototype.setGjkMergin=kd.prototype.ob;kd.prototype.computeLocalSupportingVertex=kd.prototype.ud;kd.prototype.rayCast=kd.prototype.yd;
window.OIMO.BroadPhaseProxyCallback=Cj;Cj.prototype.process=Cj.prototype.process;window.OIMO.BroadPhaseType=Kk;window.OIMO.Proxy=tg;tg.prototype.getId=tg.prototype.C;tg.prototype.getFatAabb=tg.prototype.h;tg.prototype.getFatAabbTo=tg.prototype.i;window.OIMO.ProxyPair=Yg;Yg.prototype.getProxy1=Yg.prototype.i;Yg.prototype.getProxy2=Yg.prototype.C;Yg.prototype.getNext=Yg.prototype.h;window.OIMO.BruteForceBroadPhase=Od;Od.prototype.createProxy=Od.prototype.eg;Od.prototype.destroyProxy=Od.prototype.fg;
Od.prototype.moveProxy=Od.prototype.fd;Od.prototype.collectPairs=Od.prototype.qg;Od.prototype.rayCast=Od.prototype.yd;Od.prototype.convexCast=Od.prototype.aa;Od.prototype.aabbTest=Od.prototype.Y;window.OIMO.BvhBroadPhase=cd;cd.prototype.createProxy=cd.prototype.eg;cd.prototype.destroyProxy=cd.prototype.fg;cd.prototype.moveProxy=cd.prototype.fd;cd.prototype.collectPairs=cd.prototype.qg;cd.prototype.rayCast=cd.prototype.yd;cd.prototype.convexCast=cd.prototype.aa;cd.prototype.aabbTest=cd.prototype.Y;
cd.prototype.getTreeBalance=cd.prototype.Pb;window.OIMO.Aabb=Pb;Pb.prototype.init=Pb.prototype.Ia;Pb.prototype.getMin=Pb.prototype.Ma;Pb.prototype.getMinTo=Pb.prototype.Oa;Pb.prototype.setMin=Pb.prototype.Ya;Pb.prototype.getMax=Pb.prototype.aa;Pb.prototype.getMaxTo=Pb.prototype.qa;Pb.prototype.setMax=Pb.prototype.Wa;Pb.prototype.getCenter=Pb.prototype.C;Pb.prototype.getCenterTo=Pb.prototype.I;Pb.prototype.getExtents=Pb.prototype.M;Pb.prototype.getExtentsTo=Pb.prototype.V;Pb.prototype.combine=Pb.prototype.h;
Pb.prototype.combined=Pb.prototype.i;Pb.prototype.overlap=Pb.prototype.Sa;Pb.prototype.getIntersection=Pb.prototype.W;Pb.prototype.getIntersectionTo=Pb.prototype.Y;Pb.prototype.copyFrom=Pb.prototype.Dd;Pb.prototype.clone=Pb.prototype.clone;window.OIMO.BoxGeometry=cg;cg.prototype.getHalfExtents=cg.prototype.Wa;cg.prototype.getHalfExtentsTo=cg.prototype.Ya;cg.prototype.computeLocalSupportingVertex=cg.prototype.ud;window.OIMO.CapsuleGeometry=bg;bg.prototype.getRadius=bg.prototype.C;bg.prototype.getHalfHeight=
bg.prototype.i;bg.prototype.computeLocalSupportingVertex=bg.prototype.ud;window.OIMO.ConeGeometry=ag;ag.prototype.getRadius=ag.prototype.M;ag.prototype.getHalfHeight=ag.prototype.I;ag.prototype.computeLocalSupportingVertex=ag.prototype.ud;window.OIMO.ConvexHullGeometry=Ih;Ih.prototype.getVertices=Ih.prototype.i;Ih.prototype.computeLocalSupportingVertex=Ih.prototype.ud;window.OIMO.CylinderGeometry=$f;$f.prototype.getRadius=$f.prototype.C;$f.prototype.getHalfHeight=$f.prototype.i;$f.prototype.computeLocalSupportingVertex=
$f.prototype.ud;window.OIMO.GeometryType=Bj;window.OIMO.RayCastHit=rk;window.OIMO.SphereGeometry=kh;kh.prototype.getRadius=kh.prototype.i;kh.prototype.computeLocalSupportingVertex=kh.prototype.ud;window.OIMO.CollisionMatrix=bk;bk.prototype.getDetector=bk.prototype.i;window.OIMO.DetectorResult=bj;bj.prototype.getMaxDepth=bj.prototype.h;bj.prototype.clear=bj.prototype.clear;window.OIMO.DetectorResultPoint=fl;window.OIMO.Detector=sg;sg.prototype.detect=sg.prototype.Ei;window.OIMO.BoxBoxDetector=vk;window.OIMO.CapsuleCapsuleDetector=
uk;window.OIMO.GjkEpaDetector=tk;window.OIMO.SphereBoxDetector=ek;window.OIMO.SphereCapsuleDetector=dk;window.OIMO.SphereSphereDetector=sk;window.OIMO.Vec3=z;z.prototype.init=z.prototype.Ia;z.prototype.zero=z.prototype.$;z.prototype.add=z.prototype.add;z.prototype.add3=z.prototype.aa;z.prototype.addScaled=z.prototype.Ma;z.prototype.sub=z.prototype.sub;z.prototype.sub3=z.prototype.Xa;z.prototype.scale=z.prototype.V;z.prototype.scale3=z.prototype.Wb;z.prototype.dot=z.prototype.i;z.prototype.cross=z.prototype.Sa;
z.prototype.addEq=z.prototype.h;z.prototype.add3Eq=z.prototype.qa;z.prototype.addScaledEq=z.prototype.Oa;z.prototype.subEq=z.prototype.Y;z.prototype.sub3Eq=z.prototype.tb;z.prototype.scaleEq=z.prototype.W;z.prototype.scale3Eq=z.prototype.Va;z.prototype.crossEq=z.prototype.Wa;z.prototype.mulMat3=z.prototype.Ya;z.prototype.mulMat4=z.prototype.ob;z.prototype.mulTransform=z.prototype.Jb;z.prototype.mulMat3Eq=z.prototype.nb;z.prototype.mulMat4Eq=z.prototype.Ib;z.prototype.mulTransformEq=z.prototype.Pb;
z.prototype.length=z.prototype.length;z.prototype.lengthSq=z.prototype.C;z.prototype.normalized=z.prototype.M;z.prototype.normalize=z.prototype.I;z.prototype.negate=z.prototype.Rb;z.prototype.negateEq=z.prototype.Sb;z.prototype.copyFrom=z.prototype.Dd;z.prototype.clone=z.prototype.clone;z.prototype.toString=z.prototype.toString;window.OIMO.Transform=Ob;Ob.prototype.identity=Ob.prototype.W;Ob.prototype.getPosition=Ob.prototype.C;Ob.prototype.getPositionTo=Ob.prototype.I;Ob.prototype.setPosition=Ob.prototype.Ma;
Ob.prototype.translate=Ob.prototype.Wa;Ob.prototype.getRotation=Ob.prototype.M;Ob.prototype.getRotationTo=Ob.prototype.V;Ob.prototype.setRotation=Ob.prototype.Oa;Ob.prototype.setRotationXyz=Ob.prototype.Sa;Ob.prototype.rotate=Ob.prototype.Y;Ob.prototype.rotateXyz=Ob.prototype.aa;Ob.prototype.getOrientation=Ob.prototype.h;Ob.prototype.getOrientationTo=Ob.prototype.i;Ob.prototype.setOrientation=Ob.prototype.qa;Ob.prototype.clone=Ob.prototype.clone;Ob.prototype.copyFrom=Ob.prototype.Dd;window.OIMO.Setting=
ra;window.OIMO.GjkEpa=yc;yc.prototype.computeClosestPoints=yc.prototype.Rb;yc.prototype.computeDistance=yc.prototype.Wb;yc.prototype.convexCast=yc.prototype.nb;yc.prototype.rayCast=yc.prototype.yd;yc.getInstance=yc.h;window.OIMO.GjkEpaResultState=Xg;window.OIMO.SimplexUtil=Gh;Gh.projectOrigin2=Gh.h;Gh.projectOrigin3=Gh.i;Gh.projectOrigin4=Gh.C;window.OIMO.Mat3=ia;ia.prototype.init=ia.prototype.Ia;ia.prototype.identity=ia.prototype.W;ia.prototype.add=ia.prototype.add;ia.prototype.sub=ia.prototype.sub;
ia.prototype.scale=ia.prototype.nb;ia.prototype.mul=ia.prototype.qa;ia.prototype.addEq=ia.prototype.h;ia.prototype.subEq=ia.prototype.Ib;ia.prototype.scaleEq=ia.prototype.ob;ia.prototype.mulEq=ia.prototype.Ma;ia.prototype.prependScale=ia.prototype.Wa;ia.prototype.appendScale=ia.prototype.I;ia.prototype.prependRotation=ia.prototype.Oa;ia.prototype.appendRotation=ia.prototype.i;ia.prototype.prependScaleEq=ia.prototype.Ya;ia.prototype.appendScaleEq=ia.prototype.M;ia.prototype.prependRotationEq=ia.prototype.Sa;
ia.prototype.appendRotationEq=ia.prototype.C;ia.prototype.transpose=ia.prototype.Rb;ia.prototype.transposeEq=ia.prototype.Sb;ia.prototype.determinant=ia.prototype.V;ia.prototype.trace=ia.prototype.Pb;ia.prototype.inverse=ia.prototype.Y;ia.prototype.inverseEq=ia.prototype.aa;ia.prototype.toArray=ia.prototype.Jb;ia.prototype.copyFrom=ia.prototype.Dd;ia.prototype.clone=ia.prototype.clone;ia.prototype.fromQuat=ia.prototype.Xa;ia.prototype.toQuat=ia.prototype.Ed;ia.prototype.fromEulerXyz=ia.prototype.Va;
ia.prototype.toEulerXyz=ia.prototype.Sc;ia.prototype.getRow=ia.prototype.ac;ia.prototype.getCol=ia.prototype.Fb;ia.prototype.getRowTo=ia.prototype.bc;ia.prototype.getColTo=ia.prototype.Gb;ia.prototype.fromRows=ia.prototype.tb;ia.prototype.fromCols=ia.prototype.Wb;ia.prototype.toString=ia.prototype.toString;window.OIMO.Mat4=Ha;Ha.prototype.init=Ha.prototype.Ia;Ha.prototype.identity=Ha.prototype.Y;Ha.prototype.add=Ha.prototype.add;Ha.prototype.sub=Ha.prototype.sub;Ha.prototype.scale=Ha.prototype.Ib;
Ha.prototype.mul=Ha.prototype.Ma;Ha.prototype.addEq=Ha.prototype.h;Ha.prototype.subEq=Ha.prototype.Pb;Ha.prototype.scaleEq=Ha.prototype.Jb;Ha.prototype.mulEq=Ha.prototype.Oa;Ha.prototype.prependScale=Ha.prototype.nb;Ha.prototype.appendScale=Ha.prototype.I;Ha.prototype.prependRotation=Ha.prototype.Wa;Ha.prototype.appendRotation=Ha.prototype.i;Ha.prototype.prependTranslation=Ha.prototype.bc;Ha.prototype.appendTranslation=Ha.prototype.Xa;Ha.prototype.prependScaleEq=Ha.prototype.ob;Ha.prototype.appendScaleEq=
Ha.prototype.M;Ha.prototype.prependRotationEq=Ha.prototype.Ya;Ha.prototype.appendRotationEq=Ha.prototype.C;Ha.prototype.prependTranslationEq=Ha.prototype.Sc;Ha.prototype.appendTranslationEq=Ha.prototype.tb;Ha.prototype.transpose=Ha.prototype.Wb;Ha.prototype.transposeEq=Ha.prototype.Va;Ha.prototype.determinant=Ha.prototype.V;Ha.prototype.trace=Ha.prototype.Sb;Ha.prototype.inverse=Ha.prototype.aa;Ha.prototype.inverseEq=Ha.prototype.qa;Ha.prototype.lookAt=Ha.prototype.Gb;Ha.prototype.perspective=Ha.prototype.Sa;
Ha.prototype.ortho=Ha.prototype.ac;Ha.prototype.toArray=Ha.prototype.Rb;Ha.prototype.copyFrom=Ha.prototype.Dd;Ha.prototype.fromMat3=Ha.prototype.W;Ha.prototype.fromTransform=Ha.prototype.Fb;Ha.prototype.clone=Ha.prototype.clone;Ha.prototype.toString=Ha.prototype.toString;window.OIMO.MathUtil=Sb;Sb.abs=Sb.abs;Sb.sin=Sb.sin;Sb.cos=Sb.cos;Sb.tan=Sb.tan;Sb.asin=Sb.asin;Sb.acos=Sb.acos;Sb.atan=Sb.atan;Sb.safeAsin=Sb.W;Sb.safeAcos=Sb.V;Sb.atan2=Sb.atan2;Sb.sqrt=Sb.sqrt;Sb.clamp=Sb.h;Sb.rand=Sb.i;Sb.randIn=
Sb.C;Sb.randVec3In=Sb.M;Sb.randVec3=Sb.I;window.OIMO.Pool=jd;jd.prototype.vec3=jd.prototype.ob;jd.prototype.mat3=jd.prototype.Wa;jd.prototype.mat4=jd.prototype.Ya;jd.prototype.quat=jd.prototype.nb;jd.prototype.dispose=jd.prototype.aa;jd.prototype.disposeVec3=jd.prototype.Sa;jd.prototype.disposeMat3=jd.prototype.qa;jd.prototype.disposeMat4=jd.prototype.Ma;jd.prototype.disposeQuat=jd.prototype.Oa;window.OIMO.Quat=Gb;Gb.prototype.identity=Gb.prototype.I;Gb.prototype.init=Gb.prototype.Ia;Gb.prototype.add=
Gb.prototype.add;Gb.prototype.sub=Gb.prototype.sub;Gb.prototype.scale=Gb.prototype.Y;Gb.prototype.addEq=Gb.prototype.h;Gb.prototype.subEq=Gb.prototype.qa;Gb.prototype.scaleEq=Gb.prototype.aa;Gb.prototype.length=Gb.prototype.length;Gb.prototype.lengthSq=Gb.prototype.M;Gb.prototype.dot=Gb.prototype.i;Gb.prototype.normalized=Gb.prototype.W;Gb.prototype.normalize=Gb.prototype.V;Gb.prototype.setArc=Gb.prototype.Ma;Gb.prototype.slerp=Gb.prototype.Oa;Gb.prototype.copyFrom=Gb.prototype.Dd;Gb.prototype.clone=
Gb.prototype.clone;Gb.prototype.fromMat3=Gb.prototype.C;Gb.prototype.toMat3=Gb.prototype.Sa;Gb.prototype.toString=Gb.prototype.toString;window.OIMO.Contact=Jd;Jd.prototype.getShape1=Jd.prototype.M;Jd.prototype.getShape2=Jd.prototype.V;Jd.prototype.isTouching=Jd.prototype.th;Jd.prototype.getManifold=Jd.prototype.i;Jd.prototype.getContactConstraint=Jd.prototype.Y;Jd.prototype.getPrev=Jd.prototype.I;Jd.prototype.getNext=Jd.prototype.C;window.OIMO.ContactLink=Hf;Hf.prototype.getContact=Hf.prototype.h;
Hf.prototype.getOther=Hf.prototype.C;Hf.prototype.getPrev=Hf.prototype.I;Hf.prototype.getNext=Hf.prototype.i;window.OIMO.ContactManager=rg;rg.prototype.getNumContacts=rg.prototype.W;rg.prototype.getContactList=rg.prototype.V;window.OIMO.TimeStep=cl;window.OIMO.World=tb;tb.prototype.step=tb.prototype.Gb;tb.prototype.addRigidBody=tb.prototype.Ie;tb.prototype.removeRigidBody=tb.prototype.hd;tb.prototype.addJoint=tb.prototype.He;tb.prototype.removeJoint=tb.prototype.wi;tb.prototype.setDebugDraw=tb.prototype.mg;
tb.prototype.getDebugDraw=tb.prototype.vf;tb.prototype.debugDraw=tb.prototype.sf;tb.prototype.rayCast=tb.prototype.yd;tb.prototype.convexCast=tb.prototype.tb;tb.prototype.aabbTest=tb.prototype.Xa;tb.prototype.getRigidBodyList=tb.prototype.gd;tb.prototype.getJointList=tb.prototype.yf;tb.prototype.getBroadPhase=tb.prototype.tf;tb.prototype.getContactManager=tb.prototype.uf;tb.prototype.getNumRigidBodies=tb.prototype.Af;tb.prototype.getNumJoints=tb.prototype.tc;tb.prototype.getNumShapes=tb.prototype.Fb;
tb.prototype.getNumIslands=tb.prototype.zf;tb.prototype.getNumVelocityIterations=tb.prototype.yc;tb.prototype.setNumVelocityIterations=tb.prototype.Vg;tb.prototype.getNumPositionIterations=tb.prototype.vd;tb.prototype.setNumPositionIterations=tb.prototype.wd;tb.prototype.getGravity=tb.prototype.wf;tb.prototype.setGravity=tb.prototype.jd;window.OIMO.AabbTestCallback=bl;window.OIMO.ContactCallback=ak;window.OIMO.RayCastCallback=Ek;window.OIMO.RayCastClosest=aj;aj.prototype.clear=aj.prototype.clear;
aj.prototype.process=aj.prototype.process;window.OIMO.DebugDraw=Zf;window.OIMO.DebugDrawStyle=al;window.OIMO.Performance=ii;window.OIMO.ConstraintSolver=bd;bd.prototype.preSolveVelocity=bd.prototype.Rf;bd.prototype.warmStart=bd.prototype.Wf;bd.prototype.solveVelocity=bd.prototype.Vf;bd.prototype.postSolveVelocity=bd.prototype.rg;bd.prototype.preSolvePosition=bd.prototype.Bf;bd.prototype.solvePositionSplitImpulse=bd.prototype.Uf;bd.prototype.solvePositionNgs=bd.prototype.Tf;bd.prototype.postSolve=
bd.prototype.postSolve;window.OIMO.PositionCorrectionAlgorithm=Fh;window.OIMO.ContactConstraint=af;af.prototype.getShape1=af.prototype.i;af.prototype.getShape2=af.prototype.C;af.prototype.getManifold=af.prototype.h;af.prototype.isTouching=af.prototype.th;window.OIMO.Manifold=nd;nd.prototype.getNormal=nd.prototype.I;nd.prototype.getNormalTo=nd.prototype.M;nd.prototype.getTangent=nd.prototype.Y;nd.prototype.getTangentTo=nd.prototype.aa;nd.prototype.getBinormal=nd.prototype.i;nd.prototype.getBinormalTo=
nd.prototype.C;nd.prototype.getPoints=nd.prototype.W;nd.prototype.getNumPoints=nd.prototype.V;window.OIMO.ManifoldPoint=Qc;Qc.prototype.getPosition1=Qc.prototype.M;Qc.prototype.getPosition1To=Qc.prototype.V;Qc.prototype.getPosition2=Qc.prototype.W;Qc.prototype.getPosition2To=Qc.prototype.Y;Qc.prototype.getDepth=Qc.prototype.C;Qc.prototype.isWarmStarted=Qc.prototype.qa;Qc.prototype.getNormalImpulse=Qc.prototype.I;Qc.prototype.getTangentImpulse=Qc.prototype.aa;Qc.prototype.getBinormalImpulse=Qc.prototype.i;
Qc.prototype.isEnabled=Qc.prototype.h;window.OIMO.Joint=za;za.prototype.getRigidBody1=za.prototype.ei;za.prototype.getRigidBody2=za.prototype.fi;za.prototype.getType=za.prototype.yi;za.prototype.getAnchor1=za.prototype.zh;za.prototype.getAnchor2=za.prototype.Bh;za.prototype.getAnchor1To=za.prototype.Ah;za.prototype.getAnchor2To=za.prototype.Ch;za.prototype.getLocalAnchor1=za.prototype.vh;za.prototype.getLocalAnchor2=za.prototype.ai;za.prototype.getLocalAnchor1To=za.prototype.$h;za.prototype.getLocalAnchor2To=
za.prototype.bi;za.prototype.getBasis1=za.prototype.Hh;za.prototype.getBasis2=za.prototype.Jh;za.prototype.getBasis1To=za.prototype.Ih;za.prototype.getBasis2To=za.prototype.Kh;za.prototype.getAllowCollision=za.prototype.yh;za.prototype.setAllowCollision=za.prototype.Oi;za.prototype.getBreakForce=za.prototype.Lh;za.prototype.setBreakForce=za.prototype.Pi;za.prototype.getBreakTorque=za.prototype.Mh;za.prototype.setBreakTorque=za.prototype.Qi;za.prototype.getPositionCorrectionAlgorithm=za.prototype.di;
za.prototype.setPositionCorrectionAlgorithm=za.prototype.Ri;za.prototype.getAppliedForce=za.prototype.Dh;za.prototype.getAppliedForceTo=za.prototype.Eh;za.prototype.getAppliedTorque=za.prototype.Fh;za.prototype.getAppliedTorqueTo=za.prototype.Gh;za.prototype.getPrev=za.prototype.xi;za.prototype.getNext=za.prototype.Vg;window.OIMO.CylindricalJoint=dc;dc.prototype.getAxis1=dc.prototype.gd;dc.prototype.getAxis2=dc.prototype.jd;dc.prototype.getAxis1To=dc.prototype.hd;dc.prototype.getAxis2To=dc.prototype.wd;
dc.prototype.getLocalAxis1=dc.prototype.$d;dc.prototype.getLocalAxis2=dc.prototype.be;dc.prototype.getLocalAxis1To=dc.prototype.ae;dc.prototype.getLocalAxis2To=dc.prototype.Qd;dc.prototype.getTranslationalSpringDamper=dc.prototype.Ze;dc.prototype.getRotationalSpringDamper=dc.prototype.Xe;dc.prototype.getTranslationalLimitMotor=dc.prototype.Ye;dc.prototype.getRotationalLimitMotor=dc.prototype.We;dc.prototype.getAngle=dc.prototype.yc;dc.prototype.getTranslation=dc.prototype.Rd;window.OIMO.JointConfig=
qf;window.OIMO.CylindricalJointConfig=Yj;Yj.prototype.init=Yj.prototype.Ia;window.OIMO.GenericJoint=Pc;Pc.prototype.getAxisX=Pc.prototype.ae;Pc.prototype.getAxisY=Pc.prototype.be;Pc.prototype.getAxisZ=Pc.prototype.Qd;Pc.prototype.getTranslationalSpringDampers=Pc.prototype.Ye;Pc.prototype.getRotationalSpringDampers=Pc.prototype.We;Pc.prototype.getTranslationalLimitMotors=Pc.prototype.Xe;Pc.prototype.getRotationalLimitMotors=Pc.prototype.Rd;Pc.prototype.getAngles=Pc.prototype.$d;Pc.prototype.getTranslations=
Pc.prototype.Ze;window.OIMO.GenericJointConfig=Xj;Xj.prototype.init=Xj.prototype.Ia;window.OIMO.JointLink=Gf;Gf.prototype.getContact=Gf.prototype.h;Gf.prototype.getOther=Gf.prototype.C;Gf.prototype.getPrev=Gf.prototype.I;Gf.prototype.getNext=Gf.prototype.i;window.OIMO.JointType=Wg;window.OIMO.PrismaticJoint=rc;rc.prototype.getAxis1=rc.prototype.vd;rc.prototype.getAxis2=rc.prototype.gd;rc.prototype.getAxis1To=rc.prototype.yc;rc.prototype.getAxis2To=rc.prototype.hd;rc.prototype.getLocalAxis1=rc.prototype.wd;
rc.prototype.getLocalAxis2=rc.prototype.ae;rc.prototype.getLocalAxis1To=rc.prototype.$d;rc.prototype.getLocalAxis2To=rc.prototype.be;rc.prototype.getSpringDamper=rc.prototype.Qd;rc.prototype.getLimitMotor=rc.prototype.jd;rc.prototype.getTranslation=rc.prototype.Rd;window.OIMO.PrismaticJointConfig=Wj;Wj.prototype.init=Wj.prototype.Ia;window.OIMO.RagdollJoint=Yb;Yb.prototype.getAxis1=Yb.prototype.$d;Yb.prototype.getAxis2=Yb.prototype.be;Yb.prototype.getAxis1To=Yb.prototype.ae;Yb.prototype.getAxis2To=
Yb.prototype.Qd;Yb.prototype.getLocalAxis1=Yb.prototype.Rd;Yb.prototype.getLocalAxis2=Yb.prototype.Xe;Yb.prototype.getLocalAxis1To=Yb.prototype.We;Yb.prototype.getLocalAxis2To=Yb.prototype.Ye;Yb.prototype.getTwistSpringDamper=Yb.prototype.Ni;Yb.prototype.getTwistLimitMotor=Yb.prototype.hi;Yb.prototype.getSwingSpringDamper=Yb.prototype.ug;Yb.prototype.getSwingAxis=Yb.prototype.sg;Yb.prototype.getSwingAxisTo=Yb.prototype.tg;Yb.prototype.getSwingAngle=Yb.prototype.Ze;Yb.prototype.getTwistAngle=Yb.prototype.gi;
window.OIMO.RagdollJointConfig=Vj;Vj.prototype.init=Vj.prototype.Ia;window.OIMO.RevoluteJoint=qc;qc.prototype.getAxis1=qc.prototype.yc;qc.prototype.getAxis2=qc.prototype.hd;qc.prototype.getAxis1To=qc.prototype.gd;qc.prototype.getAxis2To=qc.prototype.jd;qc.prototype.getLocalAxis1=qc.prototype.$d;qc.prototype.getLocalAxis2=qc.prototype.be;qc.prototype.getLocalAxis1To=qc.prototype.ae;qc.prototype.getLocalAxis2To=qc.prototype.Qd;qc.prototype.getSpringDamper=qc.prototype.Rd;qc.prototype.getLimitMotor=
qc.prototype.wd;qc.prototype.getAngle=qc.prototype.tc;window.OIMO.RevoluteJointConfig=Uj;Uj.prototype.init=Uj.prototype.Ia;window.OIMO.RotationalLimitMotor=te;te.prototype.setLimits=te.prototype.h;te.prototype.setMotor=te.prototype.i;te.prototype.clone=te.prototype.clone;window.OIMO.SphericalJoint=Zi;Zi.prototype.getSpringDamper=Zi.prototype.Xa;window.OIMO.SphericalJointConfig=Tj;Tj.prototype.init=Tj.prototype.Ia;window.OIMO.SpringDamper=Fd;Fd.prototype.setSpring=Fd.prototype.h;Fd.prototype.setSymplecticEuler=
Fd.prototype.i;Fd.prototype.clone=Fd.prototype.clone;window.OIMO.TranslationalLimitMotor=rf;rf.prototype.setLimits=rf.prototype.h;rf.prototype.setMotor=rf.prototype.i;rf.prototype.clone=rf.prototype.clone;window.OIMO.UniversalJoint=cc;cc.prototype.getAxis1=cc.prototype.$d;cc.prototype.getAxis2=cc.prototype.be;cc.prototype.getAxis1To=cc.prototype.ae;cc.prototype.getAxis2To=cc.prototype.Qd;cc.prototype.getLocalAxis1=cc.prototype.Rd;cc.prototype.getLocalAxis2=cc.prototype.Xe;cc.prototype.getLocalAxis1To=
cc.prototype.We;cc.prototype.getLocalAxis2To=cc.prototype.Ye;cc.prototype.getSpringDamper1=cc.prototype.gi;cc.prototype.getSpringDamper2=cc.prototype.hi;cc.prototype.getLimitMotor1=cc.prototype.tg;cc.prototype.getLimitMotor2=cc.prototype.ug;cc.prototype.getAngle1=cc.prototype.Ze;cc.prototype.getAngle2=cc.prototype.sg;window.OIMO.UniversalJointConfig=Sj;Sj.prototype.init=Sj.prototype.Ia;window.OIMO.ConstraintSolverType=Ck;window.OIMO.DirectJointConstraintSolver=yd;yd.prototype.preSolveVelocity=yd.prototype.Rf;
yd.prototype.warmStart=yd.prototype.Wf;yd.prototype.solveVelocity=yd.prototype.Vf;yd.prototype.postSolveVelocity=yd.prototype.rg;yd.prototype.preSolvePosition=yd.prototype.Bf;yd.prototype.solvePositionSplitImpulse=yd.prototype.Uf;yd.prototype.solvePositionNgs=yd.prototype.Tf;yd.prototype.postSolve=yd.prototype.postSolve;window.OIMO.PgsContactConstraintSolver=Nd;Nd.prototype.preSolveVelocity=Nd.prototype.Rf;Nd.prototype.warmStart=Nd.prototype.Wf;Nd.prototype.solveVelocity=Nd.prototype.Vf;Nd.prototype.preSolvePosition=
Nd.prototype.Bf;Nd.prototype.solvePositionSplitImpulse=Nd.prototype.Uf;Nd.prototype.solvePositionNgs=Nd.prototype.Tf;Nd.prototype.postSolve=Nd.prototype.postSolve;window.OIMO.PgsJointConstraintSolver=xd;xd.prototype.preSolveVelocity=xd.prototype.Rf;xd.prototype.warmStart=xd.prototype.Wf;xd.prototype.solveVelocity=xd.prototype.Vf;xd.prototype.postSolveVelocity=xd.prototype.rg;xd.prototype.preSolvePosition=xd.prototype.Bf;xd.prototype.solvePositionSplitImpulse=xd.prototype.Uf;xd.prototype.solvePositionNgs=
xd.prototype.Tf;xd.prototype.postSolve=xd.prototype.postSolve;window.OIMO.MassData=Vk;window.OIMO.RigidBody=J;J.prototype.getPosition=J.prototype.Va;J.prototype.getPositionTo=J.prototype.Xa;J.prototype.setPosition=J.prototype.He;J.prototype.translate=J.prototype.tf;J.prototype.getRotation=J.prototype.Fb;J.prototype.getRotationTo=J.prototype.Gb;J.prototype.setRotation=J.prototype.Ie;J.prototype.setRotationXyz=J.prototype.rf;J.prototype.rotate=J.prototype.Ed;J.prototype.rotateXyz=J.prototype.ce;J.prototype.getOrientation=
J.prototype.Sb;J.prototype.getOrientationTo=J.prototype.Wb;J.prototype.setOrientation=J.prototype.je;J.prototype.getTransform=J.prototype.ac;J.prototype.getTransformTo=J.prototype.bc;J.prototype.setTransform=J.prototype.sf;J.prototype.getMass=J.prototype.zh;J.prototype.getLocalInertia=J.prototype.We;J.prototype.getLocalInertiaTo=J.prototype.Xe;J.prototype.getMassData=J.prototype.Ah;J.prototype.getMassDataTo=J.prototype.Bh;J.prototype.setMassData=J.prototype.ai;J.prototype.getRotationFactor=J.prototype.sg;
J.prototype.setRotationFactor=J.prototype.bi;J.prototype.getLinearVelocity=J.prototype.Qd;J.prototype.getLinearVelocityTo=J.prototype.Rd;J.prototype.setLinearVelocity=J.prototype.$h;J.prototype.getAngularVelocity=J.prototype.jd;J.prototype.getAngularVelocityTo=J.prototype.wd;J.prototype.setAngularVelocity=J.prototype.Mh;J.prototype.addLinearVelocity=J.prototype.vf;J.prototype.addAngularVelocity=J.prototype.uf;J.prototype.applyImpulse=J.prototype.vd;J.prototype.applyLinearImpulse=J.prototype.Af;J.prototype.applyAngularImpulse=
J.prototype.yf;J.prototype.applyForce=J.prototype.zf;J.prototype.applyForceToCenter=J.prototype.tc;J.prototype.applyTorque=J.prototype.yc;J.prototype.getLinearContactImpulse=J.prototype.$d;J.prototype.getLinearContactImpulseTo=J.prototype.ae;J.prototype.getAngularContactImpulse=J.prototype.gd;J.prototype.getAngularContactImpulseTo=J.prototype.hd;J.prototype.getGravityScale=J.prototype.xi;J.prototype.setGravityScale=J.prototype.ug;J.prototype.getLocalPoint=J.prototype.Ye;J.prototype.getLocalPointTo=
J.prototype.wh;J.prototype.getLocalVector=J.prototype.xh;J.prototype.getLocalVectorTo=J.prototype.yh;J.prototype.getWorldPoint=J.prototype.Fh;J.prototype.getWorldPointTo=J.prototype.Gh;J.prototype.getWorldVector=J.prototype.Hh;J.prototype.getWorldVectorTo=J.prototype.Ih;J.prototype.getNumShapes=J.prototype.Rb;J.prototype.getShapeList=J.prototype.Dh;J.prototype.getNumContactLinks=J.prototype.Ch;J.prototype.getContactLinkList=J.prototype.Vg;J.prototype.getNumJointLinks=J.prototype.Ze;J.prototype.getJointLinkList=
J.prototype.yi;J.prototype.addShape=J.prototype.wf;J.prototype.removeShape=J.prototype.Kh;J.prototype.getType=J.prototype.Sc;J.prototype.setType=J.prototype.di;J.prototype.wakeUp=J.prototype.fi;J.prototype.sleep=J.prototype.ei;J.prototype.isSleeping=J.prototype.Jh;J.prototype.getSleepTime=J.prototype.Eh;J.prototype.setAutoSleep=J.prototype.tg;J.prototype.getLinearDamping=J.prototype.be;J.prototype.setLinearDamping=J.prototype.vh;J.prototype.getAngularDamping=J.prototype.mg;J.prototype.setAngularDamping=
J.prototype.Lh;J.prototype.getPrev=J.prototype.tb;J.prototype.getNext=J.prototype.Pb;window.OIMO.RigidBodyConfig=qk;window.OIMO.RigidBodyType=Eh;window.OIMO.Shape=Ab;Ab.prototype.getFriction=Ab.prototype.Ma;Ab.prototype.setFriction=Ab.prototype.Rb;Ab.prototype.getRestitution=Ab.prototype.Ya;Ab.prototype.setRestitution=Ab.prototype.Wb;Ab.prototype.getLocalTransform=Ab.prototype.Sa;Ab.prototype.getLocalTransformTo=Ab.prototype.Wa;Ab.prototype.getTransform=Ab.prototype.C;Ab.prototype.getTransformTo=
Ab.prototype.I;Ab.prototype.setLocalTransform=Ab.prototype.Sb;Ab.prototype.getDensity=Ab.prototype.qa;Ab.prototype.setDensity=Ab.prototype.Pb;Ab.prototype.getAabb=Ab.prototype.M;Ab.prototype.getAabbTo=Ab.prototype.V;Ab.prototype.getGeometry=Ab.prototype.Oa;Ab.prototype.getRigidBody=Ab.prototype.nb;Ab.prototype.getCollisionGroup=Ab.prototype.W;Ab.prototype.setCollisionGroup=Ab.prototype.ob;Ab.prototype.getCollisionMask=Ab.prototype.Y;Ab.prototype.setCollisionMask=Ab.prototype.Ib;Ab.prototype.getContactCallback=
Ab.prototype.aa;Ab.prototype.setContactCallback=Ab.prototype.Jb;Ab.prototype.getPrev=Ab.prototype.i;Ab.prototype.getNext=Ab.prototype.h;window.OIMO.ShapeConfig=$e};tc.prototype.eg=function(){return null};tc.prototype.fg=function(){};tc.prototype.fd=function(){};tc.prototype.Sb=function(a,b){return a.R<b.N&&a.N>b.R&&a.S<b.O&&a.O>b.S&&a.T<b.P?a.P>b.T:!1};tc.prototype.qg=function(){};tc.prototype.Ib=function(){return this.Cd};tc.prototype.Rb=function(){return this.eh};tc.prototype.Jb=function(){return this.Ma};
tc.prototype.yd=function(){};tc.prototype.aa=function(){};tc.prototype.Y=function(){};tf.prototype.Wd=function(){};tf.prototype.Yb=function(){};tf.prototype.h=function(){return!1};tf.prototype.Oa=function(){return this.Xb};tf.prototype.nb=function(){return this.Ge};tf.prototype.yd=function(a,b,e,d){var c=a.x;var f=a.y;a=a.z;var h=b.x;var k=b.y;b=b.z;c-=e.F;f-=e.G;a-=e.H;h-=e.F;k-=e.G;b-=e.H;var g=e.A*c+e.o*f+e.u*a;var l=e.j*c+e.v*f+e.l*a;if(this.h(g,l,e.m*c+e.s*f+e.B*a,e.A*h+e.o*k+e.u*b,e.j*h+e.v*
k+e.l*b,e.m*h+e.s*k+e.B*b,d)){a=d.position;c=a.x;f=a.y;k=a.z;a=d.normal;b=a.x;g=a.y;var m=a.z;l=e.A*c+e.j*f+e.m*k;var n=e.o*c+e.v*f+e.s*k;k=e.u*c+e.l*f+e.B*k;a=e.A*b+e.j*g+e.m*m;h=e.o*b+e.v*g+e.s*m;b=e.u*b+e.l*g+e.B*m;c=l+e.F;f=n+e.G;k+=e.H;e=d.position;e.x=c;e.y=f;e.z=k;d=d.normal;d.x=a;d.y=h;d.z=b;return!0}return!1};rl(kd,tf);kd.prototype.Sa=function(){return this.fc};kd.prototype.ob=function(a){0>a&&(a=0);this.fc=a};kd.prototype.ud=function(){};kd.prototype.yd=function(a,b,e,d){return this.Ma?
yc.instance.yd(this,e,a,b,d):tf.prototype.yd.call(this,a,b,e,d)};rl(xk,kd);xk.prototype.Ia=function(a,b,e){this.c=a;var d=e.x;var c=e.y;var f=e.z;e=b.A*d+b.o*c+b.u*f;var h=b.j*d+b.v*c+b.l*f;b=b.m*d+b.s*c+b.B*f;d=this.i=new z;d.x=e;d.y=h;d.z=b;this.fc=a.fc};xk.prototype.ud=function(a,b){this.c.ud(a,b);var e=this.i;0<a.x*e.x+a.y*e.y+a.z*e.z&&(a=this.i,b.x+=a.x,b.y+=a.y,b.z+=a.z)};rl(Lk,kd);Lk.prototype.ud=function(a,b){b.x=0<a.x?this.max.x:this.min.x;b.y=0<a.y?this.max.y:this.min.y;b.z=0<a.z?this.max.z:
this.min.z};Cj.prototype.process=function(){};tg.prototype.C=function(){return this.uc};tg.prototype.h=function(){var a=new Pb;a.wa=this.R;a.xa=this.S;a.ya=this.T;a.ta=this.N;a.ua=this.O;a.va=this.P;return a};tg.prototype.i=function(a){a.wa=this.R;a.xa=this.S;a.ya=this.T;a.ta=this.N;a.ua=this.O;a.va=this.P};Yg.prototype.i=function(){return this.Nf};Yg.prototype.C=function(){return this.Of};Yg.prototype.h=function(){return this.U};rl(Od,tc);Od.prototype.eg=function(a,b){a=new tg(a,this.ob++);this.qa++;
null==this.i?this.i=a:(this.C.U=a,a.sa=this.C);this.C=a;a.R=b.wa;a.S=b.xa;a.T=b.ya;a.N=b.ta;a.O=b.ua;a.P=b.va;return a};Od.prototype.fg=function(a){this.qa--;var b=a.sa,e=a.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a==this.i&&(this.i=this.i.U);a==this.C&&(this.C=this.C.sa);a.U=null;a.sa=null;a.userData=null};Od.prototype.fd=function(a,b){a.R=b.wa;a.S=b.xa;a.T=b.ya;a.N=b.ta;a.O=b.ua;a.P=b.va};Od.prototype.qg=function(){var a=this.Cd;if(null!=a){for(;a.Nf=null,a.Of=null,a=a.U,null!=a;);this.Cd.U=this.V;
this.V=this.Cd;this.Cd=null}this.Ma=0;for(a=this.i;null!=a;){for(var b=a.U,e=a.U;null!=e;){var d=e.U;this.Ma++;if(a.R<e.N&&a.N>e.R&&a.S<e.O&&a.O>e.S&&a.T<e.P&&a.P>e.T){var c=this.V;null!=c?(this.V=c.U,c.U=null):c=new Yg;null!=this.Cd&&(c.U=this.Cd);this.Cd=c;c.Nf=a;c.Of=e}e=d}a=b}};Od.prototype.yd=function(a,b,e){var d=a.x;var c=a.y;a=a.z;var f=b.x;var h=b.y;b=b.z;for(var k=this.i;null!=k;){var g=k.U,l=d,m=c,n=a,q=f,p=h,r=b,t=k.R,x=k.S,v=k.T,B=k.N,H=k.O,C=k.P;if(t>(l>q?l:q)||B<(l<q?l:q)||x>(m>p?m:
p)||H<(m<p?m:p)||v>(n>r?n:r)||C<(n<r?n:r))q=!1;else{q-=l;p-=m;var N=r-n;r=0>q?-q:q;var y=0>p?-p:p,A=0>N?-N:N,E=.5*(B-t),L=.5*(H-x),G=.5*(C-v);l-=.5*(B+t);m-=.5*(H+x);n-=.5*(C+v);v=m*N-n*p;0<(0>v?-v:v)-(L*A+G*y)?n=!0:(n=n*q-l*N,n=0<(0>n?-n:n)-(G*r+E*A));n?q=!0:(q=l*p-m*q,q=0<(0>q?-q:q)-(E*y+L*r));q=q?!1:!0}q&&e.process(k);k=g}};Od.prototype.aa=function(a,b,e,d){for(var c=this.i;null!=c;){var f=c.U,h=this.D.min;h.x=c.R;h.y=c.S;h.z=c.T;h=this.D.max;h.x=c.N;h.y=c.O;h.z=c.P;this.Oa.Ia(a,b,e);h=yc.instance;
0==h.Oa(this.Oa,this.D,b,this.nb,null,!1)&&0>=h.distance&&d.process(c);c=f}};Od.prototype.Y=function(a,b){for(var e=this.i;null!=e;){var d=e.U;a.wa<e.N&&a.ta>e.R&&a.xa<e.O&&a.ua>e.S&&a.ya<e.P&&a.va>e.T&&b.process(e);e=d}};rl(cd,tc);cd.prototype.W=function(a,b){this.Ma++;var e=0==a.Z,d=0==b.Z;a==b?e||(this.W(a.L[0],b),this.W(a.L[1],b)):a.R<b.N&&a.N>b.R&&a.S<b.O&&a.O>b.S&&a.T<b.P&&a.P>b.T&&(e&&d?(e=this.V,null!=e?(this.V=e.U,e.U=null):e=new Yg,null!=this.Cd&&(e.U=this.Cd),this.Cd=e,e.Nf=a.Eb,e.Of=b.Eb):
d||a.Z>b.Z?(this.W(a.L[0],b),this.W(a.L[1],b)):(this.W(b.L[0],a),this.W(b.L[1],a)))};cd.prototype.Ya=function(a,b,e,d,c,f,h,k){var g=a.R,l=a.S,m=a.T,n=a.N,q=a.O,p=a.P;if(g>(b>c?b:c)||n<(b<c?b:c)||l>(e>f?e:f)||q<(e<f?e:f)||m>(d>h?d:h)||p<(d<h?d:h))var r=!1;else{var t=c-b,x=f-e,v=h-d;r=0>t?-t:t;var B=0>x?-x:x,H=0>v?-v:v,C=.5*(n-g),N=.5*(q-l),y=.5*(p-m);g=b-.5*(n+g);l=e-.5*(q+l);m=d-.5*(p+m);p=l*v-m*x;0<(0>p?-p:p)-(N*H+y*B)?H=!0:(v=m*t-g*v,H=0<(0>v?-v:v)-(y*r+C*H));H?r=!0:(t=g*x-l*t,r=0<(0>t?-t:t)-(C*
B+N*r));r=r?!1:!0}r&&(0==a.Z?k.process(a.Eb):(this.Ya(a.L[0],b,e,d,c,f,h,k),this.Ya(a.L[1],b,e,d,c,f,h,k)))};cd.prototype.Wa=function(a,b,e,d,c){var f=this.D.min;f.x=a.R;f.y=a.S;f.z=a.T;f=this.D.max;f.x=a.N;f.y=a.O;f.z=a.P;this.Oa.Ia(b,e,d);f=yc.instance;0==f.Oa(this.Oa,this.D,e,this.nb,null,!1)&&0>=f.distance&&(0==a.Z?c.process(a.Eb):(this.Wa(a.L[0],b,e,d,c),this.Wa(a.L[1],b,e,d,c)))};cd.prototype.Sa=function(a,b,e){a.R<b.ta&&a.N>b.wa&&a.S<b.ua&&a.O>b.xa&&a.T<b.va&&a.P>b.ya&&(0==a.Z?e.process(a.Eb):
(this.Sa(a.L[0],b,e),this.Sa(a.L[1],b,e)))};cd.prototype.eg=function(a,b){a=new hl(a,this.ob++);this.qa++;null==this.i?this.i=a:(this.C.U=a,a.sa=this.C);this.C=a;a.R=b.wa;a.S=b.xa;a.T=b.ya;a.N=b.ta;a.O=b.ua;a.P=b.va;b=ra.bvhProxyPadding;a.R-=b;a.S-=b;a.T-=b;a.N+=b;a.O+=b;a.P+=b;b=this.h;var e=b.h;null!=e?(b.h=e.U,e.U=null):e=new wk;var d=e;d.Eb=a;a.bg=d;d.R=a.R;d.S=a.S;d.T=a.T;d.N=a.N;d.O=a.O;d.P=a.P;b.M++;null==b.C?b.C=d:(b.i.Le=d,d.Me=b.i);b.i=d;if(null==b.$b)b.$b=d;else{for(var c=b.$b;0<c.Z&&(e=
b.I.Ai(c,d),-1!=e);)c=c.L[e];var f=c.Ka;e=b.h;null!=e?(b.h=e.U,e.U=null):e=new wk;if(null==f)b.$b=e;else{var h=c.Ta;f.L[h]=e;e.Ka=f;e.Ta=h}f=c.Ta;e.L[f]=c;c.Ka=e;c.Ta=f;c=c.Ta^1;e.L[c]=d;d.Ka=e;for(d.Ta=c;null!=e;){if(b.I.Yg&&2<=e.Z){d=e.Ka;f=e.L[0];h=e.L[1];var k=f.Z-h.Z;c=e.Ta;1<k?(h=f.L[0],k=f.L[1],h.Z>k.Z?(f.L[1]=e,e.Ka=f,e.Ta=1,e.L[0]=k,k.Ka=e,k.Ta=0,h=f.L[0],k=f.L[1],f.R=h.R<k.R?h.R:k.R,f.S=h.S<k.S?h.S:k.S,f.T=h.T<k.T?h.T:k.T,f.N=h.N>k.N?h.N:k.N,f.O=h.O>k.O?h.O:k.O,f.P=h.P>k.P?h.P:k.P,h=f.L[0].Z,
k=f.L[1].Z,f.Z=(h>k?h:k)+1,h=e.L[0],k=e.L[1],e.R=h.R<k.R?h.R:k.R,e.S=h.S<k.S?h.S:k.S,e.T=h.T<k.T?h.T:k.T,e.N=h.N>k.N?h.N:k.N,e.O=h.O>k.O?h.O:k.O,e.P=h.P>k.P?h.P:k.P,h=e.L[0].Z,k=e.L[1].Z,e.Z=(h>k?h:k)+1):(f.L[0]=e,e.Ka=f,e.Ta=0,e.L[0]=h,h.Ka=e,h.Ta=0,h=f.L[0],k=f.L[1],f.R=h.R<k.R?h.R:k.R,f.S=h.S<k.S?h.S:k.S,f.T=h.T<k.T?h.T:k.T,f.N=h.N>k.N?h.N:k.N,f.O=h.O>k.O?h.O:k.O,f.P=h.P>k.P?h.P:k.P,h=f.L[0].Z,k=f.L[1].Z,f.Z=(h>k?h:k)+1,h=e.L[0],k=e.L[1],e.R=h.R<k.R?h.R:k.R,e.S=h.S<k.S?h.S:k.S,e.T=h.T<k.T?h.T:
k.T,e.N=h.N>k.N?h.N:k.N,e.O=h.O>k.O?h.O:k.O,e.P=h.P>k.P?h.P:k.P,h=e.L[0].Z,k=e.L[1].Z,e.Z=(h>k?h:k)+1),null!=d?(d.L[c]=f,f.Ka=d,f.Ta=c):(b.$b=f,f.Ka=null),e=f):-1>k&&(f=h.L[0],k=h.L[1],f.Z>k.Z?(h.L[1]=e,e.Ka=h,e.Ta=1,e.L[1]=k,k.Ka=e,k.Ta=1,f=h.L[0],k=h.L[1],h.R=f.R<k.R?f.R:k.R,h.S=f.S<k.S?f.S:k.S,h.T=f.T<k.T?f.T:k.T,h.N=f.N>k.N?f.N:k.N,h.O=f.O>k.O?f.O:k.O,h.P=f.P>k.P?f.P:k.P,f=h.L[0].Z,k=h.L[1].Z,h.Z=(f>k?f:k)+1,f=e.L[0],k=e.L[1],e.R=f.R<k.R?f.R:k.R,e.S=f.S<k.S?f.S:k.S,e.T=f.T<k.T?f.T:k.T,e.N=f.N>
k.N?f.N:k.N,e.O=f.O>k.O?f.O:k.O,e.P=f.P>k.P?f.P:k.P,f=e.L[0].Z,k=e.L[1].Z,e.Z=(f>k?f:k)+1):(h.L[0]=e,e.Ka=h,e.Ta=0,e.L[1]=f,f.Ka=e,f.Ta=1,f=h.L[0],k=h.L[1],h.R=f.R<k.R?f.R:k.R,h.S=f.S<k.S?f.S:k.S,h.T=f.T<k.T?f.T:k.T,h.N=f.N>k.N?f.N:k.N,h.O=f.O>k.O?f.O:k.O,h.P=f.P>k.P?f.P:k.P,f=h.L[0].Z,k=h.L[1].Z,h.Z=(f>k?f:k)+1,f=e.L[0],k=e.L[1],e.R=f.R<k.R?f.R:k.R,e.S=f.S<k.S?f.S:k.S,e.T=f.T<k.T?f.T:k.T,e.N=f.N>k.N?f.N:k.N,e.O=f.O>k.O?f.O:k.O,e.P=f.P>k.P?f.P:k.P,f=e.L[0].Z,k=e.L[1].Z,e.Z=(f>k?f:k)+1),null!=d?(d.L[c]=
h,h.Ka=d,h.Ta=c):(b.$b=h,h.Ka=null),e=h)}d=e.L[0].Z;c=e.L[1].Z;e.Z=(d>c?d:c)+1;d=e.L[0];c=e.L[1];e.R=d.R<c.R?d.R:c.R;e.S=d.S<c.S?d.S:c.S;e.T=d.T<c.T?d.T:c.T;e.N=d.N>c.N?d.N:c.N;e.O=d.O>c.O?d.O:c.O;e.P=d.P>c.P?d.P:c.P;e=e.Ka}}if(!a.Lf){a.Lf=!0;if(this.I.length==this.M){b=Array(this.M<<1);e=0;for(d=this.M;e<d;)c=e++,b[c]=this.I[c],this.I[c]=null;this.I=b}this.I[this.M++]=a}return a};cd.prototype.fg=function(a){this.qa--;var b=a.sa,e=a.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a==this.i&&(this.i=this.i.U);
a==this.C&&(this.C=this.C.sa);a.U=null;a.sa=null;b=this.h;e=a.bg;b.M--;var d=e.Me,c=e.Le;null!=d&&(d.Le=c);null!=c&&(c.Me=d);e==b.C&&(b.C=b.C.Le);e==b.i&&(b.i=b.i.Me);e.Le=null;e.Me=null;if(b.$b==e)b.$b=null;else{d=e.Ka;c=d.L[e.Ta^1];var f=d.Ka;if(null==f)c.Ka=null,c.Ta=0,b.$b=c,d.L[0]=null,d.L[1]=null,d.Ta=0,d.Ka=null,d.Z=0,d.Eb=null,d.U=b.h,b.h=d;else{c.Ka=f;var h=d.Ta;f.L[h]=c;c.Ka=f;c.Ta=h;d.L[0]=null;d.L[1]=null;d.Ta=0;d.Ka=null;d.Z=0;d.Eb=null;d.U=b.h;b.h=d;for(d=f;null!=d;){if(b.I.Yg&&2<=d.Z){c=
d.Ka;h=d.L[0];var k=d.L[1],g=h.Z-k.Z;f=d.Ta;1<g?(k=h.L[0],g=h.L[1],k.Z>g.Z?(h.L[1]=d,d.Ka=h,d.Ta=1,d.L[0]=g,g.Ka=d,g.Ta=0,k=h.L[0],g=h.L[1],h.R=k.R<g.R?k.R:g.R,h.S=k.S<g.S?k.S:g.S,h.T=k.T<g.T?k.T:g.T,h.N=k.N>g.N?k.N:g.N,h.O=k.O>g.O?k.O:g.O,h.P=k.P>g.P?k.P:g.P,k=h.L[0].Z,g=h.L[1].Z,h.Z=(k>g?k:g)+1,k=d.L[0],g=d.L[1],d.R=k.R<g.R?k.R:g.R,d.S=k.S<g.S?k.S:g.S,d.T=k.T<g.T?k.T:g.T,d.N=k.N>g.N?k.N:g.N,d.O=k.O>g.O?k.O:g.O,d.P=k.P>g.P?k.P:g.P,k=d.L[0].Z,g=d.L[1].Z,d.Z=(k>g?k:g)+1):(h.L[0]=d,d.Ka=h,d.Ta=0,d.L[0]=
k,k.Ka=d,k.Ta=0,k=h.L[0],g=h.L[1],h.R=k.R<g.R?k.R:g.R,h.S=k.S<g.S?k.S:g.S,h.T=k.T<g.T?k.T:g.T,h.N=k.N>g.N?k.N:g.N,h.O=k.O>g.O?k.O:g.O,h.P=k.P>g.P?k.P:g.P,k=h.L[0].Z,g=h.L[1].Z,h.Z=(k>g?k:g)+1,k=d.L[0],g=d.L[1],d.R=k.R<g.R?k.R:g.R,d.S=k.S<g.S?k.S:g.S,d.T=k.T<g.T?k.T:g.T,d.N=k.N>g.N?k.N:g.N,d.O=k.O>g.O?k.O:g.O,d.P=k.P>g.P?k.P:g.P,k=d.L[0].Z,g=d.L[1].Z,d.Z=(k>g?k:g)+1),null!=c?(c.L[f]=h,h.Ka=c,h.Ta=f):(b.$b=h,h.Ka=null),d=h):-1>g&&(h=k.L[0],g=k.L[1],h.Z>g.Z?(k.L[1]=d,d.Ka=k,d.Ta=1,d.L[1]=g,g.Ka=d,g.Ta=
1,h=k.L[0],g=k.L[1],k.R=h.R<g.R?h.R:g.R,k.S=h.S<g.S?h.S:g.S,k.T=h.T<g.T?h.T:g.T,k.N=h.N>g.N?h.N:g.N,k.O=h.O>g.O?h.O:g.O,k.P=h.P>g.P?h.P:g.P,h=k.L[0].Z,g=k.L[1].Z,k.Z=(h>g?h:g)+1,h=d.L[0],g=d.L[1],d.R=h.R<g.R?h.R:g.R,d.S=h.S<g.S?h.S:g.S,d.T=h.T<g.T?h.T:g.T,d.N=h.N>g.N?h.N:g.N,d.O=h.O>g.O?h.O:g.O,d.P=h.P>g.P?h.P:g.P,h=d.L[0].Z,g=d.L[1].Z,d.Z=(h>g?h:g)+1):(k.L[0]=d,d.Ka=k,d.Ta=0,d.L[1]=h,h.Ka=d,h.Ta=1,h=k.L[0],g=k.L[1],k.R=h.R<g.R?h.R:g.R,k.S=h.S<g.S?h.S:g.S,k.T=h.T<g.T?h.T:g.T,k.N=h.N>g.N?h.N:g.N,k.O=
h.O>g.O?h.O:g.O,k.P=h.P>g.P?h.P:g.P,h=k.L[0].Z,g=k.L[1].Z,k.Z=(h>g?h:g)+1,h=d.L[0],g=d.L[1],d.R=h.R<g.R?h.R:g.R,d.S=h.S<g.S?h.S:g.S,d.T=h.T<g.T?h.T:g.T,d.N=h.N>g.N?h.N:g.N,d.O=h.O>g.O?h.O:g.O,d.P=h.P>g.P?h.P:g.P,h=d.L[0].Z,g=d.L[1].Z,d.Z=(h>g?h:g)+1),null!=c?(c.L[f]=k,k.Ka=c,k.Ta=f):(b.$b=k,k.Ka=null),d=k)}c=d.L[0].Z;f=d.L[1].Z;d.Z=(c>f?c:f)+1;c=d.L[0];f=d.L[1];d.R=c.R<f.R?c.R:f.R;d.S=c.S<f.S?c.S:f.S;d.T=c.T<f.T?c.T:f.T;d.N=c.N>f.N?c.N:f.N;d.O=c.O>f.O?c.O:f.O;d.P=c.P>f.P?c.P:f.P;d=d.Ka}}}a.bg=null;
e.L[0]=null;e.L[1]=null;e.Ta=0;e.Ka=null;e.Z=0;e.Eb=null;e.U=b.h;b.h=e;a.userData=null;a.U=null;a.sa=null;a.Lf&&(a.Lf=!1)};cd.prototype.fd=function(a,b,e){if(!(a.R<=b.wa&&a.N>=b.ta&&a.S<=b.xa&&a.O>=b.ua&&a.T<=b.ya&&a.P>=b.va)){a.R=b.wa;a.S=b.xa;a.T=b.ya;a.N=b.ta;a.O=b.ua;a.P=b.va;b=ra.bvhProxyPadding;a.R-=b;a.S-=b;a.T-=b;a.N+=b;a.O+=b;a.P+=b;if(null!=e){b=e.x;var d=e.y;e=e.z;a.R+=0<b?0:b;a.S+=0<d?0:d;a.T+=0<e?0:e;a.N+=0>b?0:b;a.O+=0>d?0:d;a.P+=0>e?0:e}if(!a.Lf){a.Lf=!0;if(this.I.length==this.M){e=
Array(this.M<<1);b=0;for(d=this.M;b<d;){var c=b++;e[c]=this.I[c];this.I[c]=null}this.I=e}this.I[this.M++]=a}}};cd.prototype.qg=function(){var a=this.Cd;if(null!=a){for(;a.Nf=null,a.Of=null,a=a.U,null!=a;);this.Cd.U=this.V;this.V=this.Cd;this.Cd=null}this.Ma=0;if(!(2>this.qa)){for(var b=this.M/this.qa<ra.bvhIncrementalCollisionThreshold,e=0,d=this.M;e<d;){var c=e++,f=this.I[c];if(f.Lf){var h=this.h,k=f.bg;h.M--;var g=k.Me,l=k.Le;null!=g&&(g.Le=l);null!=l&&(l.Me=g);k==h.C&&(h.C=h.C.Le);k==h.i&&(h.i=
h.i.Me);k.Le=null;k.Me=null;if(h.$b==k)h.$b=null;else{var m=k.Ka,n=m.L[k.Ta^1],q=m.Ka;if(null==q)n.Ka=null,n.Ta=0,h.$b=n,m.U=null,m.Ta=0,m.L[0]=null,m.L[1]=null,m.Ta=0,m.Ka=null,m.Z=0,m.Eb=null,m.U=h.h,h.h=m;else{n.Ka=q;var p=m.Ta;q.L[p]=n;n.Ka=q;n.Ta=p;m.U=null;m.Ta=0;m.L[0]=null;m.L[1]=null;m.Ta=0;m.Ka=null;m.Z=0;m.Eb=null;m.U=h.h;h.h=m;for(var r=q;null!=r;){if(h.I.Yg&&2<=r.Z){var t=r.Ka,x=r.L[0],v=r.L[1],B=x.Z-v.Z,H=r.Ta;if(1<B){var C=x.L[0],N=x.L[1];if(C.Z>N.Z){x.L[1]=r;r.Ka=x;r.Ta=1;r.L[0]=N;
N.Ka=r;N.Ta=0;var y=x.L[0],A=x.L[1];x.R=y.R<A.R?y.R:A.R;x.S=y.S<A.S?y.S:A.S;x.T=y.T<A.T?y.T:A.T;x.N=y.N>A.N?y.N:A.N;x.O=y.O>A.O?y.O:A.O;x.P=y.P>A.P?y.P:A.P;var E=x.L[0].Z,L=x.L[1].Z;x.Z=(E>L?E:L)+1;var G=r.L[0],P=r.L[1];r.R=G.R<P.R?G.R:P.R;r.S=G.S<P.S?G.S:P.S;r.T=G.T<P.T?G.T:P.T;r.N=G.N>P.N?G.N:P.N;r.O=G.O>P.O?G.O:P.O;r.P=G.P>P.P?G.P:P.P;var K=r.L[0].Z,pa=r.L[1].Z;r.Z=(K>pa?K:pa)+1}else{x.L[0]=r;r.Ka=x;r.Ta=0;r.L[0]=C;C.Ka=r;C.Ta=0;var M=x.L[0],Sa=x.L[1];x.R=M.R<Sa.R?M.R:Sa.R;x.S=M.S<Sa.S?M.S:Sa.S;
x.T=M.T<Sa.T?M.T:Sa.T;x.N=M.N>Sa.N?M.N:Sa.N;x.O=M.O>Sa.O?M.O:Sa.O;x.P=M.P>Sa.P?M.P:Sa.P;var Pa=x.L[0].Z,Ca=x.L[1].Z;x.Z=(Pa>Ca?Pa:Ca)+1;var Ra=r.L[0],wa=r.L[1];r.R=Ra.R<wa.R?Ra.R:wa.R;r.S=Ra.S<wa.S?Ra.S:wa.S;r.T=Ra.T<wa.T?Ra.T:wa.T;r.N=Ra.N>wa.N?Ra.N:wa.N;r.O=Ra.O>wa.O?Ra.O:wa.O;r.P=Ra.P>wa.P?Ra.P:wa.P;var La=r.L[0].Z,Ea=r.L[1].Z;r.Z=(La>Ea?La:Ea)+1}null!=t?(t.L[H]=x,x.Ka=t,x.Ta=H):(h.$b=x,x.Ka=null);r=x}else if(-1>B){var O=v.L[0],ma=v.L[1];if(O.Z>ma.Z){v.L[1]=r;r.Ka=v;r.Ta=1;r.L[1]=ma;ma.Ka=r;ma.Ta=
1;var Y=v.L[0],ta=v.L[1];v.R=Y.R<ta.R?Y.R:ta.R;v.S=Y.S<ta.S?Y.S:ta.S;v.T=Y.T<ta.T?Y.T:ta.T;v.N=Y.N>ta.N?Y.N:ta.N;v.O=Y.O>ta.O?Y.O:ta.O;v.P=Y.P>ta.P?Y.P:ta.P;var Va=v.L[0].Z,D=v.L[1].Z;v.Z=(Va>D?Va:D)+1;var Aa=r.L[0],aa=r.L[1];r.R=Aa.R<aa.R?Aa.R:aa.R;r.S=Aa.S<aa.S?Aa.S:aa.S;r.T=Aa.T<aa.T?Aa.T:aa.T;r.N=Aa.N>aa.N?Aa.N:aa.N;r.O=Aa.O>aa.O?Aa.O:aa.O;r.P=Aa.P>aa.P?Aa.P:aa.P;var Ua=r.L[0].Z,xa=r.L[1].Z;r.Z=(Ua>xa?Ua:xa)+1}else{v.L[0]=r;r.Ka=v;r.Ta=0;r.L[1]=O;O.Ka=r;O.Ta=1;var Ja=v.L[0],S=v.L[1];v.R=Ja.R<
S.R?Ja.R:S.R;v.S=Ja.S<S.S?Ja.S:S.S;v.T=Ja.T<S.T?Ja.T:S.T;v.N=Ja.N>S.N?Ja.N:S.N;v.O=Ja.O>S.O?Ja.O:S.O;v.P=Ja.P>S.P?Ja.P:S.P;var la=v.L[0].Z,qa=v.L[1].Z;v.Z=(la>qa?la:qa)+1;var Da=r.L[0],X=r.L[1];r.R=Da.R<X.R?Da.R:X.R;r.S=Da.S<X.S?Da.S:X.S;r.T=Da.T<X.T?Da.T:X.T;r.N=Da.N>X.N?Da.N:X.N;r.O=Da.O>X.O?Da.O:X.O;r.P=Da.P>X.P?Da.P:X.P;var fa=r.L[0].Z,w=r.L[1].Z;r.Z=(fa>w?fa:w)+1}null!=t?(t.L[H]=v,v.Ka=t,v.Ta=H):(h.$b=v,v.Ka=null);r=v}}var ja=r.L[0].Z,ea=r.L[1].Z;r.Z=(ja>ea?ja:ea)+1;var U=r.L[0],ba=r.L[1];r.R=
U.R<ba.R?U.R:ba.R;r.S=U.S<ba.S?U.S:ba.S;r.T=U.T<ba.T?U.T:ba.T;r.N=U.N>ba.N?U.N:ba.N;r.O=U.O>ba.O?U.O:ba.O;r.P=U.P>ba.P?U.P:ba.P;r=r.Ka}}}f.bg=null;k.U=null;k.Ta=0;k.L[0]=null;k.L[1]=null;k.Ta=0;k.Ka=null;k.Z=0;k.Eb=null;k.U=h.h;h.h=k;var Fa=this.h,ka=Fa.h;null!=ka?(Fa.h=ka.U,ka.U=null):ka=new wk;var Qa=ka;Qa.Eb=f;f.bg=Qa;Qa.R=f.R;Qa.S=f.S;Qa.T=f.T;Qa.N=f.N;Qa.O=f.O;Qa.P=f.P;Fa.M++;null==Fa.C?Fa.C=Qa:(Fa.i.Le=Qa,Qa.Me=Fa.i);Fa.i=Qa;if(null==Fa.$b)Fa.$b=Qa;else{for(var Ka=Fa.$b;0<Ka.Z;){var V=Fa.I.Ai(Ka,
Qa);if(-1==V)break;else Ka=Ka.L[V]}var ob=Ka.Ka,Za=Fa.h;null!=Za?(Fa.h=Za.U,Za.U=null):Za=new wk;var W=Za;if(null==ob)Fa.$b=W;else{var ha=Ka.Ta;ob.L[ha]=W;W.Ka=ob;W.Ta=ha}var I=Ka.Ta;W.L[I]=Ka;Ka.Ka=W;Ka.Ta=I;var na=Ka.Ta^1;W.L[na]=Qa;Qa.Ka=W;for(Qa.Ta=na;null!=W;){if(Fa.I.Yg&&2<=W.Z){var ca=W.Ka,da=W.L[0],Z=W.L[1],oa=da.Z-Z.Z,xb=W.Ta;if(1<oa){var hb=da.L[0],fb=da.L[1];if(hb.Z>fb.Z){da.L[1]=W;W.Ka=da;W.Ta=1;W.L[0]=fb;fb.Ka=W;fb.Ta=0;var gb=da.L[0],pb=da.L[1];da.R=gb.R<pb.R?gb.R:pb.R;da.S=gb.S<pb.S?
gb.S:pb.S;da.T=gb.T<pb.T?gb.T:pb.T;da.N=gb.N>pb.N?gb.N:pb.N;da.O=gb.O>pb.O?gb.O:pb.O;da.P=gb.P>pb.P?gb.P:pb.P;var ab=da.L[0].Z,$a=da.L[1].Z;da.Z=(ab>$a?ab:$a)+1;var ua=W.L[0],Ya=W.L[1];W.R=ua.R<Ya.R?ua.R:Ya.R;W.S=ua.S<Ya.S?ua.S:Ya.S;W.T=ua.T<Ya.T?ua.T:Ya.T;W.N=ua.N>Ya.N?ua.N:Ya.N;W.O=ua.O>Ya.O?ua.O:Ya.O;W.P=ua.P>Ya.P?ua.P:Ya.P;var Fb=W.L[0].Z,Xa=W.L[1].Z;W.Z=(Fb>Xa?Fb:Xa)+1}else{da.L[0]=W;W.Ka=da;W.Ta=0;W.L[0]=hb;hb.Ka=W;hb.Ta=0;var Bb=da.L[0],Wa=da.L[1];da.R=Bb.R<Wa.R?Bb.R:Wa.R;da.S=Bb.S<Wa.S?Bb.S:
Wa.S;da.T=Bb.T<Wa.T?Bb.T:Wa.T;da.N=Bb.N>Wa.N?Bb.N:Wa.N;da.O=Bb.O>Wa.O?Bb.O:Wa.O;da.P=Bb.P>Wa.P?Bb.P:Wa.P;var Cb=da.L[0].Z,qb=da.L[1].Z;da.Z=(Cb>qb?Cb:qb)+1;var bb=W.L[0],ib=W.L[1];W.R=bb.R<ib.R?bb.R:ib.R;W.S=bb.S<ib.S?bb.S:ib.S;W.T=bb.T<ib.T?bb.T:ib.T;W.N=bb.N>ib.N?bb.N:ib.N;W.O=bb.O>ib.O?bb.O:ib.O;W.P=bb.P>ib.P?bb.P:ib.P;var rb=W.L[0].Z,db=W.L[1].Z;W.Z=(rb>db?rb:db)+1}null!=ca?(ca.L[xb]=da,da.Ka=ca,da.Ta=xb):(Fa.$b=da,da.Ka=null);W=da}else if(-1>oa){var Db=Z.L[0],jb=Z.L[1];if(Db.Z>jb.Z){Z.L[1]=W;
W.Ka=Z;W.Ta=1;W.L[1]=jb;jb.Ka=W;jb.Ta=1;var nb=Z.L[0],cb=Z.L[1];Z.R=nb.R<cb.R?nb.R:cb.R;Z.S=nb.S<cb.S?nb.S:cb.S;Z.T=nb.T<cb.T?nb.T:cb.T;Z.N=nb.N>cb.N?nb.N:cb.N;Z.O=nb.O>cb.O?nb.O:cb.O;Z.P=nb.P>cb.P?nb.P:cb.P;var Jb=Z.L[0].Z,Kb=Z.L[1].Z;Z.Z=(Jb>Kb?Jb:Kb)+1;var F=W.L[0],ub=W.L[1];W.R=F.R<ub.R?F.R:ub.R;W.S=F.S<ub.S?F.S:ub.S;W.T=F.T<ub.T?F.T:ub.T;W.N=F.N>ub.N?F.N:ub.N;W.O=F.O>ub.O?F.O:ub.O;W.P=F.P>ub.P?F.P:ub.P;var lb=W.L[0].Z,yb=W.L[1].Z;W.Z=(lb>yb?lb:yb)+1}else{Z.L[0]=W;W.Ka=Z;W.Ta=0;W.L[1]=Db;Db.Ka=
W;Db.Ta=1;var vb=Z.L[0],eb=Z.L[1];Z.R=vb.R<eb.R?vb.R:eb.R;Z.S=vb.S<eb.S?vb.S:eb.S;Z.T=vb.T<eb.T?vb.T:eb.T;Z.N=vb.N>eb.N?vb.N:eb.N;Z.O=vb.O>eb.O?vb.O:eb.O;Z.P=vb.P>eb.P?vb.P:eb.P;var Lb=Z.L[0].Z,mb=Z.L[1].Z;Z.Z=(Lb>mb?Lb:mb)+1;var zb=W.L[0],u=W.L[1];W.R=zb.R<u.R?zb.R:u.R;W.S=zb.S<u.S?zb.S:u.S;W.T=zb.T<u.T?zb.T:u.T;W.N=zb.N>u.N?zb.N:u.N;W.O=zb.O>u.O?zb.O:u.O;W.P=zb.P>u.P?zb.P:u.P;var T=W.L[0].Z,R=W.L[1].Z;W.Z=(T>R?T:R)+1}null!=ca?(ca.L[xb]=Z,Z.Ka=ca,Z.Ta=xb):(Fa.$b=Z,Z.Ka=null);W=Z}}var va=W.L[0].Z,
Na=W.L[1].Z;W.Z=(va>Na?va:Na)+1;var ya=W.L[0],Oa=W.L[1];W.R=ya.R<Oa.R?ya.R:Oa.R;W.S=ya.S<Oa.S?ya.S:Oa.S;W.T=ya.T<Oa.T?ya.T:Oa.T;W.N=ya.N>Oa.N?ya.N:Oa.N;W.O=ya.O>Oa.O?ya.O:Oa.O;W.P=ya.P>Oa.P?ya.P:Oa.P;W=W.Ka}}b&&this.W(this.h.$b,f.bg);f.Lf=!1}this.I[c]=null}b||this.W(this.h.$b,this.h.$b);this.M=0}};cd.prototype.yd=function(a,b,e){null!=this.h.$b&&this.Ya(this.h.$b,a.x,a.y,a.z,b.x,b.y,b.z,e)};cd.prototype.aa=function(a,b,e,d){null!=this.h.$b&&this.Wa(this.h.$b,a,b,e,d)};cd.prototype.Y=function(a,b){null!=
this.h.$b&&this.Sa(this.h.$b,a,b)};cd.prototype.Pb=function(){return this.h.W()};rl(hl,tg);gl.prototype.Ai=function(a,b){var e=b.R+b.N;var d=b.S+b.O;b=b.T+b.P;var c=a.L[0],f=a.L[1];a=c.R+c.N;var h=c.S+c.O;c=c.T+c.P;var k=f.R+f.N;var g=f.S+f.O;f=f.T+f.P;a-=e;h-=d;c-=b;k-=e;g-=d;f-=b;return a*a+h*h+c*c<k*k+g*g+f*f?0:1};Jk.prototype.W=function(){return this.V(this.$b)};Jk.prototype.V=function(a){if(null==a||0==a.Z)return 0;var b=a.L[0].Z-a.L[1].Z;0>b&&(b=-b);return b+this.V(a.L[0])+this.V(a.L[1])};Pb.prototype.Ia=
function(a,b){this.wa=a.x;this.xa=a.y;this.ya=a.z;this.ta=b.x;this.ua=b.y;this.va=b.z;return this};Pb.prototype.Ma=function(){var a=new z;a.x=this.wa;a.y=this.xa;a.z=this.ya;return a};Pb.prototype.Oa=function(a){a.x=this.wa;a.y=this.xa;a.z=this.ya};Pb.prototype.Ya=function(a){this.wa=a.x;this.xa=a.y;this.ya=a.z;return this};Pb.prototype.aa=function(){var a=new z;a.x=this.ta;a.y=this.ua;a.z=this.va;return a};Pb.prototype.qa=function(a){a.x=this.ta;a.y=this.ua;a.z=this.va};Pb.prototype.Wa=function(a){this.ta=
a.x;this.ua=a.y;this.va=a.z;return this};Pb.prototype.C=function(){var a=new z;var b=this.wa+this.ta;var e=this.xa+this.ua;var d=this.ya+this.va;a.x=.5*b;a.y=.5*e;a.z=.5*d;return a};Pb.prototype.I=function(a){var b=this.wa+this.ta;var e=this.xa+this.ua;var d=this.ya+this.va;a.x=.5*b;a.y=.5*e;a.z=.5*d};Pb.prototype.M=function(){var a=new z;var b=this.ta-this.wa;var e=this.ua-this.xa;var d=this.va-this.ya;a.x=.5*b;a.y=.5*e;a.z=.5*d;return a};Pb.prototype.V=function(a){var b=this.ta-this.wa;var e=this.ua-
this.xa;var d=this.va-this.ya;a.x=.5*b;a.y=.5*e;a.z=.5*d};Pb.prototype.h=function(a){this.wa=this.wa<a.wa?this.wa:a.wa;this.xa=this.xa<a.xa?this.xa:a.xa;this.ya=this.ya<a.ya?this.ya:a.ya;this.ta=this.ta>a.ta?this.ta:a.ta;this.ua=this.ua>a.ua?this.ua:a.ua;this.va=this.va>a.va?this.va:a.va;return this};Pb.prototype.i=function(a){var b=new Pb;b.wa=this.wa<a.wa?this.wa:a.wa;b.xa=this.xa<a.xa?this.xa:a.xa;b.ya=this.ya<a.ya?this.ya:a.ya;b.ta=this.ta>a.ta?this.ta:a.ta;b.ua=this.ua>a.ua?this.ua:a.ua;b.va=
this.va>a.va?this.va:a.va;return b};Pb.prototype.Sa=function(a){return this.wa<a.ta&&this.ta>a.wa&&this.xa<a.ua&&this.ua>a.xa&&this.ya<a.va?this.va>a.ya:!1};Pb.prototype.W=function(a){var b=new Pb;b.wa=this.wa>a.wa?this.wa:a.wa;b.xa=this.xa>a.xa?this.xa:a.xa;b.ya=this.ya>a.ya?this.ya:a.ya;b.ta=this.ta<a.ta?this.ta:a.ta;b.ua=this.ua<a.ua?this.ua:a.ua;b.va=this.va<a.va?this.va:a.va;return b};Pb.prototype.Y=function(a,b){b.wa=this.wa>a.wa?this.wa:a.wa;b.xa=this.xa>a.xa?this.xa:a.xa;b.ya=this.ya>a.ya?
this.ya:a.ya;b.ta=this.ta<a.ta?this.ta:a.ta;b.ua=this.ua<a.ua?this.ua:a.ua;b.va=this.va<a.va?this.va:a.va};Pb.prototype.Dd=function(a){this.wa=a.wa;this.xa=a.xa;this.ya=a.ya;this.ta=a.ta;this.ua=a.ua;this.va=a.va;return this};Pb.prototype.clone=function(){var a=new Pb;a.wa=this.wa;a.xa=this.xa;a.ya=this.ya;a.ta=this.ta;a.ua=this.ua;a.va=this.va;return a};rl(cg,kd);cg.prototype.Wa=function(){var a=new z;a.x=this.Sd;a.y=this.Td;a.z=this.Ud;return a};cg.prototype.Ya=function(a){a.x=this.Sd;a.y=this.Td;
a.z=this.Ud};cg.prototype.Wd=function(){this.Ge=8*this.Sd*this.Td*this.Ud;var a=this.Sd*this.Sd;var b=this.Td*this.Td;var e=this.Ud*this.Ud;this.af=.3333333333333333*(b+e);this.df=this.cf=this.bf=0;this.ef=.3333333333333333*(e+a);this.hf=this.gf=this.ff=0;this.jf=.3333333333333333*(a+b)};cg.prototype.Yb=function(a,b){var e=b.A*this.i+b.j*this.C+b.m*this.I;var d=b.o*this.i+b.v*this.C+b.s*this.I;var c=b.u*this.i+b.l*this.C+b.B*this.I;var f=b.A*this.M+b.j*this.V+b.m*this.W;var h=b.o*this.M+b.v*this.V+
b.s*this.W;var k=b.u*this.M+b.l*this.V+b.B*this.W;var g=b.A*this.Y+b.j*this.aa+b.m*this.qa;var l=b.o*this.Y+b.v*this.aa+b.s*this.qa;var m=b.u*this.Y+b.l*this.aa+b.B*this.qa;0>e&&(e=-e);0>d&&(d=-d);0>c&&(c=-c);0>f&&(f=-f);0>h&&(h=-h);0>k&&(k=-k);0>g&&(g=-g);0>l&&(l=-l);0>m&&(m=-m);e=e+f+g;d=d+h+l;c=c+k+m;a.wa=b.F-e;a.xa=b.G-d;a.ya=b.H-c;a.ta=b.F+e;a.ua=b.G+d;a.va=b.H+c};cg.prototype.ud=function(a,b){var e,d;var c=d=e=this.fc;e<this.Sd||(e=this.Sd);d<this.Td||(d=this.Td);c<this.Ud||(c=this.Ud);e=this.Sd-
e;d=this.Td-d;c=this.Ud-c;b.x=0<a.x?e:-e;b.y=0<a.y?d:-d;b.z=0<a.z?c:-c};cg.prototype.h=function(a,b,e,d,c,f,h){var k=this.Sd,g=this.Td,l=this.Ud;d-=a;c-=b;f-=e;var m=0,n=0,q=0,p=1,r=1,t=1;if(-1E-6<d&&1E-6>d){if(a<=-k||a>=k)return!1}else{var x=1/d,v=(-k-a)*x;k=(k-a)*x;v>k&&(x=v,v=k,k=x);0<v&&(m=v);1>k&&(p=k)}if(-1E-6<c&&1E-6>c){if(b<=-g||b>=g)return!1}else v=1/c,k=(-g-b)*v,g=(g-b)*v,k>g&&(v=k,k=g,g=v),0<k&&(n=k),1>g&&(r=g);if(-1E-6<f&&1E-6>f){if(e<=-l||e>=l)return!1}else k=1/f,g=(-l-e)*k,l=(l-e)*k,
g>l&&(k=g,g=l,l=k),0<g&&(q=g),1>l&&(t=l);if(1<=m||1<=n||1<=q||0>=p||0>=r||0>=t)return!1;l=m;m=0;n>l&&(l=n,m=1);q>l&&(l=q,m=2);r<p&&(p=r);t<p&&(p=t);if(l>p||0==l)return!1;switch(m){case 0:h.normal.Ia(0<d?-1:1,0,0);break;case 1:h.normal.Ia(0,0<c?-1:1,0);break;case 2:h.normal.Ia(0,0,0<f?-1:1)}h.position.Ia(a+l*d,b+l*c,e+l*f);h.fraction=l;return!0};rl(bg,kd);bg.prototype.C=function(){return this.lb};bg.prototype.i=function(){return this.Qb};bg.prototype.Wd=function(){var a=this.lb*this.lb,b=this.Qb*this.Qb,
e=6.28318530717958*a*this.Qb,d=3.14159265358979*a*this.lb*4/3;this.Ge=e+d;var c=0==this.Ge?0:1/this.Ge;this.af=b=c*(e*(.25*a+b/3)+d*(.4*a+this.Qb*this.lb*.75+b));this.df=this.cf=this.bf=0;this.ef=c*(e*a*.5+d*a*.4);this.hf=this.gf=this.ff=0;this.jf=b};bg.prototype.Yb=function(a,b){var e,d;var c=d=e=this.lb;var f=b.j;var h=b.v;var k=b.l;0>f&&(f=-f);0>h&&(h=-h);0>k&&(k=-k);f*=this.Qb;h*=this.Qb;k*=this.Qb;e+=f;d+=h;c+=k;a.wa=b.F-e;a.xa=b.G-d;a.ya=b.H-c;a.ta=b.F+e;a.ua=b.G+d;a.va=b.H+c};bg.prototype.ud=
function(a,b){0<a.y?b.Ia(0,this.Qb,0):b.Ia(0,-this.Qb,0)};bg.prototype.h=function(a,b,e,d,c,f,h){var k=this.Qb,g=d-a,l=f-e,m=g*g+l*l,n=a*g+e*l;var q=a*a+e*e-this.lb*this.lb;var p=n*n-m*q;if(0>p)return!1;if(0<m){if(p=Math.sqrt(p),q=(-n-p)/m,1<=q||0>=(-n+p)/m)return!1}else{if(0<=q)return!1;q=0}m=b+(c-b)*q;if(m>-k&&m<k)return 0<q?(f=q,n=h.normal.Ia(a+g*f,0,e+l*f),b=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z),0<b&&(b=1/b),n.x*=b,n.y*=b,n.z*=b,h.position.Ia(a+f*g,m,e+f*l),h.fraction=f,!0):!1;g=0>m?-k:k;var r=a-
0;k=b-g;l=e-0;a=d-a;b=c-b;e=f-e;m=a*a+b*b+e*e;n=r*a+k*b+l*e;q=r*r+k*k+l*l-this.lb*this.lb;p=n*n-m*q;if(0>p)return!1;f=(-n-Math.sqrt(p))/m;if(0>f||1<f)return!1;a=r+a*f;m=k+b*f;e=l+e*f;n=a*a+m*m+e*e;0<n&&(n=1/Math.sqrt(n));b=h.position;b.x=a;b.y=m+g;b.z=e;g=h.normal;g.x=a*n;g.y=m*n;g.z=e*n;h.fraction=f;return!0};rl(ag,kd);ag.prototype.M=function(){return this.lb};ag.prototype.I=function(){return this.Qb};ag.prototype.Wd=function(){var a=this.lb*this.lb,b=this.Qb*this.Qb*4;this.Ge=3.14159265358979*a*
this.Qb*2/3;this.af=.05*(3*a+2*b);this.df=this.cf=this.bf=0;this.ef=.3*a;this.hf=this.gf=this.ff=0;this.jf=.05*(3*a+2*b)};ag.prototype.Yb=function(a,b){var e=b.j;var d=b.v;var c=b.l;var f=Math.sqrt(1-e*e);var h=Math.sqrt(1-d*d);var k=Math.sqrt(1-c*c);f*=this.lb;h*=this.lb;k*=this.lb;e*=this.Qb;d*=this.Qb;c*=this.Qb;var g=-e-f;var l=-d-h;var m=-c-k;var n=-e+f;var q=-d+h;var p=-c+k;k=g>n?g:n;h=l>q?l:q;f=m>p?m:p;k>e||(k=e);h>d||(h=d);f>c||(f=c);g=g<n?g:n;l=l<q?l:q;m=m<p?m:p;g<e||(g=e);l<d||(l=d);m<c||
(m=c);a.wa=b.F+g;a.xa=b.G+l;a.ya=b.H+m;a.ta=b.F+k;a.ua=b.G+h;a.va=b.H+f};ag.prototype.ud=function(a,b){var e=a.x,d=a.y,c=a.z;0<d&&d*d>this.C*this.C*(e*e+d*d+c*c)?(b.Ia(0,this.Qb-this.fc/this.C,0),0>b.y&&(b.y=0)):(e=a.x,a=a.z,d=e*e+a*a,c=2*this.Qb,c=(c-this.fc)/c*this.lb-this.fc/this.i,0>c&&(c=0),d=0<d?c/Math.sqrt(d):0,c=this.Qb-this.fc,0>c&&(c=0),b.x=e*d,b.y=-c,b.z=a*d)};ag.prototype.h=function(a,b,e,d,c,f,h){var k=this.Qb;d-=a;c-=b;f-=e;var g=0,l=1;if(-1E-6<c&&1E-6>c){if(b<=-k||b>=k)return!1}else{var m=
1/c,n=(-k-b)*m;m*=k-b;if(n>m){var q=n;n=m;m=q}0<n&&(g=n);1>m&&(l=m)}if(1<=g||0>=l)return!1;b-=k;q=this.i*this.i;m=q*(d*d+c*c+f*f)-c*c;n=q*(a*d+b*c+e*f)-b*c;q=q*(a*a+b*b+e*e)-b*b;var p=n*n-m*q;if(0!=m){if(0>p)return!1;p=Math.sqrt(p);if(0>m)if(0<c){if(q=0,n=(-n+p)/m,0>=n)return!1}else{if(q=(-n-p)/m,n=1,1<=q)return!1}else if(q=(-n-p)/m,n=(-n+p)/m,1<=q||0>=n)return!1}else if(m=-q/(2*n),0<n){if(q=0,n=m,0>=m)return!1}else if(q=m,n=1,1<=m)return!1;b+=k;if(n<=g||l<=q)return!1;if(q<g){k=g;if(0==k)return!1;
h.normal.Ia(0,0<c?-1:1,0)}else{k=q;if(0==k)return!1;g=h.normal.Ia(a+d*k,0,e+f*k);l=Math.sqrt(g.x*g.x+g.y*g.y+g.z*g.z);0<l&&(l=1/l);g.x*=l;g.y*=l;g.z*=l;l=this.i;g.x*=l;g.y*=l;g.z*=l;h.normal.y+=this.C}h.position.Ia(a+k*d,b+k*c,e+k*f);h.fraction=k;return!0};rl(Ih,kd);Ih.prototype.i=function(){return this.Ja};Ih.prototype.Wd=function(){this.af=this.Ge=1;this.df=this.cf=this.bf=0;this.ef=1;this.hf=this.gf=this.ff=0;this.jf=1;for(var a=this.Ja[0].x,b=this.Ja[0].y,e=this.Ja[0].z,d=this.Ja[0].x,c=this.Ja[0].y,
f=this.Ja[0].z,h=1,k=this.Vd;h<k;){var g=h++,l=this.Ja[g].x,m=this.Ja[g].y;g=this.Ja[g].z;l<a?a=l:l>d&&(d=l);m<b?b=m:m>c&&(c=m);g<e?e=g:g>f&&(f=g)}h=d-a;k=c-b;l=f-e;this.Ge=h*k*l;a=.25*((a+d)*(a+d)+(b+c)*(b+c)+(e+f)*(e+f));h=h*h*.25;k=k*k*.25;l=l*l*.25;this.af=.3333333333333333*(k+l)+a;this.df=this.cf=this.bf=0;this.ef=.3333333333333333*(l+h)+a;this.hf=this.gf=this.ff=0;this.jf=.3333333333333333*(h+k)+a};Ih.prototype.Yb=function(a,b){var e,d;var c=d=e=this.fc;var f=this.Ja[0];var h=f.x;var k=f.y;
var g=f.z;var l=b.A*h+b.j*k+b.m*g;f=b.o*h+b.v*k+b.s*g;var m=b.u*h+b.l*k+b.B*g;h=l+b.F;k=f+b.G;g=m+b.H;f=h;l=k;m=g;var n=h;var q=k;var p=g;for(var r=1,t=this.Vd;r<t;){g=this.Ja[r++];h=g.x;k=g.y;g=g.z;var x=b.A*h+b.j*k+b.m*g;var v=b.o*h+b.v*k+b.s*g;g=b.u*h+b.l*k+b.B*g;h=x;k=v;h+=b.F;k+=b.G;g+=b.H;f<h||(f=h);l<k||(l=k);m<g||(m=g);n>h||(n=h);q>k||(q=k);p>g||(p=g)}a.wa=f-e;a.xa=l-d;a.ya=m-c;a.ta=n+e;a.ua=q+d;a.va=p+c};Ih.prototype.ud=function(a,b){var e=this.Ja[0];e=e.x*a.x+e.y*a.y+e.z*a.z;for(var d=0,
c=1,f=this.Vd;c<f;){var h=c++,k=this.Ja[h];k=k.x*a.x+k.y*a.y+k.z*a.z;k>e&&(e=k,d=h)}a=this.Ja[d];b.x=a.x;b.y=a.y;b.z=a.z};rl($f,kd);$f.prototype.C=function(){return this.lb};$f.prototype.i=function(){return this.Qb};$f.prototype.Wd=function(){var a=this.lb*this.lb,b=this.Qb*this.Qb*4;this.Ge=3.14159265358979*a*this.Qb*2;this.af=.08333333333333333*(3*a+b);this.df=this.cf=this.bf=0;this.ef=.5*a;this.hf=this.gf=this.ff=0;this.jf=.08333333333333333*(3*a+b)};$f.prototype.Yb=function(a,b){var e=b.j;var d=
b.v;var c=b.l;0>e&&(e=-e);0>d&&(d=-d);0>c&&(c=-c);var f=Math.sqrt(1-e*e);var h=Math.sqrt(1-d*d);var k=Math.sqrt(1-c*c);f*=this.lb;h*=this.lb;k*=this.lb;e*=this.Qb;d*=this.Qb;c*=this.Qb;f+=e;h+=d;k+=c;a.wa=b.F-f;a.xa=b.G-h;a.ya=b.H-k;a.ta=b.F+f;a.ua=b.G+h;a.va=b.H+k};$f.prototype.ud=function(a,b){var e=a.x,d=a.z,c=e*e+d*d,f=this.lb-this.fc;0>f&&(f=0);c=0<c?f/Math.sqrt(c):0;f=this.Qb-this.fc;0>f&&(f=0);b.x=e*c;b.y=0<a.y?f:-f;b.z=d*c};$f.prototype.h=function(a,b,e,d,c,f,h){var k=this.Qb;d-=a;c-=b;f-=
e;var g=0,l=1;if(-1E-6<c&&1E-6>c){if(b<=-k||b>=k)return!1}else{var m=1/c,n=(-k-b)*m;k=(k-b)*m;n>k&&(m=n,n=k,k=m);0<n&&(g=n);1>k&&(l=k)}if(1<=g||0>=l)return!1;k=d*d+f*f;n=a*d+e*f;m=a*a+e*e-this.lb*this.lb;var q=n*n-k*m;if(0>q)return!1;if(0<k){if(q=Math.sqrt(q),m=(-n-q)/k,k=(-n+q)/k,1<=m||0>=k)return!1}else{if(0<=m)return!1;m=0;k=1}if(k<=g||l<=m)return!1;if(m<g){if(0==g)return!1;h.normal.Ia(0,0<c?-1:1,0)}else{g=m;if(0==g)return!1;l=h.normal.Ia(a+d*g,0,e+f*g);k=Math.sqrt(l.x*l.x+l.y*l.y+l.z*l.z);0<k&&
(k=1/k);l.x*=k;l.y*=k;l.z*=k}h.position.Ia(a+g*d,b+g*c,e+g*f);h.fraction=g;return!0};rl(kh,kd);kh.prototype.i=function(){return this.lb};kh.prototype.Wd=function(){this.Ge=4.188790204786386*this.lb*this.lb*this.lb;this.af=.4*this.lb*this.lb;this.df=this.cf=this.bf=0;this.ef=.4*this.lb*this.lb;this.hf=this.gf=this.ff=0;this.jf=.4*this.lb*this.lb};kh.prototype.Yb=function(a,b){var e,d;var c=d=e=this.lb;a.wa=b.F-e;a.xa=b.G-d;a.ya=b.H-c;a.ta=b.F+e;a.ua=b.G+d;a.va=b.H+c};kh.prototype.ud=function(a,b){b.$()};
kh.prototype.h=function(a,b,e,d,c,f,h){d-=a;c-=b;var k=f-e;f=d*d+c*c+k*k;var g=a*d+b*c+e*k,l=g*g-f*(a*a+b*b+e*e-this.lb*this.lb);if(0>l)return!1;f=(-g-Math.sqrt(l))/f;if(0>f||1<f)return!1;a+=d*f;b+=c*f;e+=k*f;d=a*a+b*b+e*e;0<d&&(d=1/Math.sqrt(d));c=h.position;c.x=a;c.y=b;c.z=e;c=h.normal;c.x=a*d;c.y=b*d;c.z=e*d;h.fraction=f;return!0};bk.prototype.i=function(a,b){return this.h[a][b]};bj.prototype.h=function(){for(var a=0,b=0,e=this.numPoints;b<e;){var d=b++;this.points[d].depth>a&&(a=this.points[d].depth)}return a};
bj.prototype.clear=function(){for(var a=this.numPoints=0,b=this.points;a<b.length;){var e=b[a];++a;e.position1.$();e.position2.$();e.depth=0;e.id=0}this.normal.$()};sg.prototype.M=function(a,b,e,d){var c=a.normal;c.x=b;c.y=e;c.z=d;this.C&&(a=a.normal,a.x=-a.x,a.y=-a.y,a.z=-a.z)};sg.prototype.h=function(a,b,e,d,c,f,h,k,g){a=a.points[a.numPoints++];a.depth=k;a.id=g;this.C?(k=a.position1,k.x=c,k.y=f,k.z=h,c=a.position2,c.x=b,c.y=e,c.z=d):(k=a.position1,k.x=b,k.y=e,k.z=d,b=a.position2,b.x=c,b.y=f,b.z=
h)};sg.prototype.I=function(){};sg.prototype.Ei=function(a,b,e,d,c,f){for(var h=a.numPoints=0,k=a.points;h<k.length;){var g=k[h];++h;g.position1.$();g.position2.$();g.depth=0;g.id=0}a.normal.$();this.C?this.I(a,e,b,c,d,f):this.I(a,b,e,d,c,f)};rl(vk,sg);vk.prototype.I=function(a,b,e,d,c){var f=b,h=e;a.incremental=!1;var k=d.F;var g=d.G;var l=d.H;var m=c.F;var n=c.G;var q=c.H;var p=m-k;var r=n-g;var t=q-l;var x=d.A;var v=d.o;var B=d.u;var H=d.j;var C=d.v;var N=d.l;var y=d.m;var A=d.s;var E=d.B;var L=
c.A;var G=c.o;var P=c.u;var K=c.j;var pa=c.v;var M=c.l;var Sa=c.m;var Pa=c.s;var Ca=c.B;var Ra=f.Sd,wa=f.Td,La=f.Ud,Ea=h.Sd,O=h.Td,ma=h.Ud;var Y=x*Ra;var ta=v*Ra;var Va=B*Ra;var D=H*wa;var Aa=C*wa;var aa=N*wa;var Ua=y*La;var xa=A*La;var Ja=E*La;var S=L*Ea;var la=G*Ea;var qa=P*Ea;var Da=K*O;var X=pa*O;var fa=M*O;var w=Sa*ma;var ja=Pa*ma;var ea=Ca*ma;var U=Infinity,ba=-1,Fa=0,ka,Qa;var Ka=Qa=ka=0;var V=Ra,ob=x*S+v*la+B*qa,Za=x*Da+v*X+B*fa,W=x*w+v*ja+B*ea;0>ob&&(ob=-ob);0>Za&&(Za=-Za);0>W&&(W=-W);var ha=
ob+Za+W,I=x*p+v*r+B*t,na=V+ha,ca=0>I,da=ca?-I:I;if(da<na){var Z=na-da;Infinity>Z&&(U=Z,ba=0,ka=x,Qa=v,Ka=B,Fa=ca?-1:1);V=wa;var oa=H*S+C*la+N*qa,xb=H*Da+C*X+N*fa,hb=H*w+C*ja+N*ea;0>oa&&(oa=-oa);0>xb&&(xb=-xb);0>hb&&(hb=-hb);ha=oa+xb+hb;I=H*p+C*r+N*t;var fb=V+ha,gb=0>I,pb=gb?-I:I;if(pb<fb){var ab=fb-pb;ab<U&&(U=ab,ba=1,ka=H,Qa=C,Ka=N,Fa=gb?-1:1);V=La;var $a=y*S+A*la+E*qa,ua=y*Da+A*X+E*fa,Ya=y*w+A*ja+E*ea;0>$a&&($a=-$a);0>ua&&(ua=-ua);0>Ya&&(Ya=-Ya);ha=$a+ua+Ya;I=y*p+A*r+E*t;var Fb=V+ha,Xa=0>I,Bb=Xa?
-I:I;if(Bb<Fb){var Wa=Fb-Bb;Wa<U&&(U=Wa,ba=2,ka=y,Qa=A,Ka=E,Fa=Xa?-1:1);U=U>ra.linearSlop?U-ra.linearSlop:0;var Cb=L*Y+G*ta+P*Va,qb=L*D+G*Aa+P*aa,bb=L*Ua+G*xa+P*Ja;0>Cb&&(Cb=-Cb);0>qb&&(qb=-qb);0>bb&&(bb=-bb);V=Cb+qb+bb;ha=Ea;I=L*p+G*r+P*t;var ib=V+ha,rb=0>I,db=rb?-I:I;if(db<ib){var Db=ib-db;Db<U&&(U=Db,ba=3,ka=L,Qa=G,Ka=P,Fa=rb?-1:1);var jb=K*Y+pa*ta+M*Va,nb=K*D+pa*Aa+M*aa,cb=K*Ua+pa*xa+M*Ja;0>jb&&(jb=-jb);0>nb&&(nb=-nb);0>cb&&(cb=-cb);V=jb+nb+cb;ha=O;I=K*p+pa*r+M*t;var Jb=V+ha,Kb=0>I,F=Kb?-I:I;
if(F<Jb){var ub=Jb-F;ub<U&&(U=ub,ba=4,ka=K,Qa=pa,Ka=M,Fa=Kb?-1:1);var lb=Sa*Y+Pa*ta+Ca*Va,yb=Sa*D+Pa*Aa+Ca*aa,vb=Sa*Ua+Pa*xa+Ca*Ja;0>lb&&(lb=-lb);0>yb&&(yb=-yb);0>vb&&(vb=-vb);V=lb+yb+vb;ha=ma;I=Sa*p+Pa*r+Ca*t;var eb=V+ha,Lb=0>I,mb=Lb?-I:I;if(mb<eb){var zb=eb-mb;zb<U&&(U=zb,ba=5,ka=Sa,Qa=Pa,Ka=Ca,Fa=Lb?-1:1);U=U>ra.linearSlop?U-ra.linearSlop:0;var u=v*P-B*G;var T=B*L-x*P;var R=x*G-v*L;if(0!=u||0!=T||0!=R){var va=u*u+T*T+R*R;0<va&&(va=1/Math.sqrt(va));u*=va;T*=va;R*=va;var Na=u*D+T*Aa+R*aa,ya=u*Ua+
T*xa+R*Ja;0>Na&&(Na=-Na);0>ya&&(ya=-ya);V=Na+ya;var Oa=u*Da+T*X+R*fa,kb=u*w+T*ja+R*ea;0>Oa&&(Oa=-Oa);0>kb&&(kb=-kb);ha=Oa+kb;I=u*p+T*r+R*t;var sb=V+ha,Hb=0>I,Ba=Hb?-I:I;if(Ba<sb){var Ta=sb-Ba;Ta<U&&(U=Ta,ba=6,ka=u,Qa=T,Ka=R,Fa=Hb?-1:1)}else return}u=v*M-B*pa;T=B*K-x*M;R=x*pa-v*K;if(0!=u||0!=T||0!=R){var sa=u*u+T*T+R*R;0<sa&&(sa=1/Math.sqrt(sa));u*=sa;T*=sa;R*=sa;var Ga=u*D+T*Aa+R*aa,Q=u*Ua+T*xa+R*Ja;0>Ga&&(Ga=-Ga);0>Q&&(Q=-Q);V=Ga+Q;var Ma=u*S+T*la+R*qa,Ia=u*w+T*ja+R*ea;0>Ma&&(Ma=-Ma);0>Ia&&(Ia=-Ia);
ha=Ma+Ia;I=u*p+T*r+R*t;var Eb=V+ha,wb=0>I,Mb=wb?-I:I;if(Mb<Eb){var Ib=Eb-Mb;Ib<U&&(U=Ib,ba=7,ka=u,Qa=T,Ka=R,Fa=wb?-1:1)}else return}u=v*Ca-B*Pa;T=B*Sa-x*Ca;R=x*Pa-v*Sa;if(0!=u||0!=T||0!=R){var Tb=u*u+T*T+R*R;0<Tb&&(Tb=1/Math.sqrt(Tb));u*=Tb;T*=Tb;R*=Tb;var Rb=u*D+T*Aa+R*aa,Wb=u*Ua+T*xa+R*Ja;0>Rb&&(Rb=-Rb);0>Wb&&(Wb=-Wb);V=Rb+Wb;var mc=u*S+T*la+R*qa,Xb=u*Da+T*X+R*fa;0>mc&&(mc=-mc);0>Xb&&(Xb=-Xb);ha=mc+Xb;I=u*p+T*r+R*t;var ic=V+ha,bc=0>I,$b=bc?-I:I;if($b<ic){var Zb=ic-$b;Zb<U&&(U=Zb,ba=8,ka=u,Qa=T,
Ka=R,Fa=bc?-1:1)}else return}u=C*P-N*G;T=N*L-H*P;R=H*G-C*L;if(0!=u||0!=T||0!=R){var Qb=u*u+T*T+R*R;0<Qb&&(Qb=1/Math.sqrt(Qb));u*=Qb;T*=Qb;R*=Qb;var jc=u*Y+T*ta+R*Va,ac=u*Ua+T*xa+R*Ja;0>jc&&(jc=-jc);0>ac&&(ac=-ac);V=jc+ac;var ec=u*Da+T*X+R*fa,Ub=u*w+T*ja+R*ea;0>ec&&(ec=-ec);0>Ub&&(Ub=-Ub);ha=ec+Ub;I=u*p+T*r+R*t;var kc=V+ha,uc=0>I,fc=uc?-I:I;if(fc<kc){var dd=kc-fc;dd<U&&(U=dd,ba=9,ka=u,Qa=T,Ka=R,Fa=uc?-1:1)}else return}u=C*M-N*pa;T=N*K-H*M;R=H*pa-C*K;if(0!=u||0!=T||0!=R){var Nb=u*u+T*T+R*R;0<Nb&&(Nb=
1/Math.sqrt(Nb));u*=Nb;T*=Nb;R*=Nb;var nc=u*Y+T*ta+R*Va,gc=u*Ua+T*xa+R*Ja;0>nc&&(nc=-nc);0>gc&&(gc=-gc);V=nc+gc;var Vb=u*S+T*la+R*qa,lc=u*w+T*ja+R*ea;0>Vb&&(Vb=-Vb);0>lc&&(lc=-lc);ha=Vb+lc;I=u*p+T*r+R*t;var ed=V+ha,Bc=0>I,Kc=Bc?-I:I;if(Kc<ed){var zc=ed-Kc;zc<U&&(U=zc,ba=10,ka=u,Qa=T,Ka=R,Fa=Bc?-1:1)}else return}u=C*Ca-N*Pa;T=N*Sa-H*Ca;R=H*Pa-C*Sa;if(0!=u||0!=T||0!=R){var Cc=u*u+T*T+R*R;0<Cc&&(Cc=1/Math.sqrt(Cc));u*=Cc;T*=Cc;R*=Cc;var sc=u*Y+T*ta+R*Va,Lc=u*Ua+T*xa+R*Ja;0>sc&&(sc=-sc);0>Lc&&(Lc=-Lc);
V=sc+Lc;var zd=u*S+T*la+R*qa,Rc=u*Da+T*X+R*fa;0>zd&&(zd=-zd);0>Rc&&(Rc=-Rc);ha=zd+Rc;I=u*p+T*r+R*t;var Wc=V+ha,Dc=0>I,Ec=Dc?-I:I;if(Ec<Wc){var od=Wc-Ec;od<U&&(U=od,ba=11,ka=u,Qa=T,Ka=R,Fa=Dc?-1:1)}else return}u=A*P-E*G;T=E*L-y*P;R=y*G-A*L;if(0!=u||0!=T||0!=R){var hc=u*u+T*T+R*R;0<hc&&(hc=1/Math.sqrt(hc));u*=hc;T*=hc;R*=hc;var fd=u*Y+T*ta+R*Va,Sc=u*D+T*Aa+R*aa;0>fd&&(fd=-fd);0>Sc&&(Sc=-Sc);V=fd+Sc;var pd=u*Da+T*X+R*fa,Gd=u*w+T*ja+R*ea;0>pd&&(pd=-pd);0>Gd&&(Gd=-Gd);ha=pd+Gd;I=u*p+T*r+R*t;var Tc=V+ha,
Pd=0>I,je=Pd?-I:I;if(je<Tc){var De=Tc-je;De<U&&(U=De,ba=12,ka=u,Qa=T,Ka=R,Fa=Pd?-1:1)}else return}u=A*M-E*pa;T=E*K-y*M;R=y*pa-A*K;if(0!=u||0!=T||0!=R){var Kd=u*u+T*T+R*R;0<Kd&&(Kd=1/Math.sqrt(Kd));u*=Kd;T*=Kd;R*=Kd;var Xc=u*Y+T*ta+R*Va,be=u*D+T*Aa+R*aa;0>Xc&&(Xc=-Xc);0>be&&(be=-be);V=Xc+be;var ue=u*S+T*la+R*qa,Ee=u*w+T*ja+R*ea;0>ue&&(ue=-ue);0>Ee&&(Ee=-Ee);ha=ue+Ee;I=u*p+T*r+R*t;var ve=V+ha,qd=0>I,ce=qd?-I:I;if(ce<ve){var we=ve-ce;we<U&&(U=we,ba=13,ka=u,Qa=T,Ka=R,Fa=qd?-1:1)}else return}u=A*Ca-E*
Pa;T=E*Sa-y*Ca;R=y*Pa-A*Sa;if(0!=u||0!=T||0!=R){var ke=u*u+T*T+R*R;0<ke&&(ke=1/Math.sqrt(ke));u*=ke;T*=ke;R*=ke;var le=u*Y+T*ta+R*Va,Fc=u*D+T*Aa+R*aa;0>le&&(le=-le);0>Fc&&(Fc=-Fc);V=le+Fc;var gd=u*S+T*la+R*qa,hd=u*Da+T*X+R*fa;0>gd&&(gd=-gd);0>hd&&(hd=-hd);ha=gd+hd;I=u*p+T*r+R*t;var Ad=V+ha,Yc=0>I,Mc=Yc?-I:I;if(Mc<Ad){var ug=Ad-Mc;ug<U&&(U=ug,ba=14,ka=u,Qa=T,Ka=R,Fa=Yc?-1:1)}else return}if(6<=ba){ka*=Fa;Qa*=Fa;Ka*=Fa;var vg=(ba-6)/3|0,lh=ba-6-3*vg;switch(vg){case 0:var Me=x;var uf=v;var vf=B;var Fe=
0<Ua*ka+xa*Qa+Ja*Ka;if(0<D*ka+Aa*Qa+aa*Ka)if(Fe){var Ic=D+Ua;var Jc=Aa+xa;var oc=aa+Ja}else Ic=D-Ua,Jc=Aa-xa,oc=aa-Ja;else Fe?(Ic=Ua-D,Jc=xa-Aa,oc=Ja-aa):(Ic=D+Ua,Jc=Aa+xa,oc=aa+Ja,Ic=-Ic,Jc=-Jc,oc=-oc);break;case 1:Me=H;uf=C;vf=N;var xe=0<Ua*ka+xa*Qa+Ja*Ka;0<Y*ka+ta*Qa+Va*Ka?xe?(Ic=Y+Ua,Jc=ta+xa,oc=Va+Ja):(Ic=Y-Ua,Jc=ta-xa,oc=Va-Ja):xe?(Ic=Ua-Y,Jc=xa-ta,oc=Ja-Va):(Ic=Y+Ua,Jc=ta+xa,oc=Va+Ja,Ic=-Ic,Jc=-Jc,oc=-oc);break;default:Me=y;uf=A;vf=E;var me=0<D*ka+Aa*Qa+aa*Ka;0<Y*ka+ta*Qa+Va*Ka?me?(Ic=Y+D,
Jc=ta+Aa,oc=Va+aa):(Ic=Y-D,Jc=ta-Aa,oc=Va-aa):me?(Ic=D-Y,Jc=Aa-ta,oc=aa-Va):(Ic=Y+D,Jc=ta+Aa,oc=Va+aa,Ic=-Ic,Jc=-Jc,oc=-oc)}Ic=k+Ic;Jc=g+Jc;oc=l+oc;switch(lh){case 0:var Qd=L;var Rd=G;var ye=P;var dg=0<w*ka+ja*Qa+ea*Ka;if(0<Da*ka+X*Qa+fa*Ka)if(dg){var Uc=Da+w;var Vc=X+ja;var Nc=fa+ea}else Uc=Da-w,Vc=X-ja,Nc=fa-ea;else dg?(Uc=w-Da,Vc=ja-X,Nc=ea-fa):(Uc=Da+w,Vc=X+ja,Nc=fa+ea,Uc=-Uc,Vc=-Vc,Nc=-Nc);break;case 1:Qd=K;Rd=pa;ye=M;var wf=0<w*ka+ja*Qa+ea*Ka;0<S*ka+la*Qa+qa*Ka?wf?(Uc=S+w,Vc=la+ja,Nc=qa+ea):
(Uc=S-w,Vc=la-ja,Nc=qa-ea):wf?(Uc=w-S,Vc=ja-la,Nc=ea-qa):(Uc=S+w,Vc=la+ja,Nc=qa+ea,Uc=-Uc,Vc=-Vc,Nc=-Nc);break;default:Qd=Sa;Rd=Pa;ye=Ca;var Vd=0<Da*ka+X*Qa+fa*Ka;0<S*ka+la*Qa+qa*Ka?Vd?(Uc=S+Da,Vc=la+X,Nc=qa+fa):(Uc=S-Da,Vc=la-X,Nc=qa-fa):Vd?(Uc=Da-S,Vc=X-la,Nc=fa-qa):(Uc=S+Da,Vc=la+X,Nc=qa+fa,Uc=-Uc,Vc=-Vc,Nc=-Nc)}Uc=m-Uc;Vc=n-Vc;Nc=q-Nc;var Ge=Ic-Uc;var eg=Jc-Vc;var Ne=oc-Nc;var bf=Me*Qd+uf*Rd+vf*ye,xf=Me*Ge+uf*eg+vf*Ne,If=Qd*Ge+Rd*eg+ye*Ne,Jf=1/(1-bf*bf),cf=(bf*If-xf)*Jf,df=(If-bf*xf)*Jf;var Kf=
Ic+Me*cf;var Lf=Jc+uf*cf;var yf=oc+vf*cf;var zf=Uc+Qd*df;var ze=Vc+Rd*df;var ef=Nc+ye*df;this.M(a,-ka,-Qa,-Ka);this.h(a,Kf,Lf,yf,zf,ze,ef,U,4)}else{if(3<=ba){Fa=-Fa;p=-p;r=-r;t=-t;var Mf=f;f=h;h=Mf;var ff=Ra;Ra=Ea;Ea=ff;var Zg=wa;wa=O;O=Zg;var Kh=La;La=ma;ma=Kh;var Bd=k;var vc=g;var wc=l;k=m;g=n;l=q;m=Bd;n=vc;q=wc;Bd=x;vc=v;wc=B;x=L;v=G;B=P;L=Bd;G=vc;P=wc;Bd=H;vc=C;wc=N;H=K;C=pa;N=M;K=Bd;pa=vc;M=wc;Bd=y;vc=A;wc=E;y=Sa;A=Pa;E=Ca;Sa=Bd;Pa=vc;Ca=wc;Bd=Y;vc=ta;wc=Va;Y=S;ta=la;Va=qa;S=Bd;la=vc;qa=wc;Bd=
D;vc=Aa;wc=aa;D=Da;Aa=X;aa=fa;Da=Bd;X=vc;fa=wc;Bd=Ua;vc=xa;wc=Ja;Ua=w;xa=ja;Ja=ea;w=Bd;ja=vc;ea=wc;ba-=3;var Cd=!0}else Cd=!1;switch(ba){case 0:var Oe=Y;var Pe=ta;var Qe=Va;var Wd=x;var Xd=v;var Dd=B;var de=H;var He=C;var ne=N;var Hd=y;var ee=A;var Yd=E;var Ae=wa;var oe=La;break;case 1:Oe=D;Pe=Aa;Qe=aa;Wd=H;Xd=C;Dd=N;de=y;He=A;ne=E;Hd=x;ee=v;Yd=B;Ae=La;oe=Ra;break;default:Oe=Ua,Pe=xa,Qe=Ja,Wd=y,Xd=A,Dd=E,de=x,He=v,ne=B,Hd=H,ee=C,Yd=N,Ae=Ra,oe=wa}if(0>Fa){Oe=-Oe;Pe=-Pe;Qe=-Qe;Wd=-Wd;Xd=-Xd;Dd=-Dd;
Bd=de;vc=He;wc=ne;de=Hd;He=ee;ne=Yd;Hd=Bd;ee=vc;Yd=wc;var Af=Ae;Ae=oe;oe=Af}Oe+=k;Pe+=g;Qe+=l;var ld=1,Sd=0,ud=Wd*L+Xd*G+Dd*P;ud<ld&&(ld=ud,Sd=0);-ud<ld&&(ld=-ud,Sd=1);ud=Wd*K+Xd*pa+Dd*M;ud<ld&&(ld=ud,Sd=2);-ud<ld&&(ld=-ud,Sd=3);ud=Wd*Sa+Xd*Pa+Dd*Ca;ud<ld&&(ld=ud,Sd=4);-ud<ld&&(ld=-ud,Sd=5);switch(Sd){case 0:var rd=S+Da;var sd=la+X;var md=qa+fa;rd+=w;sd+=ja;md+=ea;var Zc=S-Da;var $c=la-X;var Gc=qa-fa;Zc+=w;$c+=ja;Gc+=ea;var xc=S-Da;var Hc=la-X;var Ac=qa-fa;xc-=w;Hc-=ja;Ac-=ea;var id=S+Da;var Oc=la+
X;var ad=qa+fa;id-=w;Oc-=ja;ad-=ea;break;case 1:rd=Da-S;sd=X-la;md=fa-qa;rd+=w;sd+=ja;md+=ea;Zc=Da-S;$c=X-la;Gc=fa-qa;Zc-=w;$c-=ja;Gc-=ea;xc=S+Da;Hc=la+X;Ac=qa+fa;xc=-xc;Hc=-Hc;Ac=-Ac;xc-=w;Hc-=ja;Ac-=ea;id=S+Da;Oc=la+X;ad=qa+fa;id=-id;Oc=-Oc;ad=-ad;id+=w;Oc+=ja;ad+=ea;break;case 2:rd=S+Da;sd=la+X;md=qa+fa;rd+=w;sd+=ja;md+=ea;Zc=S+Da;$c=la+X;Gc=qa+fa;Zc-=w;$c-=ja;Gc-=ea;xc=Da-S;Hc=X-la;Ac=fa-qa;xc-=w;Hc-=ja;Ac-=ea;id=Da-S;Oc=X-la;ad=fa-qa;id+=w;Oc+=ja;ad+=ea;break;case 3:rd=S-Da;sd=la-X;md=qa-fa;
rd+=w;sd+=ja;md+=ea;Zc=S+Da;$c=la+X;Gc=qa+fa;Zc=-Zc;$c=-$c;Gc=-Gc;Zc+=w;$c+=ja;Gc+=ea;xc=S+Da;Hc=la+X;Ac=qa+fa;xc=-xc;Hc=-Hc;Ac=-Ac;xc-=w;Hc-=ja;Ac-=ea;id=S-Da;Oc=la-X;ad=qa-fa;id-=w;Oc-=ja;ad-=ea;break;case 4:rd=S+Da;sd=la+X;md=qa+fa;rd+=w;sd+=ja;md+=ea;Zc=Da-S;$c=X-la;Gc=fa-qa;Zc+=w;$c+=ja;Gc+=ea;xc=S+Da;Hc=la+X;Ac=qa+fa;xc=-xc;Hc=-Hc;Ac=-Ac;xc+=w;Hc+=ja;Ac+=ea;id=S-Da;Oc=la-X;ad=qa-fa;id+=w;Oc+=ja;ad+=ea;break;default:rd=S+Da,sd=la+X,md=qa+fa,rd-=w,sd-=ja,md-=ea,Zc=S-Da,$c=la-X,Gc=qa-fa,Zc-=w,
$c-=ja,Gc-=ea,xc=S+Da,Hc=la+X,Ac=qa+fa,xc=-xc,Hc=-Hc,Ac=-Ac,xc-=w,Hc-=ja,Ac-=ea,id=Da-S,Oc=X-la,ad=fa-qa,id-=w,Oc-=ja,ad-=ea}rd+=p;sd+=r;md+=t;Zc+=p;$c+=r;Gc+=t;xc+=p;Hc+=r;Ac+=t;id+=p;Oc+=r;ad+=t;var Ie=this.i;Ie.w=Ae;Ie.M=oe;Ie.I=0;Ie.C=0;var Nf=this.i,Ed=Nf.i[Nf.I++];Ed.x=rd*de+sd*He+md*ne;Ed.y=rd*Hd+sd*ee+md*Yd;Ed.Za=rd;Ed.$a=sd;Ed.ab=md;var Td=this.i,td=Td.i[Td.I++];td.x=Zc*de+$c*He+Gc*ne;td.y=Zc*Hd+$c*ee+Gc*Yd;td.Za=Zc;td.$a=$c;td.ab=Gc;var Ld=this.i,vd=Ld.i[Ld.I++];vd.x=xc*de+Hc*He+Ac*ne;vd.y=
xc*Hd+Hc*ee+Ac*Yd;vd.Za=xc;vd.$a=Hc;vd.ab=Ac;var wd=this.i,Of=wd.i[wd.I++];Of.x=id*de+Oc*He+ad*ne;Of.y=id*Hd+Oc*ee+ad*Yd;Of.Za=id;Of.$a=Oc;Of.ab=ad;this.i.V();this.i.W();if(Cd){var Lh=Wd;var Mh=Xd;var Nh=Dd}else Lh=-Wd,Mh=-Xd,Nh=-Dd;this.M(a,Lh,Mh,Nh);for(var mh=0,$g=this.i.I;mh<$g;){var Be=mh++,Je=this.i.i[Be],Ce=void 0,Id=void 0,fe=void 0;Ce=Je.Za;Id=Je.$a;fe=Je.ab;Ce+=k;Id+=g;fe+=l;var pe=void 0,qe=void 0,Re=void 0;pe=Oe-Ce;qe=Pe-Id;Re=Qe-fe;var Ud=pe*Wd+qe*Xd+Re*Dd,Se=void 0,Pf=void 0,Qf=void 0;
Se=Ce+Wd*Ud;Pf=Id+Xd*Ud;Qf=fe+Dd*Ud;Ud>-ra.contactPersistenceThreshold&&(Cd?this.h(a,Ce,Id,fe,Se,Pf,Qf,Ud,Be):this.h(a,Se,Pf,Qf,Ce,Id,fe,Ud,Be))}}}}}}}}};Ik.prototype.V=function(){for(var a=0,b=this.I;a<b;){var e=a++,d=this.i[e];e=this.i[(e+1)%this.I];var c=this.w+d.x,f=this.w+e.x;if(0<c&&0<f)e=this.h[this.C++],e.x=d.x,e.y=d.y,e.Za=d.Za,e.$a=d.$a,e.ab=d.ab;else if(0<c&&0>=f){var h=this.h[this.C++];h.x=d.x;h.y=d.y;h.Za=d.Za;h.$a=d.$a;h.ab=d.ab;c/=c-f;f=this.h[this.C++];f.x=d.x+(e.x-d.x)*c;f.y=d.y+
(e.y-d.y)*c;f.Za=d.Za+(e.Za-d.Za)*c;f.$a=d.$a+(e.$a-d.$a)*c;f.ab=d.ab+(e.ab-d.ab)*c}else 0>=c&&0<f&&(c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.Za=d.Za+(e.Za-d.Za)*c,f.$a=d.$a+(e.$a-d.$a)*c,f.ab=d.ab+(e.ab-d.ab)*c)}a=this.i;this.i=this.h;this.h=a;this.I=this.C;a=this.C=0;for(b=this.I;a<b;)e=a++,d=this.i[e],e=this.i[(e+1)%this.I],c=this.w-d.x,f=this.w-e.x,0<c&&0<f?(e=this.h[this.C++],e.x=d.x,e.y=d.y,e.Za=d.Za,e.$a=d.$a,e.ab=d.ab):0<c&&0>=f?(h=this.h[this.C++],h.x=d.x,h.y=d.y,
h.Za=d.Za,h.$a=d.$a,h.ab=d.ab,c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.Za=d.Za+(e.Za-d.Za)*c,f.$a=d.$a+(e.$a-d.$a)*c,f.ab=d.ab+(e.ab-d.ab)*c):0>=c&&0<f&&(c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.Za=d.Za+(e.Za-d.Za)*c,f.$a=d.$a+(e.$a-d.$a)*c,f.ab=d.ab+(e.ab-d.ab)*c);a=this.i;this.i=this.h;this.h=a;this.I=this.C;a=this.C=0;for(b=this.I;a<b;)e=a++,d=this.i[e],e=this.i[(e+1)%this.I],c=this.M+d.y,f=this.M+e.y,0<c&&0<f?(e=this.h[this.C++],e.x=d.x,e.y=
d.y,e.Za=d.Za,e.$a=d.$a,e.ab=d.ab):0<c&&0>=f?(h=this.h[this.C++],h.x=d.x,h.y=d.y,h.Za=d.Za,h.$a=d.$a,h.ab=d.ab,c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.Za=d.Za+(e.Za-d.Za)*c,f.$a=d.$a+(e.$a-d.$a)*c,f.ab=d.ab+(e.ab-d.ab)*c):0>=c&&0<f&&(c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.Za=d.Za+(e.Za-d.Za)*c,f.$a=d.$a+(e.$a-d.$a)*c,f.ab=d.ab+(e.ab-d.ab)*c);a=this.i;this.i=this.h;this.h=a;this.I=this.C;a=this.C=0;for(b=this.I;a<b;)e=a++,d=this.i[e],e=this.i[(e+
1)%this.I],c=this.M-d.y,f=this.M-e.y,0<c&&0<f?(e=this.h[this.C++],e.x=d.x,e.y=d.y,e.Za=d.Za,e.$a=d.$a,e.ab=d.ab):0<c&&0>=f?(h=this.h[this.C++],h.x=d.x,h.y=d.y,h.Za=d.Za,h.$a=d.$a,h.ab=d.ab,c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.Za=d.Za+(e.Za-d.Za)*c,f.$a=d.$a+(e.$a-d.$a)*c,f.ab=d.ab+(e.ab-d.ab)*c):0>=c&&0<f&&(c/=c-f,f=this.h[this.C++],f.x=d.x+(e.x-d.x)*c,f.y=d.y+(e.y-d.y)*c,f.Za=d.Za+(e.Za-d.Za)*c,f.$a=d.$a+(e.$a-d.$a)*c,f.ab=d.ab+(e.ab-d.ab)*c);a=this.i;this.i=this.h;
this.h=a;this.I=this.C;this.C=0};Ik.prototype.W=function(){if(!(4>this.I)){for(var a=-Infinity,b=Infinity,e=-Infinity,d=Infinity,c=null,f=null,h=null,k=null,g=0,l=this.I;g<l;){var m=g++,n=this.i[m],q=1*n.x+1*n.y,p=-1*n.x+1*n.y;0==m?(a=q,c=n,b=q,f=n,e=p,h=n,d=p,k=n):(q>a&&(a=q,c=n),q<b&&(b=q,f=n),p>e&&(e=p,h=n),p<d&&(d=p,k=n))}a=this.h[this.C++];a.x=c.x;a.y=c.y;a.Za=c.Za;a.$a=c.$a;a.ab=c.ab;c=this.h[this.C++];c.x=h.x;c.y=h.y;c.Za=h.Za;c.$a=h.$a;c.ab=h.ab;h=this.h[this.C++];h.x=f.x;h.y=f.y;h.Za=f.Za;
h.$a=f.$a;h.ab=f.ab;f=this.h[this.C++];f.x=k.x;f.y=k.y;f.Za=k.Za;f.$a=k.$a;f.ab=k.ab;k=this.i;this.i=this.h;this.h=k;this.I=this.C;this.C=0}};dl.prototype.de=function(){null!=this.og&&this.og.clear()};rl(uk,sg);uk.prototype.I=function(a,b,e,d,c){a.incremental=!1;var f=d.j;var h=d.v;var k=d.l;var g=c.j;var l=c.v;var m=c.l;var n=b.Qb,q=e.Qb;b=b.lb;e=e.lb;var p=d.F+f*-n;var r=d.G+h*-n;var t=d.H+k*-n;f=d.F+f*n;var x=d.G+h*n;var v=d.H+k*n;h=c.F+g*-q;k=c.G+l*-q;d=c.H+m*-q;g=c.F+g*q;l=c.G+l*q;var B=c.H+
m*q;var H=p-h;var C=r-k;var N=t-d;f-=p;x-=r;c=v-t;m=g-h;v=l-k;g=B-d;l=-(H*f+C*x+N*c);H=H*m+C*v+N*g;C=n*n*4;N=f*m+x*v+c*g;B=q*q*4;0==C&&0==B?q=n=0:0==C?(n=0,q=0>H?0:H>B?1:H/B):0==B?(q=0,n=0>l?0:l>C?1:l/C):(q=C*B-N*N,0==q?n=0:(n=N*H+B*l,n=0>n?0:n>q?1:n/q),q=n*N+H,0>q?(q=0,n=0>l?0:l>C?1:l/C):q>B?(q=1,n=N+l,n=0>n?0:n>C?1:n/C):q/=B);p+=f*n;r+=x*n;t+=c*n;h+=m*q;k+=v*q;d+=g*q;x=p-h;f=r-k;q=t-d;n=x*x+f*f+q*q;n>=(b+e)*(b+e)||(n=Math.sqrt(n),0<n?(x*=1/n,f*=1/n,q*=1/n):(x=1,q=f=0),this.M(a,x,f,q),this.h(a,p+
x*-b,r+f*-b,t+q*-b,h+x*e,k+f*e,d+q*e,b+e-n,0))};rl(tk,sg);tk.prototype.I=function(a,b,e,d,c,f){var h=yc.instance;d=h.Oa(b,e,d,c,ra.enableGJKCaching?f:null,!0);a.incremental=!0;if(d!=Xg.SUCCEEDED)console.log("src/oimo/collision/narrowphase/detector/GjkEpaDetector.hx:28:","GJK/EPA failed: status="+d);else if(!(h.distance>b.fc+e.fc)){f=h.closestPoint1;d=f.x;c=f.y;f=f.z;var k=h.closestPoint2;var g=k.x;var l=k.y;k=k.z;var m=d-g;var n=c-l;var q=f-k;if(0!=m*m+n*n+q*q){0>h.distance&&(m=-m,n=-n,q=-q);var p=
m*m+n*n+q*q;0<p&&(p=1/Math.sqrt(p));m*=p;n*=p;q*=p;this.M(a,m,n,q);d+=m*-b.fc;c+=n*-b.fc;f+=q*-b.fc;g+=m*e.fc;l+=n*e.fc;k+=q*e.fc;this.h(a,d,c,f,g,l,k,b.fc+e.fc-h.distance,0)}}};rl(ek,sg);ek.prototype.I=function(a,b,e,d,c){a.incremental=!1;var f=e.Sd;var h=e.Td;e=e.Ud;var k=-f;var g=-h;var l=-e;b=b.lb;var m=d.F-c.F;var n=d.G-c.G;var q=d.H-c.H;var p=c.A*m+c.o*n+c.u*q;var r=c.j*m+c.v*n+c.l*q;m=c.m*m+c.s*n+c.B*q;if(k<p&&f>p&&g<r&&h>r&&l<m&&e>m){n=f-(0>p?-p:p);var t=h-(0>r?-r:r);var x=e-(0>m?-m:m),v;
if(n<t)if(n<x){k=0<p?1:-1;var B=l=g=0;q=v=1}else 0<m?(g=k=0,l=1):(g=k=0,l=-1),v=B=1,q=0,n=x;else t<x?(0<r?(k=0,g=1):(k=0,g=-1),l=0,B=1,v=0,q=1,n=t):(0<m?(g=k=0,l=1):(g=k=0,l=-1),v=B=1,q=0,n=x);p=k*f+B*p;h=g*h+v*r;m=l*e+q*m;e=c.A*p+c.j*h+c.m*m;r=c.o*p+c.v*h+c.s*m;h=c.u*p+c.l*h+c.B*m;m=c.A*k+c.j*g+c.m*l;p=c.o*k+c.v*g+c.s*l;f=c.u*k+c.l*g+c.B*l;this.M(a,m,p,f);this.h(a,d.F+m*-b,d.G+p*-b,d.H+f*-b,c.F+e,c.G+r,c.H+h,n,0)}else f-=1E-9,h-=1E-9,e-=1E-9,k+=1E-9,g+=1E-9,l+=1E-9,f=p<f?p:f,n=r<h?r:h,q=m<e?m:e,
f>k||(f=k),n>g||(n=g),q>l||(q=l),p-=f,k=r-n,g=m-q,e=p*p+k*k+g*g,e>=b*b||(e=Math.sqrt(e),r=c.A*f+c.j*n+c.m*q,h=c.o*f+c.v*n+c.s*q,m=c.u*f+c.l*n+c.B*q,l=c.A*p+c.j*k+c.m*g,f=c.o*p+c.v*k+c.s*g,p=c.u*p+c.l*k+c.B*g,g=l*l+f*f+p*p,0<g&&(g=1/Math.sqrt(g)),k=l*g,f*=g,p*=g,this.M(a,k,f,p),this.h(a,d.F+k*-b,d.G+f*-b,d.H+p*-b,c.F+r,c.G+h,c.H+m,b-e,0))};rl(dk,sg);dk.prototype.I=function(a,b,e,d,c){a.incremental=!1;var f=e.Qb;b=b.lb;e=e.lb;var h=c.j;var k=c.v;var g=c.l;var l=d.F;var m=d.G;d=d.H;var n=c.F+h*-f;var q=
c.G+k*-f;var p=c.H+g*-f;h=c.F+h*f;k=c.G+k*f;var r=c.H+g*f;c=h-n;g=k-q;k=r-p;f=f*f*4;h=(l-n)*c+(m-q)*g+(d-p)*k;h=0>h?0:h>f?1:h/f;f=n+c*h;q+=g*h;p+=k*h;k=l-f;g=m-q;n=d-p;c=k*k+g*g+n*n;c>=(b+e)*(b+e)||(c=Math.sqrt(c),0<c?(k*=1/c,g*=1/c,n*=1/c):(k=1,n=g=0),this.M(a,k,g,n),this.h(a,l+k*-b,m+g*-b,d+n*-b,f+k*e,q+g*e,p+n*e,b+e-c,0))};rl(sk,sg);sk.prototype.I=function(a,b,e,d,c){a.incremental=!1;var f=d.F-c.F;var h=d.G-c.G;var k=d.H-c.H;b=b.lb;e=e.lb;var g=f*f+h*h+k*k;g>=(b+e)*(b+e)||(g=Math.sqrt(g),0<g?(f*=
1/g,h*=1/g,k*=1/g):(f=1,k=h=0),this.M(a,f,h,k),this.h(a,d.F+f*-b,d.G+h*-b,d.H+k*-b,c.F+f*e,c.G+h*e,c.H+k*e,b+e-g,0))};ck.prototype.validate=function(){for(var a=this.C;null!=a;){a.Ja[0].dg=null;a.Ja[0].Pf=null;if(-1==a.Vb[0])return this.h=2,!1;if(null==a.Ub[0])return this.h=3,!1;a.Ja[1].dg=null;a.Ja[1].Pf=null;if(-1==a.Vb[1])return this.h=2,!1;if(null==a.Ub[1])return this.h=3,!1;a.Ja[2].dg=null;a.Ja[2].Pf=null;if(-1==a.Vb[2])return this.h=2,!1;if(null==a.Ub[2])return this.h=3,!1;a=a.U}return!0};ck.prototype.Y=
function(a,b,e){if(b.Xh!=a){b.Xh=a;var d=b.ng;d.x=e.x;d.y=e.y;d.z=e.z;var c=b.Ja[0].kd;d.x-=c.x;d.y-=c.y;d.z-=c.z;d=b.ng;c=b.jh;b.Lg=0<d.x*c.x+d.y*c.y+d.z*c.z;if(b.Lg){for(d=0;3>d;){c=d++;var f=b.Ub[c];if(null!=f){var h=f.ng;h.x=e.x;h.y=e.y;h.z=e.z;var k=f.Ja[0].kd;h.x-=k.x;h.y-=k.y;h.z-=k.z;h=f.ng;k=f.jh;f.Lg=0<h.x*k.x+h.y*k.y+h.z*k.z;f.Lg?this.Y(a,f,e):(h=b.Ja[c],h.Pf=b.Ja[b.Ac[c]],h.dg=f)}}a=b.Ub[0];null!=a&&(e=b.Vb[0],a.Ub[e]=null,a.Vb[e]=-1,b.Ub[0]=null,b.Vb[0]=-1);a=b.Ub[1];null!=a&&(e=b.Vb[1],
a.Ub[e]=null,a.Vb[e]=-1,b.Ub[1]=null,b.Vb[1]=-1);a=b.Ub[2];null!=a&&(e=b.Vb[2],a.Ub[e]=null,a.Vb[e]=-1,b.Ub[2]=null,b.Vb[2]=-1);this.V--;a=b.sa;e=b.U;null!=a&&(a.U=e);null!=e&&(e.sa=a);b==this.C&&(this.C=this.C.U);b==this.i&&(this.i=this.i.sa);b.U=null;b.sa=null;b.uh();b.U=this.I;this.I=b}else this.h=6}};ck.prototype.aa=function(a,b,e,d){this.h=0;this.Vd=4;this.Ja[0]=a;this.Ja[1]=b;this.Ja[2]=e;this.Ja[3]=d;var c=this.W,f=a.kd;c.x=f.x;c.y=f.y;c.z=f.z;f=b.kd;c.x+=f.x;c.y+=f.y;c.z+=f.z;f=e.kd;c.x+=
f.x;c.y+=f.y;c.z+=f.z;f=d.kd;c.x+=f.x;c.y+=f.y;c.z+=f.z;c.x*=.25;c.y*=.25;c.z*=.25;c=this.I;null!=c?(this.I=c.U,c.U=null):c=new Hh;f=this.I;null!=f?(this.I=f.U,f.U=null):f=new Hh;var h=this.I;null!=h?(this.I=h.U,h.U=null):h=new Hh;var k=this.I;null!=k?(this.I=k.U,k.U=null):k=new Hh;c.Ia(a,b,e,this.W,!0)||(this.h=1);f.Ia(a,b,d,this.W,!0)||(this.h=1);h.Ia(a,e,d,this.W,!0)||(this.h=1);k.Ia(b,e,d,this.W,!0)||(this.h=1);c.Cf(f)||(this.h=1);c.Cf(h)||(this.h=1);c.Cf(k)||(this.h=1);f.Cf(h)||(this.h=1);f.Cf(k)||
(this.h=1);h.Cf(k)||(this.h=1);this.V++;null==this.C?this.C=c:(this.i.U=c,c.sa=this.i);this.i=c;this.V++;null==this.C?this.C=f:(this.i.U=f,f.sa=this.i);this.i=f;this.V++;null==this.C?this.C=h:(this.i.U=h,h.sa=this.i);this.i=h;this.V++;null==this.C?this.C=k:(this.i.U=k,k.sa=this.i);this.i=k;return 0==this.h};ck.prototype.qa=function(a,b){this.Ja[this.Vd++]=a;var e=b.Ja[0];this.Y(this.Vd,b,a.kd);if(0!=this.h)return!1;b=e;for(var d=null,c=null;;){if(null==b.Pf)return this.h=4,!1;if(null==b.dg)return this.h=
5,!1;var f=this.I;null!=f?(this.I=f.U,f.U=null):f=new Hh;null==c&&(c=f);f.Ia(b,b.Pf,a,this.W,!1)||(this.h=1);if(0!=this.h)return!1;this.V++;null==this.C?this.C=f:(this.i.U=f,f.sa=this.i);this.i=f;f.Cf(b.dg)||(this.h=1);null==d||f.Cf(d)||(this.h=1);d=f;b=b.Pf;if(b==e)break}d.Cf(c)||(this.h=1);return 0==this.h?this.validate():!1};Hh.prototype.Ia=function(a,b,e,d,c){null==c&&(c=!1);var f=a.kd;var h=f.x;var k=f.y;var g=f.z;var l=b.kd;var m=l.x;var n=l.y;var q=l.z;var p=e.kd;var r=p.x;var t=p.y;var x=
p.z;var v=d.x;var B=d.y;var H=d.z;var C=m-h;var N=n-k;var y=q-g;var A=r-h;var E=t-k;var L=x-g;var G=h-v;var P=k-B;var K=g-H;var pa=N*L-y*E;var M=y*A-C*L;var Sa=C*E-N*A;var Pa=!1;if(0>G*pa+P*M+K*Sa)if(c){var Ca=b;b=e;e=Ca;pa*=-1;M*=-1;Sa*=-1}else Pa=!0;this.Ja[0]=a;this.Ja[1]=b;this.Ja[2]=e;var Ra=this.jh;Ra.x=pa;Ra.y=M;Ra.z=Sa;var wa=a.kd,La=b.kd,Ea=e.kd,O=this.ng;var ma=wa.x;var Y=wa.y;var ta=wa.z;var Va=La.x;var D=La.y;var Aa=La.z;var aa=Ea.x;var Ua=Ea.y;var xa=Ea.z;var Ja=Va-ma;var S=D-Y;var la=
Aa-ta;var qa=aa-Va;var Da=Ua-D;var X=xa-Aa;var fa=ma-aa;var w=Y-Ua;var ja=ta-xa;var ea=S*X-la*Da;var U=la*qa-Ja*X;var ba=Ja*Da-S*qa;var Fa=S*ba-la*U;var ka=la*ea-Ja*ba;var Qa=Ja*U-S*ea;var Ka=Da*ba-X*U;var V=X*ea-qa*ba;var ob=qa*U-Da*ea;var Za=w*ba-ja*U;var W=ja*ea-fa*ba;var ha=fa*U-w*ea;var I=-1,na,ca;var da=ca=na=0;if(0>ma*Fa+Y*ka+ta*Qa){var Z=wa.x;var oa=wa.y;var xb=wa.z;var hb=La.x;var fb=La.y;var gb=La.z;var pb=hb-Z;var ab=fb-oa;var $a=gb-xb;var ua=pb*Z+ab*oa+$a*xb;ua=-ua/(pb*pb+ab*ab+$a*$a);
if(0>ua)O.x=Z,O.y=oa,O.z=xb;else if(1<ua)O.x=hb,O.y=fb,O.z=gb;else{var Ya=Z+pb*ua;var Fb=oa+ab*ua;var Xa=xb+$a*ua;O.x=Ya;O.y=Fb;O.z=Xa}I=O.x*O.x+O.y*O.y+O.z*O.z;na=O.x;ca=O.y;da=O.z}if(0>Va*Ka+D*V+Aa*ob){var Bb=La.x;var Wa=La.y;var Cb=La.z;var qb=Ea.x;var bb=Ea.y;var ib=Ea.z;var rb=qb-Bb;var db=bb-Wa;var Db=ib-Cb;var jb=rb*Bb+db*Wa+Db*Cb;jb=-jb/(rb*rb+db*db+Db*Db);if(0>jb)O.x=Bb,O.y=Wa,O.z=Cb;else if(1<jb)O.x=qb,O.y=bb,O.z=ib;else{var nb=Bb+rb*jb;var cb=Wa+db*jb;var Jb=Cb+Db*jb;O.x=nb;O.y=cb;O.z=
Jb}var Kb=O.x*O.x+O.y*O.y+O.z*O.z;if(0>I||Kb<I)I=Kb,na=O.x,ca=O.y,da=O.z}if(0>aa*Za+Ua*W+xa*ha){var F=wa.x;var ub=wa.y;var lb=wa.z;var yb=Ea.x;var vb=Ea.y;var eb=Ea.z;var Lb=yb-F;var mb=vb-ub;var zb=eb-lb;var u=Lb*F+mb*ub+zb*lb;u=-u/(Lb*Lb+mb*mb+zb*zb);if(0>u)O.x=F,O.y=ub,O.z=lb;else if(1<u)O.x=yb,O.y=vb,O.z=eb;else{var T=F+Lb*u;var R=ub+mb*u;var va=lb+zb*u;O.x=T;O.y=R;O.z=va}var Na=O.x*O.x+O.y*O.y+O.z*O.z;if(0>I||Na<I)I=Na,na=O.x,ca=O.y,da=O.z}if(0<I)O.x=na,O.y=ca,O.z=da;else{var ya=ea*ea+U*U+ba*
ba;0<ya&&(ya=1/Math.sqrt(ya));ea*=ya;U*=ya;ba*=ya;var Oa=ea*ea+U*U+ba*ba;Oa=(ma*ea+Y*U+ta*ba)/Oa;na=ea*Oa;ca=U*Oa;da=ba*Oa;O.x=na;O.y=ca;O.z=da}var kb=this.ng;this.bh=kb.x*kb.x+kb.y*kb.y+kb.z*kb.z;this.Ub[0]=null;this.Ub[1]=null;this.Ub[2]=null;this.Vb[0]=-1;this.Vb[1]=-1;this.Vb[2]=-1;return!Pa};Hh.prototype.Cf=function(a){var b=0;this.Ja[0]==a.Ja[this.Ac[0]]&&this.Ja[this.Ac[0]]==a.Ja[0]&&(this.Ub[0]=a,this.Vb[0]=0,a.Ub[0]=this,a.Vb[0]=0,b=1);this.Ja[0]==a.Ja[this.Ac[1]]&&this.Ja[this.Ac[0]]==a.Ja[1]&&
(this.Ub[0]=a,this.Vb[0]=1,a.Ub[1]=this,a.Vb[1]=0,++b);this.Ja[0]==a.Ja[this.Ac[2]]&&this.Ja[this.Ac[0]]==a.Ja[2]&&(this.Ub[0]=a,this.Vb[0]=2,a.Ub[2]=this,a.Vb[2]=0,++b);this.Ja[1]==a.Ja[this.Ac[0]]&&this.Ja[this.Ac[1]]==a.Ja[0]&&(this.Ub[1]=a,this.Vb[1]=0,a.Ub[0]=this,a.Vb[0]=1,++b);this.Ja[1]==a.Ja[this.Ac[1]]&&this.Ja[this.Ac[1]]==a.Ja[1]&&(this.Ub[1]=a,this.Vb[1]=1,a.Ub[1]=this,a.Vb[1]=1,++b);this.Ja[1]==a.Ja[this.Ac[2]]&&this.Ja[this.Ac[1]]==a.Ja[2]&&(this.Ub[1]=a,this.Vb[1]=2,a.Ub[2]=this,a.Vb[2]=
1,++b);this.Ja[2]==a.Ja[this.Ac[0]]&&this.Ja[this.Ac[2]]==a.Ja[0]&&(this.Ub[2]=a,this.Vb[2]=0,a.Ub[0]=this,a.Vb[0]=2,++b);this.Ja[2]==a.Ja[this.Ac[1]]&&this.Ja[this.Ac[2]]==a.Ja[1]&&(this.Ub[2]=a,this.Vb[2]=1,a.Ub[1]=this,a.Vb[1]=2,++b);this.Ja[2]==a.Ja[this.Ac[2]]&&this.Ja[this.Ac[2]]==a.Ja[2]&&(this.Ub[2]=a,this.Vb[2]=2,a.Ub[2]=this,a.Vb[2]=2,++b);return 1!=b?!1:!0};Hh.prototype.uh=function(){this.sa=this.U=null;this.Xh=0;this.Lg=!1;this.bh=0;this.Ja[0]=null;this.Ja[1]=null;this.Ja[2]=null;this.Ub[0]=
null;this.Ub[1]=null;this.Ub[2]=null;this.Vb[0]=0;this.Vb[1]=0;this.Vb[2]=0};Aj.prototype.Ia=function(a,b,e){var d=this.kd;d.x=a.x;d.y=a.y;d.z=a.z;a=this.mb;a.x=b.x;a.y=b.y;a.z=b.z;b=this.sb;b.x=e.x;b.y=e.y;b.z=e.z;this.dg=this.Pf=this.U=null;return this};Aj.prototype.uh=function(){this.dg=this.Pf=this.U=null};el.prototype.clear=function(){this.vi.$()};z.prototype.Ia=function(a,b,e){this.x=a;this.y=b;this.z=e;return this};z.prototype.$=function(){this.z=this.y=this.x=0;return this};z.prototype.add=
function(a){return new z(this.x+a.x,this.y+a.y,this.z+a.z)};z.prototype.aa=function(a,b,e){return new z(this.x+a,this.y+b,this.z+e)};z.prototype.Ma=function(a,b){return new z(this.x+a.x*b,this.y+a.y*b,this.z+a.z*b)};z.prototype.sub=function(a){return new z(this.x-a.x,this.y-a.y,this.z-a.z)};z.prototype.Xa=function(a,b,e){return new z(this.x-a,this.y-b,this.z-e)};z.prototype.V=function(a){return new z(this.x*a,this.y*a,this.z*a)};z.prototype.Wb=function(a,b,e){return new z(this.x*a,this.y*b,this.z*
e)};z.prototype.i=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};z.prototype.Sa=function(a){return new z(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x)};z.prototype.h=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};z.prototype.qa=function(a,b,e){this.x+=a;this.y+=b;this.z+=e;return this};z.prototype.Oa=function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this};z.prototype.Y=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};z.prototype.tb=
function(a,b,e){this.x-=a;this.y-=b;this.z-=e;return this};z.prototype.W=function(a){this.x*=a;this.y*=a;this.z*=a;return this};z.prototype.Va=function(a,b,e){this.x*=a;this.y*=b;this.z*=e;return this};z.prototype.Wa=function(a){var b=this.z*a.x-this.x*a.z,e=this.x*a.y-this.y*a.x;this.x=this.y*a.z-this.z*a.y;this.y=b;this.z=e;return this};z.prototype.Ya=function(a){return new z(this.x*a.e00+this.y*a.e01+this.z*a.e02,this.x*a.e10+this.y*a.e11+this.z*a.e12,this.x*a.e20+this.y*a.e21+this.z*a.e22)};z.prototype.ob=
function(a){return new z(this.x*a.e00+this.y*a.e01+this.z*a.e02+a.e03,this.x*a.e10+this.y*a.e11+this.z*a.e12+a.e13,this.x*a.e20+this.y*a.e21+this.z*a.e22+a.e23)};z.prototype.Jb=function(a){var b=this.x;var e=this.y;var d=this.z;var c=a.A*b+a.j*e+a.m*d;var f=a.o*b+a.v*e+a.s*d;d=a.u*b+a.l*e+a.B*d;b=c+a.F;e=f+a.G;d+=a.H;a=new z;a.x=b;a.y=e;a.z=d;return a};z.prototype.nb=function(a){var b=this.x*a.e10+this.y*a.e11+this.z*a.e12,e=this.x*a.e20+this.y*a.e21+this.z*a.e22;this.x=this.x*a.e00+this.y*a.e01+
this.z*a.e02;this.y=b;this.z=e;return this};z.prototype.Ib=function(a){var b=this.x*a.e10+this.y*a.e11+this.z*a.e12+a.e13,e=this.x*a.e20+this.y*a.e21+this.z*a.e22+a.e23;this.x=this.x*a.e00+this.y*a.e01+this.z*a.e02+a.e03;this.y=b;this.z=e;return this};z.prototype.Pb=function(a){var b=this.x;var e=this.y;var d=this.z;var c=a.A*b+a.j*e+a.m*d;var f=a.o*b+a.v*e+a.s*d;d=a.u*b+a.l*e+a.B*d;b=c+a.F;e=f+a.G;d+=a.H;this.x=b;this.y=e;this.z=d;return this};z.prototype.length=function(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z)};z.prototype.C=function(){return this.x*this.x+this.y*this.y+this.z*this.z};z.prototype.M=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0<a&&(a=1/a);return new z(this.x*a,this.y*a,this.z*a)};z.prototype.I=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);0<a&&(a=1/a);this.x*=a;this.y*=a;this.z*=a;return this};z.prototype.Rb=function(){return new z(-this.x,-this.y,-this.z)};z.prototype.Sb=function(){this.x=-this.x;this.y=
-this.y;this.z=-this.z;return this};z.prototype.Dd=function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this};z.prototype.clone=function(){return new z(this.x,this.y,this.z)};z.prototype.toString=function(){return"Vec3["+(0<this.x?(1E7*this.x+.5|0)/1E7:(1E7*this.x-.5|0)/1E7)+", "+(0<this.y?(1E7*this.y+.5|0)/1E7:(1E7*this.y-.5|0)/1E7)+", "+(0<this.z?(1E7*this.z+.5|0)/1E7:(1E7*this.z-.5|0)/1E7)+"]"};Ob.prototype.W=function(){this.H=this.G=this.F=0;this.A=1;this.o=this.m=this.j=0;this.v=1;this.l=this.u=
this.s=0;this.B=1;return this};Ob.prototype.C=function(){var a=new z;a.x=this.F;a.y=this.G;a.z=this.H;return a};Ob.prototype.I=function(a){a.x=this.F;a.y=this.G;a.z=this.H};Ob.prototype.Ma=function(a){this.F=a.x;this.G=a.y;this.H=a.z;return this};Ob.prototype.Wa=function(a){var b=a.x;var e=a.y;a=a.z;this.F+=b;this.G+=e;this.H+=a};Ob.prototype.M=function(){var a=new ia;a.e00=this.A;a.e01=this.j;a.e02=this.m;a.e10=this.o;a.e11=this.v;a.e12=this.s;a.e20=this.u;a.e21=this.l;a.e22=this.B;return a};Ob.prototype.V=
function(a){a.e00=this.A;a.e01=this.j;a.e02=this.m;a.e10=this.o;a.e11=this.v;a.e12=this.s;a.e20=this.u;a.e21=this.l;a.e22=this.B};Ob.prototype.Oa=function(a){this.A=a.e00;this.j=a.e01;this.m=a.e02;this.o=a.e10;this.v=a.e11;this.s=a.e12;this.u=a.e20;this.l=a.e21;this.B=a.e22;return this};Ob.prototype.Sa=function(a){var b=a.x;var e=a.y;var d=a.z;a=Math.sin(b);var c=Math.sin(e),f=Math.sin(d);b=Math.cos(b);e=Math.cos(e);d=Math.cos(d);this.A=e*d;this.j=-e*f;this.m=c;this.o=b*f+d*a*c;this.v=b*d-a*c*f;this.s=
-e*a;this.u=a*f-b*d*c;this.l=d*a+b*c*f;this.B=b*e};Ob.prototype.Y=function(a){var b=a.e00;var e=a.e01;var d=a.e02;var c=a.e10;var f=a.e11;var h=a.e12;var k=a.e20;var g=a.e21;var l=a.e22;a=b*this.A+e*this.o+d*this.u;var m=b*this.j+e*this.v+d*this.l;b=b*this.m+e*this.s+d*this.B;e=c*this.A+f*this.o+h*this.u;d=c*this.j+f*this.v+h*this.l;c=c*this.m+f*this.s+h*this.B;f=k*this.A+g*this.o+l*this.u;h=k*this.j+g*this.v+l*this.l;k=k*this.m+g*this.s+l*this.B;this.A=a;this.j=m;this.m=b;this.o=e;this.v=d;this.s=
c;this.u=f;this.l=h;this.B=k};Ob.prototype.aa=function(a){var b=a.x;var e=a.y;a=a.z;var d=Math.sin(b);var c=Math.sin(e),f=Math.sin(a),h=Math.cos(b);var k=Math.cos(e);var g=Math.cos(a);var l=k*g;var m=-k*f;a=h*f+g*d*c;b=h*g-d*c*f;var n=-k*d;e=d*f-h*g*c;d=g*d+h*c*f;k*=h;f=l*this.A+m*this.o+c*this.u;h=l*this.j+m*this.v+c*this.l;c=l*this.m+m*this.s+c*this.B;l=a*this.A+b*this.o+n*this.u;m=a*this.j+b*this.v+n*this.l;a=a*this.m+b*this.s+n*this.B;b=e*this.A+d*this.o+k*this.u;n=e*this.j+d*this.v+k*this.l;
e=e*this.m+d*this.s+k*this.B;this.A=f;this.j=h;this.m=c;this.o=l;this.v=m;this.s=a;this.u=b;this.l=n;this.B=e};Ob.prototype.h=function(){var a=new Gb;var b=this.A;var e=this.v;var d=this.B;var c=b+e+d;if(0<c){var f=Math.sqrt(c+1);c=.5*f;f=.5/f;b=(this.l-this.s)*f;e=(this.m-this.u)*f;d=(this.o-this.j)*f}else b>e?b>d?(f=Math.sqrt(b-e-d+1),b=.5*f,f=.5/f,e=(this.j+this.o)*f,d=(this.m+this.u)*f,c=(this.l-this.s)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.m+this.u)*f,e=(this.s+this.l)*f,c=(this.o-this.j)*
f):e>d?(f=Math.sqrt(e-d-b+1),e=.5*f,f=.5/f,b=(this.j+this.o)*f,d=(this.s+this.l)*f,c=(this.m-this.u)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.m+this.u)*f,e=(this.s+this.l)*f,c=(this.o-this.j)*f);a.x=b;a.y=e;a.z=d;a.w=c;return a};Ob.prototype.i=function(a){var b=this.A;var e=this.v;var d=this.B;var c=b+e+d;if(0<c){var f=Math.sqrt(c+1);c=.5*f;f=.5/f;b=(this.l-this.s)*f;e=(this.m-this.u)*f;d=(this.o-this.j)*f}else b>e?b>d?(f=Math.sqrt(b-e-d+1),b=.5*f,f=.5/f,e=(this.j+this.o)*f,d=(this.m+this.u)*
f,c=(this.l-this.s)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.m+this.u)*f,e=(this.s+this.l)*f,c=(this.o-this.j)*f):e>d?(f=Math.sqrt(e-d-b+1),e=.5*f,f=.5/f,b=(this.j+this.o)*f,d=(this.s+this.l)*f,c=(this.m-this.u)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.m+this.u)*f,e=(this.s+this.l)*f,c=(this.o-this.j)*f);a.x=b;a.y=e;a.z=d;a.w=c};Ob.prototype.qa=function(a){var b=a.x;var e=a.y;var d=a.z;var c=a.w,f=2*b,h=2*e,k=2*d;a=b*f;var g=e*h;d*=k;var l=b*h;e*=k;b*=k;f*=c;h*=c;c*=k;this.A=1-g-d;this.j=
l-c;this.m=b+h;this.o=l+c;this.v=1-a-d;this.s=e-f;this.u=b-h;this.l=e+f;this.B=1-a-g;return this};Ob.prototype.clone=function(){var a=new Ob;a.F=this.F;a.G=this.G;a.H=this.H;a.A=this.A;a.j=this.j;a.m=this.m;a.o=this.o;a.v=this.v;a.s=this.s;a.u=this.u;a.l=this.l;a.B=this.B;return a};Ob.prototype.Dd=function(a){this.F=a.F;this.G=a.G;this.H=a.H;this.A=a.A;this.j=a.j;this.m=a.m;this.o=a.o;this.v=a.v;this.s=a.s;this.u=a.u;this.l=a.l;this.B=a.B;return this};yc.prototype.Oa=function(a,b,e,d,c,f){this.Ma=
a;this.Sa=b;this.I=e;this.M=d;var h=this.i,k=this.mb,g=this.sb,l=this.aa,m=this.C;null!=c?(null==c.og&&(c.og=new el),this.Va(c.og)):m.$();if(0==m.x*m.x+m.y*m.y+m.z*m.z){var n=d.F-e.F;var q=d.G-e.G;var p=d.H-e.H;m.x=n;m.y=q;m.z=p;1E-6>m.x*m.x+m.y*m.y+m.z*m.z&&m.Ia(1,0,0)}this.h=0;this.V(!1);this.W(!1);var r=this.i[this.h],t=this.mb[this.h];r.x=t.x;r.y=t.y;r.z=t.z;var x=this.sb[this.h];r.x-=x.x;r.y-=x.y;r.z-=x.z;this.h=1;for(var v=0;40>v;){var B=0;switch(this.h){case 1:var H=h[0];l.x=H.x;l.y=H.y;l.z=
H.z;B=1;break;case 2:var C=void 0,N=void 0,y=void 0,A=void 0,E=void 0,L=void 0,G=h[0];C=G.x;N=G.y;y=G.z;var P=h[1];A=P.x;E=P.y;L=P.z;var K=void 0,pa=void 0,M=void 0;K=A-C;pa=E-N;M=L-y;var Sa=K*C+pa*N+M*y;Sa=-Sa/(K*K+pa*pa+M*M);if(0>Sa)l.x=C,l.y=N,l.z=y,B=1;else if(1<Sa)l.x=A,l.y=E,l.z=L,B=2;else{var Pa=void 0,Ca=void 0,Ra=void 0;Pa=C+K*Sa;Ca=N+pa*Sa;Ra=y+M*Sa;l.x=Pa;l.y=Ca;l.z=Ra;B=3}break;case 3:var wa=h[0],La=h[1],Ea=h[2],O=void 0,ma=void 0,Y=void 0,ta=void 0,Va=void 0,D=void 0,Aa=void 0,aa=void 0,
Ua=void 0,xa=void 0,Ja=void 0,S=void 0,la=void 0,qa=void 0,Da=void 0,X=void 0,fa=void 0,w=void 0;O=wa.x;ma=wa.y;Y=wa.z;ta=La.x;Va=La.y;D=La.z;Aa=Ea.x;aa=Ea.y;Ua=Ea.z;xa=ta-O;Ja=Va-ma;S=D-Y;la=Aa-ta;qa=aa-Va;Da=Ua-D;X=O-Aa;fa=ma-aa;w=Y-Ua;var ja=void 0,ea=void 0,U=void 0;ja=Ja*Da-S*qa;ea=S*la-xa*Da;U=xa*qa-Ja*la;var ba=void 0,Fa=void 0,ka=void 0,Qa=void 0,Ka=void 0,V=void 0,ob=void 0,Za=void 0,W=void 0;ba=Ja*U-S*ea;Fa=S*ja-xa*U;ka=xa*ea-Ja*ja;Qa=qa*U-Da*ea;Ka=Da*ja-la*U;V=la*ea-qa*ja;ob=fa*U-w*ea;
Za=w*ja-X*U;W=X*ea-fa*ja;var ha=-1,I=void 0,na=void 0,ca=void 0,da=0;ca=na=I=0;if(0>O*ba+ma*Fa+Y*ka){var Z=void 0,oa=void 0,xb=void 0,hb=void 0,fb=void 0,gb=void 0;Z=wa.x;oa=wa.y;xb=wa.z;hb=La.x;fb=La.y;gb=La.z;var pb=void 0,ab=void 0,$a=void 0;pb=hb-Z;ab=fb-oa;$a=gb-xb;var ua=pb*Z+ab*oa+$a*xb;ua=-ua/(pb*pb+ab*ab+$a*$a);var Ya=void 0;if(0>ua)l.x=Z,l.y=oa,l.z=xb,Ya=1;else if(1<ua)l.x=hb,l.y=fb,l.z=gb,Ya=2;else{var Fb=void 0,Xa=void 0,Bb=void 0;Fb=Z+pb*ua;Xa=oa+ab*ua;Bb=xb+$a*ua;l.x=Fb;l.y=Xa;l.z=Bb;
Ya=3}da=Ya;ha=l.x*l.x+l.y*l.y+l.z*l.z;I=l.x;na=l.y;ca=l.z}if(0>ta*Qa+Va*Ka+D*V){var Wa=void 0,Cb=void 0,qb=void 0,bb=void 0,ib=void 0,rb=void 0;Wa=La.x;Cb=La.y;qb=La.z;bb=Ea.x;ib=Ea.y;rb=Ea.z;var db=void 0,Db=void 0,jb=void 0;db=bb-Wa;Db=ib-Cb;jb=rb-qb;var nb=db*Wa+Db*Cb+jb*qb;nb=-nb/(db*db+Db*Db+jb*jb);var cb=void 0;if(0>nb)l.x=Wa,l.y=Cb,l.z=qb,cb=1;else if(1<nb)l.x=bb,l.y=ib,l.z=rb,cb=2;else{var Jb=void 0,Kb=void 0,F=void 0;Jb=Wa+db*nb;Kb=Cb+Db*nb;F=qb+jb*nb;l.x=Jb;l.y=Kb;l.z=F;cb=3}var ub=l.x*
l.x+l.y*l.y+l.z*l.z;if(0>ha||ub<ha)da=cb<<1,ha=ub,I=l.x,na=l.y,ca=l.z}if(0>Aa*ob+aa*Za+Ua*W){var lb=void 0,yb=void 0,vb=void 0,eb=void 0,Lb=void 0,mb=void 0;lb=wa.x;yb=wa.y;vb=wa.z;eb=Ea.x;Lb=Ea.y;mb=Ea.z;var zb=void 0,u=void 0,T=void 0;zb=eb-lb;u=Lb-yb;T=mb-vb;var R=zb*lb+u*yb+T*vb;R=-R/(zb*zb+u*u+T*T);var va=void 0;if(0>R)l.x=lb,l.y=yb,l.z=vb,va=1;else if(1<R)l.x=eb,l.y=Lb,l.z=mb,va=2;else{var Na=void 0,ya=void 0,Oa=void 0;Na=lb+zb*R;ya=yb+u*R;Oa=vb+T*R;l.x=Na;l.y=ya;l.z=Oa;va=3}var kb=l.x*l.x+
l.y*l.y+l.z*l.z;if(0>ha||kb<ha)da=va&1|(va&2)<<1,ha=kb,I=l.x,na=l.y,ca=l.z}if(0<ha)l.x=I,l.y=na,l.z=ca,B=da;else{var sb=ja*ja+ea*ea+U*U;0<sb&&(sb=1/Math.sqrt(sb));ja*=sb;ea*=sb;U*=sb;var Hb=ja*ja+ea*ea+U*U;Hb=(O*ja+ma*ea+Y*U)/Hb;I=ja*Hb;na=ea*Hb;ca=U*Hb;l.x=I;l.y=na;l.z=ca;B=7}break;case 4:var Ba=h[0],Ta=h[1],sa=h[2],Ga=h[3],Q=void 0,Ma=void 0,Ia=void 0,Eb=void 0,wb=void 0,Mb=void 0,Ib=void 0,Tb=void 0,Rb=void 0,Wb=void 0,mc=void 0,Xb=void 0,ic=void 0,bc=void 0,$b=void 0,Zb=void 0,Qb=void 0,jc=void 0,
ac=void 0,ec=void 0,Ub=void 0,kc=void 0,uc=void 0,fc=void 0,dd=void 0,Nb=void 0,nc=void 0;Q=Ba.x;Ma=Ba.y;Ia=Ba.z;Eb=Ta.x;wb=Ta.y;Mb=Ta.z;Ib=sa.x;Tb=sa.y;Rb=sa.z;Wb=Ga.x;mc=Ga.y;Xb=Ga.z;ic=Eb-Q;bc=wb-Ma;$b=Mb-Ia;Zb=Ib-Q;Qb=Tb-Ma;jc=Rb-Ia;ac=Wb-Q;ec=mc-Ma;Ub=Xb-Ia;kc=Ib-Eb;uc=Tb-wb;fc=Rb-Mb;dd=Wb-Eb;Nb=mc-wb;nc=Xb-Mb;var gc=void 0,Vb=void 0,lc=void 0,ed=void 0,Bc=void 0,Kc=void 0,zc=void 0,Cc=void 0,sc=void 0,Lc=void 0,zd=void 0,Rc=void 0;gc=bc*jc-$b*Qb;Vb=$b*Zb-ic*jc;lc=ic*Qb-bc*Zb;ed=Qb*Ub-jc*ec;
Bc=jc*ac-Zb*Ub;Kc=Zb*ec-Qb*ac;zc=ec*$b-Ub*bc;Cc=Ub*ic-ac*$b;sc=ac*bc-ec*ic;Lc=Nb*fc-nc*uc;zd=nc*kc-dd*fc;Rc=dd*uc-Nb*kc;var Wc=0<ic*Lc+bc*zd+$b*Rc?1:-1,Dc=-1,Ec=void 0,od=void 0,hc=void 0,fd=0;hc=od=Ec=0;if(0>(Q*gc+Ma*Vb+Ia*lc)*Wc){var Sc=void 0,pd=void 0,Gd=void 0,Tc=void 0,Pd=void 0,je=void 0,De=void 0,Kd=void 0,Xc=void 0,be=void 0,ue=void 0,Ee=void 0,ve=void 0,qd=void 0,ce=void 0,we=void 0,ke=void 0,le=void 0;Sc=Ba.x;pd=Ba.y;Gd=Ba.z;Tc=Ta.x;Pd=Ta.y;je=Ta.z;De=sa.x;Kd=sa.y;Xc=sa.z;be=Tc-Sc;ue=Pd-
pd;Ee=je-Gd;ve=De-Tc;qd=Kd-Pd;ce=Xc-je;we=Sc-De;ke=pd-Kd;le=Gd-Xc;var Fc=void 0,gd=void 0,hd=void 0;Fc=ue*ce-Ee*qd;gd=Ee*ve-be*ce;hd=be*qd-ue*ve;var Ad=void 0,Yc=void 0,Mc=void 0,ug=void 0,vg=void 0,lh=void 0,Me=void 0,uf=void 0,vf=void 0;Ad=ue*hd-Ee*gd;Yc=Ee*Fc-be*hd;Mc=be*gd-ue*Fc;ug=qd*hd-ce*gd;vg=ce*Fc-ve*hd;lh=ve*gd-qd*Fc;Me=ke*hd-le*gd;uf=le*Fc-we*hd;vf=we*gd-ke*Fc;var Fe=-1,Ic=void 0,Jc=void 0,oc=void 0,xe=0;oc=Jc=Ic=0;if(0>Sc*Ad+pd*Yc+Gd*Mc){var me=void 0,Qd=void 0,Rd=void 0,ye=void 0,dg=
void 0,Uc=void 0;me=Ba.x;Qd=Ba.y;Rd=Ba.z;ye=Ta.x;dg=Ta.y;Uc=Ta.z;var Vc=void 0,Nc=void 0,wf=void 0;Vc=ye-me;Nc=dg-Qd;wf=Uc-Rd;var Vd=Vc*me+Nc*Qd+wf*Rd;Vd=-Vd/(Vc*Vc+Nc*Nc+wf*wf);var Ge=void 0;if(0>Vd)l.x=me,l.y=Qd,l.z=Rd,Ge=1;else if(1<Vd)l.x=ye,l.y=dg,l.z=Uc,Ge=2;else{var eg=void 0,Ne=void 0,bf=void 0;eg=me+Vc*Vd;Ne=Qd+Nc*Vd;bf=Rd+wf*Vd;l.x=eg;l.y=Ne;l.z=bf;Ge=3}xe=Ge;Fe=l.x*l.x+l.y*l.y+l.z*l.z;Ic=l.x;Jc=l.y;oc=l.z}if(0>Tc*ug+Pd*vg+je*lh){var xf=void 0,If=void 0,Jf=void 0,cf=void 0,df=void 0,Kf=
void 0;xf=Ta.x;If=Ta.y;Jf=Ta.z;cf=sa.x;df=sa.y;Kf=sa.z;var Lf=void 0,yf=void 0,zf=void 0;Lf=cf-xf;yf=df-If;zf=Kf-Jf;var ze=Lf*xf+yf*If+zf*Jf;ze=-ze/(Lf*Lf+yf*yf+zf*zf);var ef=void 0;if(0>ze)l.x=xf,l.y=If,l.z=Jf,ef=1;else if(1<ze)l.x=cf,l.y=df,l.z=Kf,ef=2;else{var Mf=void 0,ff=void 0,Zg=void 0;Mf=xf+Lf*ze;ff=If+yf*ze;Zg=Jf+zf*ze;l.x=Mf;l.y=ff;l.z=Zg;ef=3}var Kh=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Fe||Kh<Fe)xe=ef<<1,Fe=Kh,Ic=l.x,Jc=l.y,oc=l.z}if(0>De*Me+Kd*uf+Xc*vf){var Bd=void 0,vc=void 0,wc=void 0,Cd=void 0,
Oe=void 0,Pe=void 0;Bd=Ba.x;vc=Ba.y;wc=Ba.z;Cd=sa.x;Oe=sa.y;Pe=sa.z;var Qe=void 0,Wd=void 0,Xd=void 0;Qe=Cd-Bd;Wd=Oe-vc;Xd=Pe-wc;var Dd=Qe*Bd+Wd*vc+Xd*wc;Dd=-Dd/(Qe*Qe+Wd*Wd+Xd*Xd);var de=void 0;if(0>Dd)l.x=Bd,l.y=vc,l.z=wc,de=1;else if(1<Dd)l.x=Cd,l.y=Oe,l.z=Pe,de=2;else{var He=void 0,ne=void 0,Hd=void 0;He=Bd+Qe*Dd;ne=vc+Wd*Dd;Hd=wc+Xd*Dd;l.x=He;l.y=ne;l.z=Hd;de=3}var ee=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Fe||ee<Fe)xe=de&1|(de&2)<<1,Fe=ee,Ic=l.x,Jc=l.y,oc=l.z}var Yd=void 0;if(0<Fe)l.x=Ic,l.y=Jc,l.z=oc,
Yd=xe;else{var Ae=Fc*Fc+gd*gd+hd*hd;0<Ae&&(Ae=1/Math.sqrt(Ae));Fc*=Ae;gd*=Ae;hd*=Ae;var oe=Fc*Fc+gd*gd+hd*hd;oe=(Sc*Fc+pd*gd+Gd*hd)/oe;Ic=Fc*oe;Jc=gd*oe;oc=hd*oe;l.x=Ic;l.y=Jc;l.z=oc;Yd=7}fd=Yd;Dc=l.x*l.x+l.y*l.y+l.z*l.z;Ec=l.x;od=l.y;hc=l.z}if(0>(Q*ed+Ma*Bc+Ia*Kc)*Wc){var Af=void 0,ld=void 0,Sd=void 0,ud=void 0,rd=void 0,sd=void 0,md=void 0,Zc=void 0,$c=void 0,Gc=void 0,xc=void 0,Hc=void 0,Ac=void 0,id=void 0,Oc=void 0,ad=void 0,Ie=void 0,Nf=void 0;Af=Ba.x;ld=Ba.y;Sd=Ba.z;ud=sa.x;rd=sa.y;sd=sa.z;
md=Ga.x;Zc=Ga.y;$c=Ga.z;Gc=ud-Af;xc=rd-ld;Hc=sd-Sd;Ac=md-ud;id=Zc-rd;Oc=$c-sd;ad=Af-md;Ie=ld-Zc;Nf=Sd-$c;var Ed=void 0,Td=void 0,td=void 0;Ed=xc*Oc-Hc*id;Td=Hc*Ac-Gc*Oc;td=Gc*id-xc*Ac;var Ld=void 0,vd=void 0,wd=void 0,Of=void 0,Lh=void 0,Mh=void 0,Nh=void 0,mh=void 0,$g=void 0;Ld=xc*td-Hc*Td;vd=Hc*Ed-Gc*td;wd=Gc*Td-xc*Ed;Of=id*td-Oc*Td;Lh=Oc*Ed-Ac*td;Mh=Ac*Td-id*Ed;Nh=Ie*td-Nf*Td;mh=Nf*Ed-ad*td;$g=ad*Td-Ie*Ed;var Be=-1,Je=void 0,Ce=void 0,Id=void 0,fe=0;Id=Ce=Je=0;if(0>Af*Ld+ld*vd+Sd*wd){var pe=void 0,
qe=void 0,Re=void 0,Ud=void 0,Se=void 0,Pf=void 0;pe=Ba.x;qe=Ba.y;Re=Ba.z;Ud=sa.x;Se=sa.y;Pf=sa.z;var Qf=void 0,nh=void 0,ah=void 0;Qf=Ud-pe;nh=Se-qe;ah=Pf-Re;var gf=Qf*pe+nh*qe+ah*Re;gf=-gf/(Qf*Qf+nh*nh+ah*ah);var hf=void 0;if(0>gf)l.x=pe,l.y=qe,l.z=Re,hf=1;else if(1<gf)l.x=Ud,l.y=Se,l.z=Pf,hf=2;else{var fg=void 0,wg=void 0,bh=void 0;fg=pe+Qf*gf;wg=qe+nh*gf;bh=Re+ah*gf;l.x=fg;l.y=wg;l.z=bh;hf=3}fe=hf;Be=l.x*l.x+l.y*l.y+l.z*l.z;Je=l.x;Ce=l.y;Id=l.z}if(0>ud*Of+rd*Lh+sd*Mh){var xg=void 0,yg=void 0,
ch=void 0,zg=void 0,Ag=void 0,Bg=void 0;xg=sa.x;yg=sa.y;ch=sa.z;zg=Ga.x;Ag=Ga.y;Bg=Ga.z;var Cg=void 0,Dg=void 0,gg=void 0;Cg=zg-xg;Dg=Ag-yg;gg=Bg-ch;var Te=Cg*xg+Dg*yg+gg*ch;Te=-Te/(Cg*Cg+Dg*Dg+gg*gg);var Rf=void 0;if(0>Te)l.x=xg,l.y=yg,l.z=ch,Rf=1;else if(1<Te)l.x=zg,l.y=Ag,l.z=Bg,Rf=2;else{var Eg=void 0,Sf=void 0,dh=void 0;Eg=xg+Cg*Te;Sf=yg+Dg*Te;dh=ch+gg*Te;l.x=Eg;l.y=Sf;l.z=dh;Rf=3}var cj=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Be||cj<Be)fe=Rf<<1,Be=cj,Je=l.x,Ce=l.y,Id=l.z}if(0>md*Nh+Zc*mh+$c*$g){var oh=
void 0,ph=void 0,ge=void 0,Zd=void 0,$d=void 0,qh=void 0;oh=Ba.x;ph=Ba.y;ge=Ba.z;Zd=Ga.x;$d=Ga.y;qh=Ga.z;var rh=void 0,sh=void 0,th=void 0;rh=Zd-oh;sh=$d-ph;th=qh-ge;var Tf=rh*oh+sh*ph+th*ge;Tf=-Tf/(rh*rh+sh*sh+th*th);var Fg=void 0;if(0>Tf)l.x=oh,l.y=ph,l.z=ge,Fg=1;else if(1<Tf)l.x=Zd,l.y=$d,l.z=qh,Fg=2;else{var Oh=void 0,eh=void 0,Ph=void 0;Oh=oh+rh*Tf;eh=ph+sh*Tf;Ph=ge+th*Tf;l.x=Oh;l.y=eh;l.z=Ph;Fg=3}var hg=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Be||hg<Be)fe=Fg&1|(Fg&2)<<1,Be=hg,Je=l.x,Ce=l.y,Id=l.z}var Uf=
void 0;if(0<Be)l.x=Je,l.y=Ce,l.z=Id,Uf=fe;else{var jf=Ed*Ed+Td*Td+td*td;0<jf&&(jf=1/Math.sqrt(jf));Ed*=jf;Td*=jf;td*=jf;var Gg=Ed*Ed+Td*Td+td*td;Gg=(Af*Ed+ld*Td+Sd*td)/Gg;Je=Ed*Gg;Ce=Td*Gg;Id=td*Gg;l.x=Je;l.y=Ce;l.z=Id;Uf=7}var ig=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Dc||ig<Dc)fd=Uf&1|(Uf&6)<<1,Dc=ig,Ec=l.x,od=l.y,hc=l.z}if(0>(Q*zc+Ma*Cc+Ia*sc)*Wc){var kf=void 0,Bf=void 0,Hg=void 0,Ig=void 0,Jg=void 0,Kg=void 0,jg=void 0,kg=void 0,lg=void 0,Ue=void 0,mg=void 0,fh=void 0,Lg=void 0,Mg=void 0,Cf=void 0,ng=void 0,
og=void 0,gh=void 0;kf=Ba.x;Bf=Ba.y;Hg=Ba.z;Ig=Ta.x;Jg=Ta.y;Kg=Ta.z;jg=Ga.x;kg=Ga.y;lg=Ga.z;Ue=Ig-kf;mg=Jg-Bf;fh=Kg-Hg;Lg=jg-Ig;Mg=kg-Jg;Cf=lg-Kg;ng=kf-jg;og=Bf-kg;gh=Hg-lg;var re=void 0,se=void 0,ae=void 0;re=mg*Cf-fh*Mg;se=fh*Lg-Ue*Cf;ae=Ue*Mg-mg*Lg;var he=void 0,ie=void 0,Md=void 0,ji=void 0,Dj=void 0,Ej=void 0,Fj=void 0,dj=void 0,Qh=void 0;he=mg*ae-fh*se;ie=fh*re-Ue*ae;Md=Ue*se-mg*re;ji=Mg*ae-Cf*se;Dj=Cf*re-Lg*ae;Ej=Lg*se-Mg*re;Fj=og*ae-gh*se;dj=gh*re-ng*ae;Qh=ng*se-og*re;var Df=-1,Vf=void 0,
Ng=void 0,Ke=void 0,Wf=0;Ke=Ng=Vf=0;if(0>kf*he+Bf*ie+Hg*Md){var Ve=void 0,We=void 0,Xf=void 0,lf=void 0,pg=void 0,uh=void 0;Ve=Ba.x;We=Ba.y;Xf=Ba.z;lf=Ta.x;pg=Ta.y;uh=Ta.z;var vh=void 0,wh=void 0,hh=void 0;vh=lf-Ve;wh=pg-We;hh=uh-Xf;var Ef=vh*Ve+wh*We+hh*Xf;Ef=-Ef/(vh*vh+wh*wh+hh*hh);var mf=void 0;if(0>Ef)l.x=Ve,l.y=We,l.z=Xf,mf=1;else if(1<Ef)l.x=lf,l.y=pg,l.z=uh,mf=2;else{var qg=void 0,Og=void 0,Gj=void 0;qg=Ve+vh*Ef;Og=We+wh*Ef;Gj=Xf+hh*Ef;l.x=qg;l.y=Og;l.z=Gj;mf=3}Wf=mf;Df=l.x*l.x+l.y*l.y+l.z*
l.z;Vf=l.x;Ng=l.y;Ke=l.z}if(0>Ig*ji+Jg*Dj+Kg*Ej){var ej=void 0,fj=void 0,gj=void 0,ki=void 0,li=void 0,mi=void 0;ej=Ta.x;fj=Ta.y;gj=Ta.z;ki=Ga.x;li=Ga.y;mi=Ga.z;var ni=void 0,oi=void 0,pi=void 0;ni=ki-ej;oi=li-fj;pi=mi-gj;var Pg=ni*ej+oi*fj+pi*gj;Pg=-Pg/(ni*ni+oi*oi+pi*pi);var Rh=void 0;if(0>Pg)l.x=ej,l.y=fj,l.z=gj,Rh=1;else if(1<Pg)l.x=ki,l.y=li,l.z=mi,Rh=2;else{var hj=void 0,Sh=void 0,Hj=void 0;hj=ej+ni*Pg;Sh=fj+oi*Pg;Hj=gj+pi*Pg;l.x=hj;l.y=Sh;l.z=Hj;Rh=3}var fk=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Df||
fk<Df)Wf=Rh<<1,Df=fk,Vf=l.x,Ng=l.y,Ke=l.z}if(0>jg*Fj+kg*dj+lg*Qh){var ij=void 0,jj=void 0,kj=void 0,qi=void 0,ri=void 0,si=void 0;ij=Ba.x;jj=Ba.y;kj=Ba.z;qi=Ga.x;ri=Ga.y;si=Ga.z;var ti=void 0,ui=void 0,vi=void 0;ti=qi-ij;ui=ri-jj;vi=si-kj;var Qg=ti*ij+ui*jj+vi*kj;Qg=-Qg/(ti*ti+ui*ui+vi*vi);var xh=void 0;if(0>Qg)l.x=ij,l.y=jj,l.z=kj,xh=1;else if(1<Qg)l.x=qi,l.y=ri,l.z=si,xh=2;else{var lj=void 0,Th=void 0,mj=void 0;lj=ij+ti*Qg;Th=jj+ui*Qg;mj=kj+vi*Qg;l.x=lj;l.y=Th;l.z=mj;xh=3}var gk=l.x*l.x+l.y*l.y+
l.z*l.z;if(0>Df||gk<Df)Wf=xh&1|(xh&2)<<1,Df=gk,Vf=l.x,Ng=l.y,Ke=l.z}var Ij=void 0;if(0<Df)l.x=Vf,l.y=Ng,l.z=Ke,Ij=Wf;else{var wi=re*re+se*se+ae*ae;0<wi&&(wi=1/Math.sqrt(wi));re*=wi;se*=wi;ae*=wi;var nj=re*re+se*se+ae*ae;nj=(kf*re+Bf*se+Hg*ae)/nj;Vf=re*nj;Ng=se*nj;Ke=ae*nj;l.x=Vf;l.y=Ng;l.z=Ke;Ij=7}var Jj=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Dc||Jj<Dc)fd=Ij&3|(Ij&4)<<1,Dc=Jj,Ec=l.x,od=l.y,hc=l.z}if(0>(Eb*Lc+wb*zd+Mb*Rc)*Wc){var ih=void 0,yh=void 0,oj=void 0,Uh=void 0,Vh=void 0,Wh=void 0,xi=void 0,yi=void 0,
zi=void 0,Xh=void 0,Yh=void 0,Zh=void 0,zh=void 0,Ah=void 0,Bh=void 0,Ai=void 0,Bi=void 0,Ci=void 0;ih=Ta.x;yh=Ta.y;oj=Ta.z;Uh=sa.x;Vh=sa.y;Wh=sa.z;xi=Ga.x;yi=Ga.y;zi=Ga.z;Xh=Uh-ih;Yh=Vh-yh;Zh=Wh-oj;zh=xi-Uh;Ah=yi-Vh;Bh=zi-Wh;Ai=ih-xi;Bi=yh-yi;Ci=oj-zi;var Xe=void 0,Ye=void 0,Ze=void 0;Xe=Yh*Bh-Zh*Ah;Ye=Zh*zh-Xh*Bh;Ze=Xh*Ah-Yh*zh;var nf=void 0,of=void 0,pf=void 0,hk=void 0,ik=void 0,jk=void 0,kk=void 0,lk=void 0,mk=void 0;nf=Yh*Ze-Zh*Ye;of=Zh*Xe-Xh*Ze;pf=Xh*Ye-Yh*Xe;hk=Ah*Ze-Bh*Ye;ik=Bh*Xe-zh*Ze;
jk=zh*Ye-Ah*Xe;kk=Bi*Ze-Ci*Ye;lk=Ci*Xe-Ai*Ze;mk=Ai*Ye-Bi*Xe;var Ch=-1,$h=void 0,ai=void 0,Ff=void 0,jh=0;Ff=ai=$h=0;if(0>ih*nf+yh*of+oj*pf){var Rg=void 0,Sg=void 0,bi=void 0,Di=void 0,Ei=void 0,Fi=void 0;Rg=Ta.x;Sg=Ta.y;bi=Ta.z;Di=sa.x;Ei=sa.y;Fi=sa.z;var Gi=void 0,Hi=void 0,Ii=void 0;Gi=Di-Rg;Hi=Ei-Sg;Ii=Fi-bi;var Tg=Gi*Rg+Hi*Sg+Ii*bi;Tg=-Tg/(Gi*Gi+Hi*Hi+Ii*Ii);var ci=void 0;if(0>Tg)l.x=Rg,l.y=Sg,l.z=bi,ci=1;else if(1<Tg)l.x=Di,l.y=Ei,l.z=Fi,ci=2;else{var pj=void 0,di=void 0,Kj=void 0;pj=Rg+Gi*Tg;
di=Sg+Hi*Tg;Kj=bi+Ii*Tg;l.x=pj;l.y=di;l.z=Kj;ci=3}jh=ci;Ch=l.x*l.x+l.y*l.y+l.z*l.z;$h=l.x;ai=l.y;Ff=l.z}if(0>Uh*hk+Vh*ik+Wh*jk){var qj=void 0,rj=void 0,sj=void 0,Ji=void 0,Ki=void 0,Li=void 0;qj=sa.x;rj=sa.y;sj=sa.z;Ji=Ga.x;Ki=Ga.y;Li=Ga.z;var Mi=void 0,Ni=void 0,Oi=void 0;Mi=Ji-qj;Ni=Ki-rj;Oi=Li-sj;var Ug=Mi*qj+Ni*rj+Oi*sj;Ug=-Ug/(Mi*Mi+Ni*Ni+Oi*Oi);var ei=void 0;if(0>Ug)l.x=qj,l.y=rj,l.z=sj,ei=1;else if(1<Ug)l.x=Ji,l.y=Ki,l.z=Li,ei=2;else{var tj=void 0,fi=void 0,Lj=void 0;tj=qj+Mi*Ug;fi=rj+Ni*Ug;
Lj=sj+Oi*Ug;l.x=tj;l.y=fi;l.z=Lj;ei=3}var nk=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Ch||nk<Ch)jh=ei<<1,Ch=nk,$h=l.x,ai=l.y,Ff=l.z}if(0>xi*kk+yi*lk+zi*mk){var uj=void 0,vj=void 0,wj=void 0,Pi=void 0,Qi=void 0,Ri=void 0;uj=Ta.x;vj=Ta.y;wj=Ta.z;Pi=Ga.x;Qi=Ga.y;Ri=Ga.z;var Si=void 0,Ti=void 0,Ui=void 0;Si=Pi-uj;Ti=Qi-vj;Ui=Ri-wj;var Vg=Si*uj+Ti*vj+Ui*wj;Vg=-Vg/(Si*Si+Ti*Ti+Ui*Ui);var Dh=void 0;if(0>Vg)l.x=uj,l.y=vj,l.z=wj,Dh=1;else if(1<Vg)l.x=Pi,l.y=Qi,l.z=Ri,Dh=2;else{var xj=void 0,gi=void 0,yj=void 0;xj=uj+
Si*Vg;gi=vj+Ti*Vg;yj=wj+Ui*Vg;l.x=xj;l.y=gi;l.z=yj;Dh=3}var ok=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Ch||ok<Ch)jh=Dh&1|(Dh&2)<<1,Ch=ok,$h=l.x,ai=l.y,Ff=l.z}var Nj=void 0;if(0<Ch)l.x=$h,l.y=ai,l.z=Ff,Nj=jh;else{var Vi=Xe*Xe+Ye*Ye+Ze*Ze;0<Vi&&(Vi=1/Math.sqrt(Vi));Xe*=Vi;Ye*=Vi;Ze*=Vi;var zj=Xe*Xe+Ye*Ye+Ze*Ze;zj=(ih*Xe+yh*Ye+oj*Ze)/zj;$h=Xe*zj;ai=Ye*zj;Ff=Ze*zj;l.x=$h;l.y=ai;l.z=Ff;Nj=7}var Oj=l.x*l.x+l.y*l.y+l.z*l.z;if(0>Dc||Oj<Dc)fd=Nj<<1,Dc=Oj,Ec=l.x,od=l.y,hc=l.z}0<Dc?(l.x=Ec,l.y=od,l.z=hc,B=fd):(l.$(),B=
15)}if(1E-8>l.x*l.x+l.y*l.y+l.z*l.z){if(!f)return this.distance=0;switch(this.h){case 1:this.Xa();break;case 2:this.Wa();break;case 3:this.Ya()}if(4==this.h){var Wi=this.Sb(h,k,g);if(0!=Wi)return this.distance=0,Wi;this.distance=-this.depth;return 0}this.distance=0;return 1}this.Pb(B);m.x=l.x;m.y=l.y;m.z=l.z;m.x=-m.x;m.y=-m.y;m.z=-m.z;this.V(!1);this.W(!1);var Yf=this.i[this.h],Pj=this.mb[this.h];Yf.x=Pj.x;Yf.y=Pj.y;Yf.z=Pj.z;var Le=this.sb[this.h];Yf.x-=Le.x;Yf.y-=Le.y;Yf.z-=Le.z;if(1E-8>m.x*m.x+
m.y*m.y+m.z*m.z)throw Error("!?");var hi=h[this.h];if(1E-8>hi.x*m.x+hi.y*m.y+hi.z*m.z-(l.x*m.x+l.y*m.y+l.z*m.z))return this.Ib(),this.distance=Math.sqrt(l.x*l.x+l.y*l.y+l.z*l.z),null!=c&&null!=c.og&&this.Gb(c.og),0;this.h++;++v}return 2};yc.prototype.ob=function(a,b,e,d,c,f,h){this.Ma=a;this.Sa=b;this.I=e;this.M=d;var k=this.i,g=this.aa,l=this.C;var m=d.F-e.F;var n=d.G-e.G;var q=d.H-e.H;l.x=m;l.y=n;l.z=q;1E-6>l.x*l.x+l.y*l.y+l.z*l.z&&l.Ia(1,0,0);this.h=0;if(null!=this.Ma)this.V(!0);else{var p=this.mb[this.h];
p.x=this.I.F;p.y=this.I.G;p.z=this.I.H}this.W(!0);var r=this.i[this.h],t=this.mb[this.h];r.x=t.x;r.y=t.y;r.z=t.z;var x=this.sb[this.h];r.x-=x.x;r.y-=x.y;r.z-=x.z;this.h=1;var v=0,B=0,H=this.Fb,C=this.tb;H.$();C.x=f.x;C.y=f.y;C.z=f.z;C.x-=c.x;C.y-=c.y;for(C.z-=c.z;40>v;){var N=0;switch(this.h){case 1:var y=k[0];g.x=y.x;g.y=y.y;g.z=y.z;N=1;break;case 2:var A=void 0,E=void 0,L=void 0,G=void 0,P=void 0,K=void 0,pa=k[0];A=pa.x;E=pa.y;L=pa.z;var M=k[1];G=M.x;P=M.y;K=M.z;var Sa=void 0,Pa=void 0,Ca=void 0;
Sa=G-A;Pa=P-E;Ca=K-L;var Ra=Sa*A+Pa*E+Ca*L;Ra=-Ra/(Sa*Sa+Pa*Pa+Ca*Ca);if(0>Ra)g.x=A,g.y=E,g.z=L,N=1;else if(1<Ra)g.x=G,g.y=P,g.z=K,N=2;else{var wa=void 0,La=void 0,Ea=void 0;wa=A+Sa*Ra;La=E+Pa*Ra;Ea=L+Ca*Ra;g.x=wa;g.y=La;g.z=Ea;N=3}break;case 3:var O=k[0],ma=k[1],Y=k[2],ta=void 0,Va=void 0,D=void 0,Aa=void 0,aa=void 0,Ua=void 0,xa=void 0,Ja=void 0,S=void 0,la=void 0,qa=void 0,Da=void 0,X=void 0,fa=void 0,w=void 0,ja=void 0,ea=void 0,U=void 0;ta=O.x;Va=O.y;D=O.z;Aa=ma.x;aa=ma.y;Ua=ma.z;xa=Y.x;Ja=Y.y;
S=Y.z;la=Aa-ta;qa=aa-Va;Da=Ua-D;X=xa-Aa;fa=Ja-aa;w=S-Ua;ja=ta-xa;ea=Va-Ja;U=D-S;var ba=void 0,Fa=void 0,ka=void 0;ba=qa*w-Da*fa;Fa=Da*X-la*w;ka=la*fa-qa*X;var Qa=void 0,Ka=void 0,V=void 0,ob=void 0,Za=void 0,W=void 0,ha=void 0,I=void 0,na=void 0;Qa=qa*ka-Da*Fa;Ka=Da*ba-la*ka;V=la*Fa-qa*ba;ob=fa*ka-w*Fa;Za=w*ba-X*ka;W=X*Fa-fa*ba;ha=ea*ka-U*Fa;I=U*ba-ja*ka;na=ja*Fa-ea*ba;var ca=-1,da=void 0,Z=void 0,oa=void 0,xb=0;oa=Z=da=0;if(0>ta*Qa+Va*Ka+D*V){var hb=void 0,fb=void 0,gb=void 0,pb=void 0,ab=void 0,
$a=void 0;hb=O.x;fb=O.y;gb=O.z;pb=ma.x;ab=ma.y;$a=ma.z;var ua=void 0,Ya=void 0,Fb=void 0;ua=pb-hb;Ya=ab-fb;Fb=$a-gb;var Xa=ua*hb+Ya*fb+Fb*gb;Xa=-Xa/(ua*ua+Ya*Ya+Fb*Fb);var Bb=void 0;if(0>Xa)g.x=hb,g.y=fb,g.z=gb,Bb=1;else if(1<Xa)g.x=pb,g.y=ab,g.z=$a,Bb=2;else{var Wa=void 0,Cb=void 0,qb=void 0;Wa=hb+ua*Xa;Cb=fb+Ya*Xa;qb=gb+Fb*Xa;g.x=Wa;g.y=Cb;g.z=qb;Bb=3}xb=Bb;ca=g.x*g.x+g.y*g.y+g.z*g.z;da=g.x;Z=g.y;oa=g.z}if(0>Aa*ob+aa*Za+Ua*W){var bb=void 0,ib=void 0,rb=void 0,db=void 0,Db=void 0,jb=void 0;bb=ma.x;
ib=ma.y;rb=ma.z;db=Y.x;Db=Y.y;jb=Y.z;var nb=void 0,cb=void 0,Jb=void 0;nb=db-bb;cb=Db-ib;Jb=jb-rb;var Kb=nb*bb+cb*ib+Jb*rb;Kb=-Kb/(nb*nb+cb*cb+Jb*Jb);var F=void 0;if(0>Kb)g.x=bb,g.y=ib,g.z=rb,F=1;else if(1<Kb)g.x=db,g.y=Db,g.z=jb,F=2;else{var ub=void 0,lb=void 0,yb=void 0;ub=bb+nb*Kb;lb=ib+cb*Kb;yb=rb+Jb*Kb;g.x=ub;g.y=lb;g.z=yb;F=3}var vb=g.x*g.x+g.y*g.y+g.z*g.z;if(0>ca||vb<ca)xb=F<<1,ca=vb,da=g.x,Z=g.y,oa=g.z}if(0>xa*ha+Ja*I+S*na){var eb=void 0,Lb=void 0,mb=void 0,zb=void 0,u=void 0,T=void 0;eb=
O.x;Lb=O.y;mb=O.z;zb=Y.x;u=Y.y;T=Y.z;var R=void 0,va=void 0,Na=void 0;R=zb-eb;va=u-Lb;Na=T-mb;var ya=R*eb+va*Lb+Na*mb;ya=-ya/(R*R+va*va+Na*Na);var Oa=void 0;if(0>ya)g.x=eb,g.y=Lb,g.z=mb,Oa=1;else if(1<ya)g.x=zb,g.y=u,g.z=T,Oa=2;else{var kb=void 0,sb=void 0,Hb=void 0;kb=eb+R*ya;sb=Lb+va*ya;Hb=mb+Na*ya;g.x=kb;g.y=sb;g.z=Hb;Oa=3}var Ba=g.x*g.x+g.y*g.y+g.z*g.z;if(0>ca||Ba<ca)xb=Oa&1|(Oa&2)<<1,ca=Ba,da=g.x,Z=g.y,oa=g.z}if(0<ca)g.x=da,g.y=Z,g.z=oa,N=xb;else{var Ta=ba*ba+Fa*Fa+ka*ka;0<Ta&&(Ta=1/Math.sqrt(Ta));
ba*=Ta;Fa*=Ta;ka*=Ta;var sa=ba*ba+Fa*Fa+ka*ka;sa=(ta*ba+Va*Fa+D*ka)/sa;da=ba*sa;Z=Fa*sa;oa=ka*sa;g.x=da;g.y=Z;g.z=oa;N=7}break;case 4:var Ga=k[0],Q=k[1],Ma=k[2],Ia=k[3],Eb=void 0,wb=void 0,Mb=void 0,Ib=void 0,Tb=void 0,Rb=void 0,Wb=void 0,mc=void 0,Xb=void 0,ic=void 0,bc=void 0,$b=void 0,Zb=void 0,Qb=void 0,jc=void 0,ac=void 0,ec=void 0,Ub=void 0,kc=void 0,uc=void 0,fc=void 0,dd=void 0,Nb=void 0,nc=void 0,gc=void 0,Vb=void 0,lc=void 0;Eb=Ga.x;wb=Ga.y;Mb=Ga.z;Ib=Q.x;Tb=Q.y;Rb=Q.z;Wb=Ma.x;mc=Ma.y;Xb=
Ma.z;ic=Ia.x;bc=Ia.y;$b=Ia.z;Zb=Ib-Eb;Qb=Tb-wb;jc=Rb-Mb;ac=Wb-Eb;ec=mc-wb;Ub=Xb-Mb;kc=ic-Eb;uc=bc-wb;fc=$b-Mb;dd=Wb-Ib;Nb=mc-Tb;nc=Xb-Rb;gc=ic-Ib;Vb=bc-Tb;lc=$b-Rb;var ed=void 0,Bc=void 0,Kc=void 0,zc=void 0,Cc=void 0,sc=void 0,Lc=void 0,zd=void 0,Rc=void 0,Wc=void 0,Dc=void 0,Ec=void 0;ed=Qb*Ub-jc*ec;Bc=jc*ac-Zb*Ub;Kc=Zb*ec-Qb*ac;zc=ec*fc-Ub*uc;Cc=Ub*kc-ac*fc;sc=ac*uc-ec*kc;Lc=uc*jc-fc*Qb;zd=fc*Zb-kc*jc;Rc=kc*Qb-uc*Zb;Wc=Vb*nc-lc*Nb;Dc=lc*dd-gc*nc;Ec=gc*Nb-Vb*dd;var od=0<Zb*Wc+Qb*Dc+jc*Ec?1:-1,hc=
-1,fd=void 0,Sc=void 0,pd=void 0,Gd=0;pd=Sc=fd=0;if(0>(Eb*ed+wb*Bc+Mb*Kc)*od){var Tc=void 0,Pd=void 0,je=void 0,De=void 0,Kd=void 0,Xc=void 0,be=void 0,ue=void 0,Ee=void 0,ve=void 0,qd=void 0,ce=void 0,we=void 0,ke=void 0,le=void 0,Fc=void 0,gd=void 0,hd=void 0;Tc=Ga.x;Pd=Ga.y;je=Ga.z;De=Q.x;Kd=Q.y;Xc=Q.z;be=Ma.x;ue=Ma.y;Ee=Ma.z;ve=De-Tc;qd=Kd-Pd;ce=Xc-je;we=be-De;ke=ue-Kd;le=Ee-Xc;Fc=Tc-be;gd=Pd-ue;hd=je-Ee;var Ad=void 0,Yc=void 0,Mc=void 0;Ad=qd*le-ce*ke;Yc=ce*we-ve*le;Mc=ve*ke-qd*we;var ug=void 0,
vg=void 0,lh=void 0,Me=void 0,uf=void 0,vf=void 0,Fe=void 0,Ic=void 0,Jc=void 0;ug=qd*Mc-ce*Yc;vg=ce*Ad-ve*Mc;lh=ve*Yc-qd*Ad;Me=ke*Mc-le*Yc;uf=le*Ad-we*Mc;vf=we*Yc-ke*Ad;Fe=gd*Mc-hd*Yc;Ic=hd*Ad-Fc*Mc;Jc=Fc*Yc-gd*Ad;var oc=-1,xe=void 0,me=void 0,Qd=void 0,Rd=0;Qd=me=xe=0;if(0>Tc*ug+Pd*vg+je*lh){var ye=void 0,dg=void 0,Uc=void 0,Vc=void 0,Nc=void 0,wf=void 0;ye=Ga.x;dg=Ga.y;Uc=Ga.z;Vc=Q.x;Nc=Q.y;wf=Q.z;var Vd=void 0,Ge=void 0,eg=void 0;Vd=Vc-ye;Ge=Nc-dg;eg=wf-Uc;var Ne=Vd*ye+Ge*dg+eg*Uc;Ne=-Ne/(Vd*
Vd+Ge*Ge+eg*eg);var bf=void 0;if(0>Ne)g.x=ye,g.y=dg,g.z=Uc,bf=1;else if(1<Ne)g.x=Vc,g.y=Nc,g.z=wf,bf=2;else{var xf=void 0,If=void 0,Jf=void 0;xf=ye+Vd*Ne;If=dg+Ge*Ne;Jf=Uc+eg*Ne;g.x=xf;g.y=If;g.z=Jf;bf=3}Rd=bf;oc=g.x*g.x+g.y*g.y+g.z*g.z;xe=g.x;me=g.y;Qd=g.z}if(0>De*Me+Kd*uf+Xc*vf){var cf=void 0,df=void 0,Kf=void 0,Lf=void 0,yf=void 0,zf=void 0;cf=Q.x;df=Q.y;Kf=Q.z;Lf=Ma.x;yf=Ma.y;zf=Ma.z;var ze=void 0,ef=void 0,Mf=void 0;ze=Lf-cf;ef=yf-df;Mf=zf-Kf;var ff=ze*cf+ef*df+Mf*Kf;ff=-ff/(ze*ze+ef*ef+Mf*Mf);
var Zg=void 0;if(0>ff)g.x=cf,g.y=df,g.z=Kf,Zg=1;else if(1<ff)g.x=Lf,g.y=yf,g.z=zf,Zg=2;else{var Kh=void 0,Bd=void 0,vc=void 0;Kh=cf+ze*ff;Bd=df+ef*ff;vc=Kf+Mf*ff;g.x=Kh;g.y=Bd;g.z=vc;Zg=3}var wc=g.x*g.x+g.y*g.y+g.z*g.z;if(0>oc||wc<oc)Rd=Zg<<1,oc=wc,xe=g.x,me=g.y,Qd=g.z}if(0>be*Fe+ue*Ic+Ee*Jc){var Cd=void 0,Oe=void 0,Pe=void 0,Qe=void 0,Wd=void 0,Xd=void 0;Cd=Ga.x;Oe=Ga.y;Pe=Ga.z;Qe=Ma.x;Wd=Ma.y;Xd=Ma.z;var Dd=void 0,de=void 0,He=void 0;Dd=Qe-Cd;de=Wd-Oe;He=Xd-Pe;var ne=Dd*Cd+de*Oe+He*Pe;ne=-ne/(Dd*
Dd+de*de+He*He);var Hd=void 0;if(0>ne)g.x=Cd,g.y=Oe,g.z=Pe,Hd=1;else if(1<ne)g.x=Qe,g.y=Wd,g.z=Xd,Hd=2;else{var ee=void 0,Yd=void 0,Ae=void 0;ee=Cd+Dd*ne;Yd=Oe+de*ne;Ae=Pe+He*ne;g.x=ee;g.y=Yd;g.z=Ae;Hd=3}var oe=g.x*g.x+g.y*g.y+g.z*g.z;if(0>oc||oe<oc)Rd=Hd&1|(Hd&2)<<1,oc=oe,xe=g.x,me=g.y,Qd=g.z}var Af=void 0;if(0<oc)g.x=xe,g.y=me,g.z=Qd,Af=Rd;else{var ld=Ad*Ad+Yc*Yc+Mc*Mc;0<ld&&(ld=1/Math.sqrt(ld));Ad*=ld;Yc*=ld;Mc*=ld;var Sd=Ad*Ad+Yc*Yc+Mc*Mc;Sd=(Tc*Ad+Pd*Yc+je*Mc)/Sd;xe=Ad*Sd;me=Yc*Sd;Qd=Mc*Sd;g.x=
xe;g.y=me;g.z=Qd;Af=7}Gd=Af;hc=g.x*g.x+g.y*g.y+g.z*g.z;fd=g.x;Sc=g.y;pd=g.z}if(0>(Eb*zc+wb*Cc+Mb*sc)*od){var ud=void 0,rd=void 0,sd=void 0,md=void 0,Zc=void 0,$c=void 0,Gc=void 0,xc=void 0,Hc=void 0,Ac=void 0,id=void 0,Oc=void 0,ad=void 0,Ie=void 0,Nf=void 0,Ed=void 0,Td=void 0,td=void 0;ud=Ga.x;rd=Ga.y;sd=Ga.z;md=Ma.x;Zc=Ma.y;$c=Ma.z;Gc=Ia.x;xc=Ia.y;Hc=Ia.z;Ac=md-ud;id=Zc-rd;Oc=$c-sd;ad=Gc-md;Ie=xc-Zc;Nf=Hc-$c;Ed=ud-Gc;Td=rd-xc;td=sd-Hc;var Ld=void 0,vd=void 0,wd=void 0;Ld=id*Nf-Oc*Ie;vd=Oc*ad-Ac*
Nf;wd=Ac*Ie-id*ad;var Of=void 0,Lh=void 0,Mh=void 0,Nh=void 0,mh=void 0,$g=void 0,Be=void 0,Je=void 0,Ce=void 0;Of=id*wd-Oc*vd;Lh=Oc*Ld-Ac*wd;Mh=Ac*vd-id*Ld;Nh=Ie*wd-Nf*vd;mh=Nf*Ld-ad*wd;$g=ad*vd-Ie*Ld;Be=Td*wd-td*vd;Je=td*Ld-Ed*wd;Ce=Ed*vd-Td*Ld;var Id=-1,fe=void 0,pe=void 0,qe=void 0,Re=0;qe=pe=fe=0;if(0>ud*Of+rd*Lh+sd*Mh){var Ud=void 0,Se=void 0,Pf=void 0,Qf=void 0,nh=void 0,ah=void 0;Ud=Ga.x;Se=Ga.y;Pf=Ga.z;Qf=Ma.x;nh=Ma.y;ah=Ma.z;var gf=void 0,hf=void 0,fg=void 0;gf=Qf-Ud;hf=nh-Se;fg=ah-Pf;var wg=
gf*Ud+hf*Se+fg*Pf;wg=-wg/(gf*gf+hf*hf+fg*fg);var bh=void 0;if(0>wg)g.x=Ud,g.y=Se,g.z=Pf,bh=1;else if(1<wg)g.x=Qf,g.y=nh,g.z=ah,bh=2;else{var xg=void 0,yg=void 0,ch=void 0;xg=Ud+gf*wg;yg=Se+hf*wg;ch=Pf+fg*wg;g.x=xg;g.y=yg;g.z=ch;bh=3}Re=bh;Id=g.x*g.x+g.y*g.y+g.z*g.z;fe=g.x;pe=g.y;qe=g.z}if(0>md*Nh+Zc*mh+$c*$g){var zg=void 0,Ag=void 0,Bg=void 0,Cg=void 0,Dg=void 0,gg=void 0;zg=Ma.x;Ag=Ma.y;Bg=Ma.z;Cg=Ia.x;Dg=Ia.y;gg=Ia.z;var Te=void 0,Rf=void 0,Eg=void 0;Te=Cg-zg;Rf=Dg-Ag;Eg=gg-Bg;var Sf=Te*zg+Rf*Ag+
Eg*Bg;Sf=-Sf/(Te*Te+Rf*Rf+Eg*Eg);var dh=void 0;if(0>Sf)g.x=zg,g.y=Ag,g.z=Bg,dh=1;else if(1<Sf)g.x=Cg,g.y=Dg,g.z=gg,dh=2;else{var cj=void 0,oh=void 0,ph=void 0;cj=zg+Te*Sf;oh=Ag+Rf*Sf;ph=Bg+Eg*Sf;g.x=cj;g.y=oh;g.z=ph;dh=3}var ge=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Id||ge<Id)Re=dh<<1,Id=ge,fe=g.x,pe=g.y,qe=g.z}if(0>Gc*Be+xc*Je+Hc*Ce){var Zd=void 0,$d=void 0,qh=void 0,rh=void 0,sh=void 0,th=void 0;Zd=Ga.x;$d=Ga.y;qh=Ga.z;rh=Ia.x;sh=Ia.y;th=Ia.z;var Tf=void 0,Fg=void 0,Oh=void 0;Tf=rh-Zd;Fg=sh-$d;Oh=th-qh;var eh=
Tf*Zd+Fg*$d+Oh*qh;eh=-eh/(Tf*Tf+Fg*Fg+Oh*Oh);var Ph=void 0;if(0>eh)g.x=Zd,g.y=$d,g.z=qh,Ph=1;else if(1<eh)g.x=rh,g.y=sh,g.z=th,Ph=2;else{var hg=void 0,Uf=void 0,jf=void 0;hg=Zd+Tf*eh;Uf=$d+Fg*eh;jf=qh+Oh*eh;g.x=hg;g.y=Uf;g.z=jf;Ph=3}var Gg=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Id||Gg<Id)Re=Ph&1|(Ph&2)<<1,Id=Gg,fe=g.x,pe=g.y,qe=g.z}var ig=void 0;if(0<Id)g.x=fe,g.y=pe,g.z=qe,ig=Re;else{var kf=Ld*Ld+vd*vd+wd*wd;0<kf&&(kf=1/Math.sqrt(kf));Ld*=kf;vd*=kf;wd*=kf;var Bf=Ld*Ld+vd*vd+wd*wd;Bf=(ud*Ld+rd*vd+sd*wd)/Bf;
fe=Ld*Bf;pe=vd*Bf;qe=wd*Bf;g.x=fe;g.y=pe;g.z=qe;ig=7}var Hg=g.x*g.x+g.y*g.y+g.z*g.z;if(0>hc||Hg<hc)Gd=ig&1|(ig&6)<<1,hc=Hg,fd=g.x,Sc=g.y,pd=g.z}if(0>(Eb*Lc+wb*zd+Mb*Rc)*od){var Ig=void 0,Jg=void 0,Kg=void 0,jg=void 0,kg=void 0,lg=void 0,Ue=void 0,mg=void 0,fh=void 0,Lg=void 0,Mg=void 0,Cf=void 0,ng=void 0,og=void 0,gh=void 0,re=void 0,se=void 0,ae=void 0;Ig=Ga.x;Jg=Ga.y;Kg=Ga.z;jg=Q.x;kg=Q.y;lg=Q.z;Ue=Ia.x;mg=Ia.y;fh=Ia.z;Lg=jg-Ig;Mg=kg-Jg;Cf=lg-Kg;ng=Ue-jg;og=mg-kg;gh=fh-lg;re=Ig-Ue;se=Jg-mg;ae=
Kg-fh;var he=void 0,ie=void 0,Md=void 0;he=Mg*gh-Cf*og;ie=Cf*ng-Lg*gh;Md=Lg*og-Mg*ng;var ji=void 0,Dj=void 0,Ej=void 0,Fj=void 0,dj=void 0,Qh=void 0,Df=void 0,Vf=void 0,Ng=void 0;ji=Mg*Md-Cf*ie;Dj=Cf*he-Lg*Md;Ej=Lg*ie-Mg*he;Fj=og*Md-gh*ie;dj=gh*he-ng*Md;Qh=ng*ie-og*he;Df=se*Md-ae*ie;Vf=ae*he-re*Md;Ng=re*ie-se*he;var Ke=-1,Wf=void 0,Ve=void 0,We=void 0,Xf=0;We=Ve=Wf=0;if(0>Ig*ji+Jg*Dj+Kg*Ej){var lf=void 0,pg=void 0,uh=void 0,vh=void 0,wh=void 0,hh=void 0;lf=Ga.x;pg=Ga.y;uh=Ga.z;vh=Q.x;wh=Q.y;hh=Q.z;
var Ef=void 0,mf=void 0,qg=void 0;Ef=vh-lf;mf=wh-pg;qg=hh-uh;var Og=Ef*lf+mf*pg+qg*uh;Og=-Og/(Ef*Ef+mf*mf+qg*qg);var Gj=void 0;if(0>Og)g.x=lf,g.y=pg,g.z=uh,Gj=1;else if(1<Og)g.x=vh,g.y=wh,g.z=hh,Gj=2;else{var ej=void 0,fj=void 0,gj=void 0;ej=lf+Ef*Og;fj=pg+mf*Og;gj=uh+qg*Og;g.x=ej;g.y=fj;g.z=gj;Gj=3}Xf=Gj;Ke=g.x*g.x+g.y*g.y+g.z*g.z;Wf=g.x;Ve=g.y;We=g.z}if(0>jg*Fj+kg*dj+lg*Qh){var ki=void 0,li=void 0,mi=void 0,ni=void 0,oi=void 0,pi=void 0;ki=Q.x;li=Q.y;mi=Q.z;ni=Ia.x;oi=Ia.y;pi=Ia.z;var Pg=void 0,
Rh=void 0,hj=void 0;Pg=ni-ki;Rh=oi-li;hj=pi-mi;var Sh=Pg*ki+Rh*li+hj*mi;Sh=-Sh/(Pg*Pg+Rh*Rh+hj*hj);var Hj=void 0;if(0>Sh)g.x=ki,g.y=li,g.z=mi,Hj=1;else if(1<Sh)g.x=ni,g.y=oi,g.z=pi,Hj=2;else{var fk=void 0,ij=void 0,jj=void 0;fk=ki+Pg*Sh;ij=li+Rh*Sh;jj=mi+hj*Sh;g.x=fk;g.y=ij;g.z=jj;Hj=3}var kj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Ke||kj<Ke)Xf=Hj<<1,Ke=kj,Wf=g.x,Ve=g.y,We=g.z}if(0>Ue*Df+mg*Vf+fh*Ng){var qi=void 0,ri=void 0,si=void 0,ti=void 0,ui=void 0,vi=void 0;qi=Ga.x;ri=Ga.y;si=Ga.z;ti=Ia.x;ui=Ia.y;vi=Ia.z;
var Qg=void 0,xh=void 0,lj=void 0;Qg=ti-qi;xh=ui-ri;lj=vi-si;var Th=Qg*qi+xh*ri+lj*si;Th=-Th/(Qg*Qg+xh*xh+lj*lj);var mj=void 0;if(0>Th)g.x=qi,g.y=ri,g.z=si,mj=1;else if(1<Th)g.x=ti,g.y=ui,g.z=vi,mj=2;else{var gk=void 0,Ij=void 0,wi=void 0;gk=qi+Qg*Th;Ij=ri+xh*Th;wi=si+lj*Th;g.x=gk;g.y=Ij;g.z=wi;mj=3}var nj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Ke||nj<Ke)Xf=mj&1|(mj&2)<<1,Ke=nj,Wf=g.x,Ve=g.y,We=g.z}var Jj=void 0;if(0<Ke)g.x=Wf,g.y=Ve,g.z=We,Jj=Xf;else{var ih=he*he+ie*ie+Md*Md;0<ih&&(ih=1/Math.sqrt(ih));he*=
ih;ie*=ih;Md*=ih;var yh=he*he+ie*ie+Md*Md;yh=(Ig*he+Jg*ie+Kg*Md)/yh;Wf=he*yh;Ve=ie*yh;We=Md*yh;g.x=Wf;g.y=Ve;g.z=We;Jj=7}var oj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>hc||oj<hc)Gd=Jj&3|(Jj&4)<<1,hc=oj,fd=g.x,Sc=g.y,pd=g.z}if(0>(Ib*Wc+Tb*Dc+Rb*Ec)*od){var Uh=void 0,Vh=void 0,Wh=void 0,xi=void 0,yi=void 0,zi=void 0,Xh=void 0,Yh=void 0,Zh=void 0,zh=void 0,Ah=void 0,Bh=void 0,Ai=void 0,Bi=void 0,Ci=void 0,Xe=void 0,Ye=void 0,Ze=void 0;Uh=Q.x;Vh=Q.y;Wh=Q.z;xi=Ma.x;yi=Ma.y;zi=Ma.z;Xh=Ia.x;Yh=Ia.y;Zh=Ia.z;zh=xi-Uh;
Ah=yi-Vh;Bh=zi-Wh;Ai=Xh-xi;Bi=Yh-yi;Ci=Zh-zi;Xe=Uh-Xh;Ye=Vh-Yh;Ze=Wh-Zh;var nf=void 0,of=void 0,pf=void 0;nf=Ah*Ci-Bh*Bi;of=Bh*Ai-zh*Ci;pf=zh*Bi-Ah*Ai;var hk=void 0,ik=void 0,jk=void 0,kk=void 0,lk=void 0,mk=void 0,Ch=void 0,$h=void 0,ai=void 0;hk=Ah*pf-Bh*of;ik=Bh*nf-zh*pf;jk=zh*of-Ah*nf;kk=Bi*pf-Ci*of;lk=Ci*nf-Ai*pf;mk=Ai*of-Bi*nf;Ch=Ye*pf-Ze*of;$h=Ze*nf-Xe*pf;ai=Xe*of-Ye*nf;var Ff=-1,jh=void 0,Rg=void 0,Sg=void 0,bi=0;Sg=Rg=jh=0;if(0>Uh*hk+Vh*ik+Wh*jk){var Di=void 0,Ei=void 0,Fi=void 0,Gi=void 0,
Hi=void 0,Ii=void 0;Di=Q.x;Ei=Q.y;Fi=Q.z;Gi=Ma.x;Hi=Ma.y;Ii=Ma.z;var Tg=void 0,ci=void 0,pj=void 0;Tg=Gi-Di;ci=Hi-Ei;pj=Ii-Fi;var di=Tg*Di+ci*Ei+pj*Fi;di=-di/(Tg*Tg+ci*ci+pj*pj);var Kj=void 0;if(0>di)g.x=Di,g.y=Ei,g.z=Fi,Kj=1;else if(1<di)g.x=Gi,g.y=Hi,g.z=Ii,Kj=2;else{var qj=void 0,rj=void 0,sj=void 0;qj=Di+Tg*di;rj=Ei+ci*di;sj=Fi+pj*di;g.x=qj;g.y=rj;g.z=sj;Kj=3}bi=Kj;Ff=g.x*g.x+g.y*g.y+g.z*g.z;jh=g.x;Rg=g.y;Sg=g.z}if(0>xi*kk+yi*lk+zi*mk){var Ji=void 0,Ki=void 0,Li=void 0,Mi=void 0,Ni=void 0,Oi=
void 0;Ji=Ma.x;Ki=Ma.y;Li=Ma.z;Mi=Ia.x;Ni=Ia.y;Oi=Ia.z;var Ug=void 0,ei=void 0,tj=void 0;Ug=Mi-Ji;ei=Ni-Ki;tj=Oi-Li;var fi=Ug*Ji+ei*Ki+tj*Li;fi=-fi/(Ug*Ug+ei*ei+tj*tj);var Lj=void 0;if(0>fi)g.x=Ji,g.y=Ki,g.z=Li,Lj=1;else if(1<fi)g.x=Mi,g.y=Ni,g.z=Oi,Lj=2;else{var nk=void 0,uj=void 0,vj=void 0;nk=Ji+Ug*fi;uj=Ki+ei*fi;vj=Li+tj*fi;g.x=nk;g.y=uj;g.z=vj;Lj=3}var wj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Ff||wj<Ff)bi=Lj<<1,Ff=wj,jh=g.x,Rg=g.y,Sg=g.z}if(0>Xh*Ch+Yh*$h+Zh*ai){var Pi=void 0,Qi=void 0,Ri=void 0,Si=void 0,
Ti=void 0,Ui=void 0;Pi=Q.x;Qi=Q.y;Ri=Q.z;Si=Ia.x;Ti=Ia.y;Ui=Ia.z;var Vg=void 0,Dh=void 0,xj=void 0;Vg=Si-Pi;Dh=Ti-Qi;xj=Ui-Ri;var gi=Vg*Pi+Dh*Qi+xj*Ri;gi=-gi/(Vg*Vg+Dh*Dh+xj*xj);var yj=void 0;if(0>gi)g.x=Pi,g.y=Qi,g.z=Ri,yj=1;else if(1<gi)g.x=Si,g.y=Ti,g.z=Ui,yj=2;else{var ok=void 0,Nj=void 0,Vi=void 0;ok=Pi+Vg*gi;Nj=Qi+Dh*gi;Vi=Ri+xj*gi;g.x=ok;g.y=Nj;g.z=Vi;yj=3}var zj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>Ff||zj<Ff)bi=yj&1|(yj&2)<<1,Ff=zj,jh=g.x,Rg=g.y,Sg=g.z}var Oj=void 0;if(0<Ff)g.x=jh,g.y=Rg,g.z=Sg,Oj=
bi;else{var Wi=nf*nf+of*of+pf*pf;0<Wi&&(Wi=1/Math.sqrt(Wi));nf*=Wi;of*=Wi;pf*=Wi;var Yf=nf*nf+of*of+pf*pf;Yf=(Uh*nf+Vh*of+Wh*pf)/Yf;jh=nf*Yf;Rg=of*Yf;Sg=pf*Yf;g.x=jh;g.y=Rg;g.z=Sg;Oj=7}var Pj=g.x*g.x+g.y*g.y+g.z*g.z;if(0>hc||Pj<hc)Gd=Oj<<1,hc=Pj,fd=g.x,Sc=g.y,pd=g.z}0<hc?(g.x=fd,g.y=Sc,g.z=pd,N=Gd):(g.$(),N=15)}this.Pb(N);if(1E-8>g.x*g.x+g.y*g.y+g.z*g.z){if(0==B||4==this.h){h.fraction=B;break}this.Ib();h.fraction=B;var Le=h.normal;Le.x=l.x;Le.y=l.y;Le.z=l.z;var hi=Math.sqrt(Le.x*Le.x+Le.y*Le.y+Le.z*
Le.z);0<hi&&(hi=1/hi);Le.x*=hi;Le.y*=hi;Le.z*=hi;var Xi=h.position,Mk=this.closestPoint1;Xi.x=Mk.x;Xi.y=Mk.y;Xi.z=Mk.z;Xi.x+=c.x*B;Xi.y+=c.y*B;Xi.z+=c.z*B;return!0}l.x=g.x;l.y=g.y;l.z=g.z;l.x=-l.x;l.y=-l.y;l.z=-l.z;if(null!=this.Ma)this.V(!0);else{var Nk=this.mb[this.h];Nk.x=this.I.F;Nk.y=this.I.G;Nk.z=this.I.H}this.W(!0);var Yi=this.i[this.h],Ok=this.mb[this.h];Yi.x=Ok.x;Yi.y=Ok.y;Yi.z=Ok.z;var Pk=this.sb[this.h];Yi.x-=Pk.x;Yi.y-=Pk.y;Yi.z-=Pk.z;var Qj=k[this.h];Qj.x-=H.x;Qj.y-=H.y;Qj.z-=H.z;if(1E-8>
l.x*l.x+l.y*l.y+l.z*l.z)throw Error("!?");var Qk=k[this.h],jl=Qk.x*l.x+Qk.y*l.y+Qk.z*l.z;if(0>jl){if(0<=C.x*l.x+C.y*l.y+C.z*l.z)break;var pk=jl/(C.x*l.x+C.y*l.y+C.z*l.z);B+=pk;if(1<=B)break;H.x+=C.x*pk;H.y+=C.y*pk;H.z+=C.z*pk;for(var kl=0,yl=this.h+1;kl<yl;){var Rj=k[kl++],Rk=-pk;Rj.x+=C.x*Rk;Rj.y+=C.y*Rk;Rj.z+=C.z*Rk}}for(var ll=!1,ml=0,zl=this.h;ml<zl;){var Sk=ml++,nl=k[Sk].x-k[this.h].x,ol=k[Sk].y-k[this.h].y,pl=k[Sk].z-k[this.h].z;if(1E-8>nl*nl+ol*ol+pl*pl){ll=!0;break}}ll||this.h++;++v}return!1};
yc.prototype.Ib=function(){switch(this.h){case 1:var a=this.closestPoint1,b=this.mb[0];a.x=b.x;a.y=b.y;a.z=b.z;var e=this.closestPoint2,d=this.sb[0];e.x=d.x;e.y=d.y;e.z=d.z;break;case 2:var c=this.aa;var f=c.x;var h=c.y;var k=c.z;var g=this.i[0];var l=g.x;var m=g.y;var n=g.z;var q=this.mb[0];var p=q.x;var r=q.y;var t=q.z;var x=this.sb[0];var v=x.x;var B=x.y;var H=x.z;var C=this.i[1];var N=C.x;var y=C.y;var A=C.z;var E=this.mb[1];var L=E.x;var G=E.y;var P=E.z;var K=this.sb[1];var pa=K.x;var M=K.y;
var Sa=K.z;var Pa=N-l;var Ca=y-m;var Ra=A-n;var wa=Pa*Pa+Ca*Ca+Ra*Ra;0!=wa&&(wa=1/wa);var La=((f-l)*Pa+(h-m)*Ca+(k-n)*Ra)*wa;var Ea=L-p;var O=G-r;var ma=P-t;var Y=p+Ea*La;var ta=r+O*La;var Va=t+ma*La;Ea=pa-v;O=M-B;ma=Sa-H;var D=v+Ea*La;var Aa=B+O*La;var aa=H+ma*La;var Ua=this.closestPoint1;Ua.x=Y;Ua.y=ta;Ua.z=Va;var xa=this.closestPoint2;xa.x=D;xa.y=Aa;xa.z=aa;break;case 3:var Ja=this.aa;var S=Ja.x;var la=Ja.y;var qa=Ja.z;var Da=this.i[0];var X=Da.x;var fa=Da.y;var w=Da.z;var ja=this.mb[0];var ea=
ja.x;var U=ja.y;var ba=ja.z;var Fa=this.sb[0];var ka=Fa.x;var Qa=Fa.y;var Ka=Fa.z;var V=this.i[1];var ob=V.x;var Za=V.y;var W=V.z;var ha=this.mb[1];var I=ha.x;var na=ha.y;var ca=ha.z;var da=this.sb[1];var Z=da.x;var oa=da.y;var xb=da.z;var hb=this.i[2];var fb=hb.x;var gb=hb.y;var pb=hb.z;var ab=this.mb[2];var $a=ab.x;var ua=ab.y;var Ya=ab.z;var Fb=this.sb[2];var Xa=Fb.x;var Bb=Fb.y;var Wa=Fb.z;var Cb=ob-X;var qb=Za-fa;var bb=W-w;var ib=fb-X;var rb=gb-fa;var db=pb-w;var Db=S-X;var jb=la-fa;var nb=
qa-w;var cb=Cb*Cb+qb*qb+bb*bb,Jb=Cb*ib+qb*rb+bb*db,Kb=ib*ib+rb*rb+db*db,F=Cb*Db+qb*jb+bb*nb,ub=ib*Db+rb*jb+db*nb,lb=cb*Kb-Jb*Jb;0!=lb&&(lb=1/lb);var yb=(F*Kb-ub*Jb)*lb,vb=(-F*Jb+ub*cb)*lb;var eb=I-ea;var Lb=na-U;var mb=ca-ba;var zb=ea+eb*yb;var u=U+Lb*yb;var T=ba+mb*yb;eb=$a-ea;Lb=ua-U;mb=Ya-ba;zb+=eb*vb;u+=Lb*vb;T+=mb*vb;eb=Z-ka;Lb=oa-Qa;mb=xb-Ka;var R=ka+eb*yb;var va=Qa+Lb*yb;var Na=Ka+mb*yb;eb=Xa-ka;Lb=Bb-Qa;mb=Wa-Ka;R+=eb*vb;va+=Lb*vb;Na+=mb*vb;var ya=this.closestPoint1;ya.x=zb;ya.y=u;ya.z=T;
var Oa=this.closestPoint2;Oa.x=R;Oa.y=va;Oa.z=Na;break;default:throw Error("!?");}};yc.prototype.Va=function(a){var b=this.C;a=a.vi;b.x=a.x;b.y=a.y;b.z=a.z};yc.prototype.Gb=function(a){a=a.vi;var b=this.aa;a.x=b.x;a.y=b.y;a.z=b.z;a.x=-a.x;a.y=-a.y;a.z=-a.z};yc.prototype.Pb=function(a){this.h=a;this.h=(this.h&5)+(this.h>>1&5);this.h=(this.h&3)+(this.h>>2&3);switch(a){case 2:a=this.i[0];var b=this.i[1];a.x=b.x;a.y=b.y;a.z=b.z;a=this.mb[0];b=this.mb[1];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[1];
a.x=b.x;a.y=b.y;a.z=b.z;break;case 4:a=this.i[0];b=this.i[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.mb[0];b=this.mb[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[2];a.x=b.x;a.y=b.y;a.z=b.z;break;case 5:a=this.i[1];b=this.i[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.mb[1];b=this.mb[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[1];b=this.sb[2];a.x=b.x;a.y=b.y;a.z=b.z;break;case 6:a=this.i[0];b=this.i[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.mb[0];b=this.mb[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[2];a.x=b.x;a.y=b.y;a.z=
b.z;break;case 8:a=this.i[0];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.mb[0];b=this.mb[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;break;case 9:a=this.i[1];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.mb[1];b=this.mb[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[1];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;break;case 10:a=this.i[0];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.mb[0];b=this.mb[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;break;case 11:a=
this.i[2];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.mb[2];b=this.mb[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[2];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;break;case 12:a=this.i[0];b=this.i[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.mb[0];b=this.mb[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[0];b=this.sb[2];a.x=b.x;a.y=b.y;a.z=b.z;a=this.i[1];b=this.i[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.mb[1];b=this.mb[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[1];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;break;case 13:a=this.i[1];b=this.i[3];a.x=b.x;
a.y=b.y;a.z=b.z;a=this.mb[1];b=this.mb[3];a.x=b.x;a.y=b.y;a.z=b.z;a=this.sb[1];b=this.sb[3];a.x=b.x;a.y=b.y;a.z=b.z;break;case 14:a=this.i[0],b=this.i[3],a.x=b.x,a.y=b.y,a.z=b.z,a=this.mb[0],b=this.mb[3],a.x=b.x,a.y=b.y,a.z=b.z,a=this.sb[0],b=this.sb[3],a.x=b.x,a.y=b.y,a.z=b.z}};yc.prototype.V=function(a){var b=this.C;var e=b.x;var d=b.y;b=b.z;var c=this.I.A*e+this.I.o*d+this.I.u*b;var f=this.I.j*e+this.I.v*d+this.I.l*b;var h=this.I.m*e+this.I.s*d+this.I.B*b;var k=this.C;k.x=c;k.y=f;k.z=h;this.Ma.ud(this.C,
this.mb[this.h]);a&&(a=this.C,h=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z),0<h&&(h=1/h),a.x*=h,a.y*=h,a.z*=h,a=this.mb[this.h],h=this.C,c=this.Ma.fc,a.x+=h.x*c,a.y+=h.y*c,a.z+=h.z*c);a=this.mb[this.h];h=a.x;c=a.y;k=a.z;f=this.I.A*h+this.I.j*c+this.I.m*k;a=this.I.o*h+this.I.v*c+this.I.s*k;c=this.I.u*h+this.I.l*c+this.I.B*k;h=f+this.I.F;a+=this.I.G;c+=this.I.H;f=this.mb[this.h];f.x=h;f.y=a;f.z=c;a=this.C;a.x=e;a.y=d;a.z=b};yc.prototype.W=function(a){var b=this.C;var e=b.x;var d=b.y;b=b.z;var c=this.M.A*e+this.M.o*
d+this.M.u*b;var f=this.M.j*e+this.M.v*d+this.M.l*b;var h=this.M.m*e+this.M.s*d+this.M.B*b;var k=this.C;k.x=-c;k.y=-f;k.z=-h;this.Sa.ud(this.C,this.sb[this.h]);a&&(a=this.C,c=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z),0<c&&(c=1/c),a.x*=c,a.y*=c,a.z*=c,a=this.sb[this.h],c=this.C,f=this.Sa.fc,a.x+=c.x*f,a.y+=c.y*f,a.z+=c.z*f);a=this.sb[this.h];c=a.x;f=a.y;k=a.z;h=this.M.A*c+this.M.j*f+this.M.m*k;a=this.M.o*c+this.M.v*f+this.M.s*k;f=this.M.u*c+this.M.l*f+this.M.B*k;c=h+this.M.F;a+=this.M.G;f+=this.M.H;h=this.sb[this.h];
h.x=c;h.y=a;h.z=f;a=this.C;a.x=e;a.y=d;a.z=b};yc.prototype.Xa=function(){for(var a=0;3>a;){var b=this.C,e=this.qa[a++];b.x=e.x;b.y=e.y;b.z=e.z;this.V(!1);this.W(!1);b=this.i[this.h];e=this.mb[this.h];b.x=e.x;b.y=e.y;b.z=e.z;e=this.sb[this.h];b.x-=e.x;b.y-=e.y;b.z-=e.z;this.h++;this.Wa();if(4==this.h)break;this.h--;b=this.C;b.x=-b.x;b.y=-b.y;b.z=-b.z;this.V(!1);this.W(!1);b=this.i[this.h];e=this.mb[this.h];b.x=e.x;b.y=e.y;b.z=e.z;e=this.sb[this.h];b.x-=e.x;b.y-=e.y;b.z-=e.z;this.h++;this.Wa();if(4==
this.h)break;this.h--}};yc.prototype.Wa=function(){var a=this.C;var b=a.x;var e=a.y;a=a.z;var d=this.i[0];var c=d.x;var f=d.y;d=d.z;var h=this.i[1];var k=h.x;var g=h.y;h=h.z;c-=k;f-=g;d-=h;for(g=0;3>g;){h=this.qa[g++];k=h.x;var l=h.y;var m=h.z;h=f*m-d*l;m=d*k-c*m;k=c*l-f*k;l=this.C;l.x=h;l.y=m;l.z=k;this.V(!1);this.W(!1);h=this.i[this.h];k=this.mb[this.h];h.x=k.x;h.y=k.y;h.z=k.z;k=this.sb[this.h];h.x-=k.x;h.y-=k.y;h.z-=k.z;this.h++;this.Ya();if(4==this.h)break;this.h--;h=this.C;h.x=-h.x;h.y=-h.y;
h.z=-h.z;this.V(!1);this.W(!1);h=this.i[this.h];k=this.mb[this.h];h.x=k.x;h.y=k.y;h.z=k.z;k=this.sb[this.h];h.x-=k.x;h.y-=k.y;h.z-=k.z;this.h++;this.Ya();if(4==this.h)break;this.h--}c=this.C;c.x=b;c.y=e;c.z=a};yc.prototype.Ya=function(){var a=this.C;var b=a.x;var e=a.y;for(a=a.z;;){var d=this.i[0];var c=d.x;var f=d.y;d=d.z;var h=this.i[1];var k=h.x;var g=h.y;var l=h.z;var m=this.i[2];var n=m.x;h=m.y;m=m.z;k-=c;g-=f;l-=d;c=n-c;f=h-f;h=m-d;d=g*h-l*f;h=l*c-k*h;f=k*f-g*c;k=this.C;k.x=d;k.y=h;k.z=f;this.V(!1);
this.W(!1);f=this.i[this.h];d=this.mb[this.h];f.x=d.x;f.y=d.y;f.z=d.z;d=this.sb[this.h];f.x-=d.x;f.y-=d.y;f.z-=d.z;this.h++;if(this.Jb())break;this.h--;f=this.C;f.x=-f.x;f.y=-f.y;f.z=-f.z;this.V(!1);this.W(!1);f=this.i[this.h];d=this.mb[this.h];f.x=d.x;f.y=d.y;f.z=d.z;d=this.sb[this.h];f.x-=d.x;f.y-=d.y;f.z-=d.z;this.h++;if(this.Jb())break;this.h--;break}f=this.C;f.x=b;f.y=e;f.z=a};yc.prototype.Jb=function(){var a=this.i[2].x-this.i[0].x,b=this.i[2].y-this.i[0].y,e=this.i[2].z-this.i[0].z,d=this.i[3].x-
this.i[0].x,c=this.i[3].y-this.i[0].y,f=this.i[3].z-this.i[0].z;a=(this.i[1].x-this.i[0].x)*(b*f-e*c)-(this.i[1].y-this.i[0].y)*(a*f-e*d)+(this.i[1].z-this.i[0].z)*(a*c-b*d);return 1E-12<a?!0:-1E-12>a};yc.prototype.Sb=function(a,b,e){for(var d=this.Y;0<d.V;){var c=d.C;d.V--;var f=c.sa,h=c.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c==d.C&&(d.C=d.C.U);c==d.i&&(d.i=d.i.sa);c.U=null;c.sa=null;c.uh();c.U=d.I;d.I=c}for(;0<d.Vd;){var k=d.Ja[--d.Vd];k.uh();k.U=d.M;d.M=k}var g=this.Y,l=this.Y,m=l.M;null!=m?(l.M=
m.U,m.U=null):m=new Aj;var n=m.Ia(a[0],b[0],e[0]),q=this.Y,p=q.M;null!=p?(q.M=p.U,p.U=null):p=new Aj;var r=p.Ia(a[1],b[1],e[1]),t=this.Y,x=t.M;null!=x?(t.M=x.U,x.U=null):x=new Aj;var v=x.Ia(a[2],b[2],e[2]),B=this.Y,H=B.M;null!=H?(B.M=H.U,H.U=null):H=new Aj;if(!g.aa(n,r,v,H.Ia(a[3],b[3],e[3])))return Xg.EPA_FAILED_TO_INIT;this.h=0;for(var C=this.i[0],N=this.mb[0],y=this.sb[0],A=0;40>A;){for(var E=this.Y.C,L=Infinity,G=null;null!=E;)E.bh<L&&(L=E.bh,G=E),E=E.U;var P=G,K=this.C,pa=P.jh;K.x=pa.x;K.y=pa.y;
K.z=pa.z;var M=Math.sqrt(K.x*K.x+K.y*K.y+K.z*K.z);0<M&&(M=1/M);K.x*=M;K.y*=M;K.z*=M;this.V(!1);this.W(!1);var Sa=this.i[this.h],Pa=this.mb[this.h];Sa.x=Pa.x;Sa.y=Pa.y;Sa.z=Pa.z;var Ca=this.sb[this.h];Sa.x-=Ca.x;Sa.y-=Ca.y;Sa.z-=Ca.z;var Ra=P.Ja[0],wa=P.Ja[1],La=P.Ja[2],Ea=Ra.kd,O=this.C,ma=this.C;if(1E-6>C.x*ma.x+C.y*ma.y+C.z*ma.z-(Ea.x*O.x+Ea.y*O.y+Ea.z*O.z)||39==A){var Y=this.aa,ta=this.C;Y.x=ta.x;Y.y=ta.y;Y.z=ta.z;var Va=this.C,D=Ra.kd,Aa=this.C,aa=(Va.x*D.x+Va.y*D.y+Va.z*D.z)/(Aa.x*Aa.x+Aa.y*
Aa.y+Aa.z*Aa.z);Y.x*=aa;Y.y*=aa;Y.z*=aa;var Ua=void 0,xa=void 0,Ja=void 0,S=this.aa;Ua=S.x;xa=S.y;Ja=S.z;var la=void 0,qa=void 0,Da=void 0,X=void 0,fa=void 0,w=void 0,ja=void 0,ea=void 0,U=void 0,ba=void 0,Fa=void 0,ka=void 0,Qa=void 0,Ka=void 0,V=void 0,ob=void 0,Za=void 0,W=void 0,ha=void 0,I=void 0,na=void 0,ca=void 0,da=void 0,Z=void 0,oa=void 0,xb=void 0,hb=void 0,fb=Ra.kd;la=fb.x;qa=fb.y;Da=fb.z;var gb=Ra.mb;X=gb.x;fa=gb.y;w=gb.z;var pb=Ra.sb;ja=pb.x;ea=pb.y;U=pb.z;var ab=wa.kd;ba=ab.x;Fa=ab.y;
ka=ab.z;var $a=wa.mb;Qa=$a.x;Ka=$a.y;V=$a.z;var ua=wa.sb;ob=ua.x;Za=ua.y;W=ua.z;var Ya=La.kd;ha=Ya.x;I=Ya.y;na=Ya.z;var Fb=La.mb;ca=Fb.x;da=Fb.y;Z=Fb.z;var Xa=La.sb;oa=Xa.x;xb=Xa.y;hb=Xa.z;var Bb=void 0,Wa=void 0,Cb=void 0,qb=void 0,bb=void 0,ib=void 0,rb=void 0,db=void 0,Db=void 0;Bb=ba-la;Wa=Fa-qa;Cb=ka-Da;qb=ha-la;bb=I-qa;ib=na-Da;rb=Ua-la;db=xa-qa;Db=Ja-Da;var jb=Bb*Bb+Wa*Wa+Cb*Cb,nb=Bb*qb+Wa*bb+Cb*ib,cb=qb*qb+bb*bb+ib*ib,Jb=Bb*rb+Wa*db+Cb*Db,Kb=qb*rb+bb*db+ib*Db,F=jb*cb-nb*nb;0!=F&&(F=1/F);var ub=
(Jb*cb-Kb*nb)*F,lb=(-Jb*nb+Kb*jb)*F,yb=void 0,vb=void 0,eb=void 0,Lb=void 0,mb=void 0,zb=void 0,u=void 0,T=void 0,R=void 0;yb=Qa-X;vb=Ka-fa;eb=V-w;Lb=X+yb*ub;mb=fa+vb*ub;zb=w+eb*ub;yb=ca-X;vb=da-fa;eb=Z-w;Lb+=yb*lb;mb+=vb*lb;zb+=eb*lb;yb=ob-ja;vb=Za-ea;eb=W-U;u=ja+yb*ub;T=ea+vb*ub;R=U+eb*ub;yb=oa-ja;vb=xb-ea;eb=hb-U;u+=yb*lb;T+=vb*lb;R+=eb*lb;var va=this.closestPoint1;va.x=Lb;va.y=mb;va.z=zb;var Na=this.closestPoint2;Na.x=u;Na.y=T;Na.z=R;var ya=this.aa;this.depth=Math.sqrt(ya.x*ya.x+ya.y*ya.y+ya.z*
ya.z);return Xg.SUCCEEDED}var Oa=this.Y,kb=Oa.M;null!=kb?(Oa.M=kb.U,kb.U=null):kb=new Aj;var sb=kb.Ia(C,N,y);if(!this.Y.qa(sb,P))return Xg.EPA_FAILED_TO_ADD_VERTEX;++A}return Xg.EPA_DID_NOT_CONVERGE};yc.prototype.Rb=function(a,b,e,d,c){return this.Oa(a,b,e,d,c,!0)};yc.prototype.Wb=function(a,b,e,d,c){return this.Oa(a,b,e,d,c,!1)};yc.prototype.nb=function(a,b,e,d,c,f,h){return this.ob(a,b,e,d,c,f,h)};yc.prototype.yd=function(a,b,e,d,c){var f=this.ac;f.F=e.x;f.G=e.y;f.H=e.z;var h=this.bc,k=this.Sc;
h.x=d.x;h.y=d.y;h.z=d.z;h.x-=e.x;h.y-=e.y;h.z-=e.z;k.$();return this.ob(null,a,f,b,h,k,c)};yc.h=function(){return yc.instance};Gh.h=function(a,b,e){var d=a.x;var c=a.y;a=a.z;var f=b.x;var h=b.y;b=b.z;var k=f-d;var g=h-c;var l=b-a;var m=-(k*d+g*c+l*a)/(k*k+g*g+l*l);if(0>m)return e.x=d,e.y=c,e.z=a,1;if(1<m)return e.x=f,e.y=h,e.z=b,2;e.x=d+k*m;e.y=c+g*m;e.z=a+l*m;return 3};Gh.i=function(a,b,e,d){var c=a.x;var f=a.y;var h=a.z;var k=b.x;var g=b.y;var l=b.z;var m=e.x;var n=e.y;var q=e.z;var p=k-c;var r=
g-f;var t=l-h;var x=m-k;var v=n-g;var B=q-l;var H=c-m;var C=f-n;var N=h-q;var y=r*B-t*v;var A=t*x-p*B;var E=p*v-r*x;var L=-1,G,P,K=0;var pa=P=G=0;if(0>c*(r*E-t*A)+f*(t*y-p*E)+h*(p*A-r*y)){L=a.x;G=a.y;P=a.z;pa=b.x;K=b.y;p=b.z;r=pa-L;t=K-G;var M=p-P;var Sa=-(r*L+t*G+M*P)/(r*r+t*t+M*M);0>Sa?(d.x=L,d.y=G,d.z=P,L=1):1<Sa?(d.x=pa,d.y=K,d.z=p,L=2):(d.x=L+r*Sa,d.y=G+t*Sa,d.z=P+M*Sa,L=3);K=L;L=d.x*d.x+d.y*d.y+d.z*d.z;G=d.x;P=d.y;pa=d.z}0>k*(v*E-B*A)+g*(B*y-x*E)+l*(x*A-v*y)&&(k=b.x,g=b.y,b=b.z,l=e.x,x=e.y,
v=e.z,B=l-k,p=x-g,r=v-b,t=-(B*k+p*g+r*b)/(B*B+p*p+r*r),0>t?(d.x=k,d.y=g,d.z=b,b=1):1<t?(d.x=l,d.y=x,d.z=v,b=2):(d.x=k+B*t,d.y=g+p*t,d.z=b+r*t,b=3),k=d.x*d.x+d.y*d.y+d.z*d.z,0>L||k<L)&&(K=b<<1,L=k,G=d.x,P=d.y,pa=d.z);0>m*(C*E-N*A)+n*(N*y-H*E)+q*(H*A-C*y)&&(m=a.x,n=a.y,a=a.z,q=e.x,H=e.y,e=e.z,C=q-m,N=H-n,b=e-a,k=-(C*m+N*n+b*a)/(C*C+N*N+b*b),0>k?(d.x=m,d.y=n,d.z=a,e=1):1<k?(d.x=q,d.y=H,d.z=e,e=2):(d.x=m+C*k,d.y=n+N*k,d.z=a+b*k,e=3),a=d.x*d.x+d.y*d.y+d.z*d.z,0>L||a<L)&&(K=e&1|(e&2)<<1,L=a,G=d.x,P=d.y,
pa=d.z);if(0<L)return d.x=G,d.y=P,d.z=pa,K;e=y*y+A*A+E*E;0<e&&(e=1/Math.sqrt(e));y*=e;A*=e;E*=e;c=(c*y+f*A+h*E)/(y*y+A*A+E*E);d.x=y*c;d.y=A*c;d.z=E*c;return 7};Gh.C=function(a,b,e,d,c){var f=a.x;var h=a.y;var k=a.z;var g=b.x;var l=b.y;var m=b.z;var n=e.x;var q=e.y;var p=e.z;var r=d.x;var t=d.y;var x=d.z;var v=g-f;var B=l-h;var H=m-k;var C=n-f;var N=q-h;var y=p-k;var A=r-f;var E=t-h;var L=x-k;var G=n-g;var P=q-l;var K=p-m;var pa=r-g;var M=t-l;var Sa=x-m;var Pa=B*y-H*N;var Ca=H*C-v*y;var Ra=v*N-B*C;
var wa=N*L-y*E;var La=y*A-C*L;var Ea=C*E-N*A;var O=E*H-L*B;var ma=L*v-A*H;var Y=A*B-E*v;var ta=M*K-Sa*P;var Va=Sa*G-pa*K;var D=pa*P-M*G;var Aa=0<v*ta+B*Va+H*D?1:-1,aa=-1,Ua,xa,Ja=0;var S=xa=Ua=0;if(0>(f*Pa+h*Ca+k*Ra)*Aa){var la=a.x;var qa=a.y;var Da=a.z;var X=b.x;var fa=b.y;var w=b.z;var ja=e.x;var ea=e.y;var U=e.z;var ba=X-la;var Fa=fa-qa;var ka=w-Da;var Qa=ja-X;var Ka=ea-fa;var V=U-w;var ob=la-ja;var Za=qa-ea;var W=Da-U;var ha=Fa*V-ka*Ka;var I=ka*Qa-ba*V;var na=ba*Ka-Fa*Qa;var ca=Fa*na-ka*I;var da=
ka*ha-ba*na;var Z=ba*I-Fa*ha;var oa=Ka*na-V*I;var xb=V*ha-Qa*na;var hb=Qa*I-Ka*ha;var fb=Za*na-W*I;var gb=W*ha-ob*na;var pb=ob*I-Za*ha;var ab=-1,$a,ua,Ya=0;var Fb=ua=$a=0;if(0>la*ca+qa*da+Da*Z){var Xa=a.x;var Bb=a.y;var Wa=a.z;var Cb=b.x;var qb=b.y;var bb=b.z;var ib=Cb-Xa;var rb=qb-Bb;var db=bb-Wa;var Db=ib*Xa+rb*Bb+db*Wa;Db=-Db/(ib*ib+rb*rb+db*db);if(0>Db){c.x=Xa;c.y=Bb;c.z=Wa;var jb=1}else if(1<Db)c.x=Cb,c.y=qb,c.z=bb,jb=2;else{var nb=Xa+ib*Db;var cb=Bb+rb*Db;var Jb=Wa+db*Db;c.x=nb;c.y=cb;c.z=Jb;
jb=3}Ya=jb;ab=c.x*c.x+c.y*c.y+c.z*c.z;$a=c.x;ua=c.y;Fb=c.z}if(0>X*oa+fa*xb+w*hb){var Kb=b.x;var F=b.y;var ub=b.z;var lb=e.x;var yb=e.y;var vb=e.z;var eb=lb-Kb;var Lb=yb-F;var mb=vb-ub;var zb=eb*Kb+Lb*F+mb*ub;zb=-zb/(eb*eb+Lb*Lb+mb*mb);if(0>zb){c.x=Kb;c.y=F;c.z=ub;var u=1}else if(1<zb)c.x=lb,c.y=yb,c.z=vb,u=2;else{var T=Kb+eb*zb;var R=F+Lb*zb;var va=ub+mb*zb;c.x=T;c.y=R;c.z=va;u=3}var Na=c.x*c.x+c.y*c.y+c.z*c.z;if(0>ab||Na<ab)Ya=u<<1,ab=Na,$a=c.x,ua=c.y,Fb=c.z}if(0>ja*fb+ea*gb+U*pb){var ya=a.x;var Oa=
a.y;var kb=a.z;var sb=e.x;var Hb=e.y;var Ba=e.z;var Ta=sb-ya;var sa=Hb-Oa;var Ga=Ba-kb;var Q=Ta*ya+sa*Oa+Ga*kb;Q=-Q/(Ta*Ta+sa*sa+Ga*Ga);if(0>Q){c.x=ya;c.y=Oa;c.z=kb;var Ma=1}else if(1<Q)c.x=sb,c.y=Hb,c.z=Ba,Ma=2;else{var Ia=ya+Ta*Q;var Eb=Oa+sa*Q;var wb=kb+Ga*Q;c.x=Ia;c.y=Eb;c.z=wb;Ma=3}var Mb=c.x*c.x+c.y*c.y+c.z*c.z;if(0>ab||Mb<ab)Ya=Ma&1|(Ma&2)<<1,ab=Mb,$a=c.x,ua=c.y,Fb=c.z}if(0<ab){c.x=$a;c.y=ua;c.z=Fb;var Ib=Ya}else{var Tb=ha*ha+I*I+na*na;0<Tb&&(Tb=1/Math.sqrt(Tb));ha*=Tb;I*=Tb;na*=Tb;var Rb=
ha*ha+I*I+na*na;Rb=(la*ha+qa*I+Da*na)/Rb;$a=ha*Rb;ua=I*Rb;Fb=na*Rb;c.x=$a;c.y=ua;c.z=Fb;Ib=7}Ja=Ib;aa=c.x*c.x+c.y*c.y+c.z*c.z;Ua=c.x;xa=c.y;S=c.z}if(0>(f*wa+h*La+k*Ea)*Aa){var Wb=a.x;var mc=a.y;var Xb=a.z;var ic=e.x;var bc=e.y;var $b=e.z;var Zb=d.x;var Qb=d.y;var jc=d.z;var ac=ic-Wb;var ec=bc-mc;var Ub=$b-Xb;var kc=Zb-ic;var uc=Qb-bc;var fc=jc-$b;var dd=Wb-Zb;var Nb=mc-Qb;var nc=Xb-jc;var gc=ec*fc-Ub*uc;var Vb=Ub*kc-ac*fc;var lc=ac*uc-ec*kc;var ed=ec*lc-Ub*Vb;var Bc=Ub*gc-ac*lc;var Kc=ac*Vb-ec*gc;
var zc=uc*lc-fc*Vb;var Cc=fc*gc-kc*lc;var sc=kc*Vb-uc*gc;var Lc=Nb*lc-nc*Vb;var zd=nc*gc-dd*lc;var Rc=dd*Vb-Nb*gc;var Wc=-1,Dc,Ec,od=0;var hc=Ec=Dc=0;if(0>Wb*ed+mc*Bc+Xb*Kc){var fd=a.x;var Sc=a.y;var pd=a.z;var Gd=e.x;var Tc=e.y;var Pd=e.z;var je=Gd-fd;var De=Tc-Sc;var Kd=Pd-pd;var Xc=je*fd+De*Sc+Kd*pd;Xc=-Xc/(je*je+De*De+Kd*Kd);if(0>Xc){c.x=fd;c.y=Sc;c.z=pd;var be=1}else if(1<Xc)c.x=Gd,c.y=Tc,c.z=Pd,be=2;else{var ue=fd+je*Xc;var Ee=Sc+De*Xc;var ve=pd+Kd*Xc;c.x=ue;c.y=Ee;c.z=ve;be=3}od=be;Wc=c.x*
c.x+c.y*c.y+c.z*c.z;Dc=c.x;Ec=c.y;hc=c.z}if(0>ic*zc+bc*Cc+$b*sc){var qd=e.x;var ce=e.y;var we=e.z;var ke=d.x;var le=d.y;var Fc=d.z;var gd=ke-qd;var hd=le-ce;var Ad=Fc-we;var Yc=gd*qd+hd*ce+Ad*we;Yc=-Yc/(gd*gd+hd*hd+Ad*Ad);if(0>Yc){c.x=qd;c.y=ce;c.z=we;var Mc=1}else if(1<Yc)c.x=ke,c.y=le,c.z=Fc,Mc=2;else{var ug=qd+gd*Yc;var vg=ce+hd*Yc;var lh=we+Ad*Yc;c.x=ug;c.y=vg;c.z=lh;Mc=3}var Me=c.x*c.x+c.y*c.y+c.z*c.z;if(0>Wc||Me<Wc)od=Mc<<1,Wc=Me,Dc=c.x,Ec=c.y,hc=c.z}if(0>Zb*Lc+Qb*zd+jc*Rc){var uf=a.x;var vf=
a.y;var Fe=a.z;var Ic=d.x;var Jc=d.y;var oc=d.z;var xe=Ic-uf;var me=Jc-vf;var Qd=oc-Fe;var Rd=xe*uf+me*vf+Qd*Fe;Rd=-Rd/(xe*xe+me*me+Qd*Qd);if(0>Rd){c.x=uf;c.y=vf;c.z=Fe;var ye=1}else if(1<Rd)c.x=Ic,c.y=Jc,c.z=oc,ye=2;else{var dg=uf+xe*Rd;var Uc=vf+me*Rd;var Vc=Fe+Qd*Rd;c.x=dg;c.y=Uc;c.z=Vc;ye=3}var Nc=c.x*c.x+c.y*c.y+c.z*c.z;if(0>Wc||Nc<Wc)od=ye&1|(ye&2)<<1,Wc=Nc,Dc=c.x,Ec=c.y,hc=c.z}if(0<Wc){c.x=Dc;c.y=Ec;c.z=hc;var wf=od}else{var Vd=gc*gc+Vb*Vb+lc*lc;0<Vd&&(Vd=1/Math.sqrt(Vd));gc*=Vd;Vb*=Vd;lc*=
Vd;var Ge=gc*gc+Vb*Vb+lc*lc;Ge=(Wb*gc+mc*Vb+Xb*lc)/Ge;Dc=gc*Ge;Ec=Vb*Ge;hc=lc*Ge;c.x=Dc;c.y=Ec;c.z=hc;wf=7}var eg=c.x*c.x+c.y*c.y+c.z*c.z;if(0>aa||eg<aa)Ja=wf&1|(wf&6)<<1,aa=eg,Ua=c.x,xa=c.y,S=c.z}if(0>(f*O+h*ma+k*Y)*Aa){var Ne=a.x;var bf=a.y;var xf=a.z;var If=b.x;var Jf=b.y;var cf=b.z;var df=d.x;var Kf=d.y;var Lf=d.z;var yf=If-Ne;var zf=Jf-bf;var ze=cf-xf;var ef=df-If;var Mf=Kf-Jf;var ff=Lf-cf;var Zg=Ne-df;var Kh=bf-Kf;var Bd=xf-Lf;var vc=zf*ff-ze*Mf;var wc=ze*ef-yf*ff;var Cd=yf*Mf-zf*ef;var Oe=
zf*Cd-ze*wc;var Pe=ze*vc-yf*Cd;var Qe=yf*wc-zf*vc;var Wd=Mf*Cd-ff*wc;var Xd=ff*vc-ef*Cd;var Dd=ef*wc-Mf*vc;var de=Kh*Cd-Bd*wc;var He=Bd*vc-Zg*Cd;var ne=Zg*wc-Kh*vc;var Hd=-1,ee,Yd,Ae=0;var oe=Yd=ee=0;if(0>Ne*Oe+bf*Pe+xf*Qe){var Af=a.x;var ld=a.y;var Sd=a.z;var ud=b.x;var rd=b.y;var sd=b.z;var md=ud-Af;var Zc=rd-ld;var $c=sd-Sd;var Gc=md*Af+Zc*ld+$c*Sd;Gc=-Gc/(md*md+Zc*Zc+$c*$c);if(0>Gc){c.x=Af;c.y=ld;c.z=Sd;var xc=1}else if(1<Gc)c.x=ud,c.y=rd,c.z=sd,xc=2;else{var Hc=Af+md*Gc;var Ac=ld+Zc*Gc;var id=
Sd+$c*Gc;c.x=Hc;c.y=Ac;c.z=id;xc=3}Ae=xc;Hd=c.x*c.x+c.y*c.y+c.z*c.z;ee=c.x;Yd=c.y;oe=c.z}if(0>If*Wd+Jf*Xd+cf*Dd){var Oc=b.x;var ad=b.y;var Ie=b.z;var Nf=d.x;var Ed=d.y;var Td=d.z;var td=Nf-Oc;var Ld=Ed-ad;var vd=Td-Ie;var wd=td*Oc+Ld*ad+vd*Ie;wd=-wd/(td*td+Ld*Ld+vd*vd);if(0>wd){c.x=Oc;c.y=ad;c.z=Ie;var Of=1}else if(1<wd)c.x=Nf,c.y=Ed,c.z=Td,Of=2;else{var Lh=Oc+td*wd;var Mh=ad+Ld*wd;var Nh=Ie+vd*wd;c.x=Lh;c.y=Mh;c.z=Nh;Of=3}var mh=c.x*c.x+c.y*c.y+c.z*c.z;if(0>Hd||mh<Hd)Ae=Of<<1,Hd=mh,ee=c.x,Yd=c.y,
oe=c.z}if(0>df*de+Kf*He+Lf*ne){var $g=a.x;var Be=a.y;var Je=a.z;var Ce=d.x;var Id=d.y;var fe=d.z;var pe=Ce-$g;var qe=Id-Be;var Re=fe-Je;var Ud=pe*$g+qe*Be+Re*Je;Ud=-Ud/(pe*pe+qe*qe+Re*Re);if(0>Ud){c.x=$g;c.y=Be;c.z=Je;var Se=1}else if(1<Ud)c.x=Ce,c.y=Id,c.z=fe,Se=2;else{var Pf=$g+pe*Ud;var Qf=Be+qe*Ud;var nh=Je+Re*Ud;c.x=Pf;c.y=Qf;c.z=nh;Se=3}var ah=c.x*c.x+c.y*c.y+c.z*c.z;if(0>Hd||ah<Hd)Ae=Se&1|(Se&2)<<1,Hd=ah,ee=c.x,Yd=c.y,oe=c.z}if(0<Hd){c.x=ee;c.y=Yd;c.z=oe;var gf=Ae}else{var hf=vc*vc+wc*wc+Cd*
Cd;0<hf&&(hf=1/Math.sqrt(hf));vc*=hf;wc*=hf;Cd*=hf;var fg=vc*vc+wc*wc+Cd*Cd;fg=(Ne*vc+bf*wc+xf*Cd)/fg;ee=vc*fg;Yd=wc*fg;oe=Cd*fg;c.x=ee;c.y=Yd;c.z=oe;gf=7}var wg=c.x*c.x+c.y*c.y+c.z*c.z;if(0>aa||wg<aa)Ja=gf&3|(gf&4)<<1,aa=wg,Ua=c.x,xa=c.y,S=c.z}if(0>(g*ta+l*Va+m*D)*Aa){var bh=b.x;var xg=b.y;var yg=b.z;var ch=e.x;var zg=e.y;var Ag=e.z;var Bg=d.x;var Cg=d.y;var Dg=d.z;var gg=ch-bh;var Te=zg-xg;var Rf=Ag-yg;var Eg=Bg-ch;var Sf=Cg-zg;var dh=Dg-Ag;var cj=bh-Bg;var oh=xg-Cg;var ph=yg-Dg;var ge=Te*dh-Rf*
Sf;var Zd=Rf*Eg-gg*dh;var $d=gg*Sf-Te*Eg;var qh=Te*$d-Rf*Zd;var rh=Rf*ge-gg*$d;var sh=gg*Zd-Te*ge;var th=Sf*$d-dh*Zd;var Tf=dh*ge-Eg*$d;var Fg=Eg*Zd-Sf*ge;var Oh=oh*$d-ph*Zd;var eh=ph*ge-cj*$d;var Ph=cj*Zd-oh*ge;var hg=-1,Uf,jf,Gg=0;var ig=jf=Uf=0;if(0>bh*qh+xg*rh+yg*sh){var kf=b.x;var Bf=b.y;var Hg=b.z;var Ig=e.x;var Jg=e.y;var Kg=e.z;var jg=Ig-kf;var kg=Jg-Bf;var lg=Kg-Hg;var Ue=jg*kf+kg*Bf+lg*Hg;Ue=-Ue/(jg*jg+kg*kg+lg*lg);if(0>Ue){c.x=kf;c.y=Bf;c.z=Hg;var mg=1}else if(1<Ue)c.x=Ig,c.y=Jg,c.z=Kg,
mg=2;else{var fh=kf+jg*Ue;var Lg=Bf+kg*Ue;var Mg=Hg+lg*Ue;c.x=fh;c.y=Lg;c.z=Mg;mg=3}Gg=mg;hg=c.x*c.x+c.y*c.y+c.z*c.z;Uf=c.x;jf=c.y;ig=c.z}if(0>ch*th+zg*Tf+Ag*Fg){var Cf=e.x;var ng=e.y;var og=e.z;var gh=d.x;var re=d.y;var se=d.z;var ae=gh-Cf;var he=re-ng;var ie=se-og;var Md=ae*Cf+he*ng+ie*og;Md=-Md/(ae*ae+he*he+ie*ie);if(0>Md){c.x=Cf;c.y=ng;c.z=og;var ji=1}else if(1<Md)c.x=gh,c.y=re,c.z=se,ji=2;else{var Dj=Cf+ae*Md;var Ej=ng+he*Md;var Fj=og+ie*Md;c.x=Dj;c.y=Ej;c.z=Fj;ji=3}var dj=c.x*c.x+c.y*c.y+c.z*
c.z;if(0>hg||dj<hg)Gg=ji<<1,hg=dj,Uf=c.x,jf=c.y,ig=c.z}if(0>Bg*Oh+Cg*eh+Dg*Ph){var Qh=b.x;var Df=b.y;var Vf=b.z;var Ng=d.x;var Ke=d.y;var Wf=d.z;var Ve=Ng-Qh;var We=Ke-Df;var Xf=Wf-Vf;var lf=Ve*Qh+We*Df+Xf*Vf;lf=-lf/(Ve*Ve+We*We+Xf*Xf);if(0>lf){c.x=Qh;c.y=Df;c.z=Vf;var pg=1}else if(1<lf)c.x=Ng,c.y=Ke,c.z=Wf,pg=2;else{var uh=Qh+Ve*lf;var vh=Df+We*lf;var wh=Vf+Xf*lf;c.x=uh;c.y=vh;c.z=wh;pg=3}var hh=c.x*c.x+c.y*c.y+c.z*c.z;if(0>hg||hh<hg)Gg=pg&1|(pg&2)<<1,hg=hh,Uf=c.x,jf=c.y,ig=c.z}if(0<hg){c.x=Uf;c.y=
jf;c.z=ig;var Ef=Gg}else{var mf=ge*ge+Zd*Zd+$d*$d;0<mf&&(mf=1/Math.sqrt(mf));ge*=mf;Zd*=mf;$d*=mf;var qg=ge*ge+Zd*Zd+$d*$d;qg=(bh*ge+xg*Zd+yg*$d)/qg;Uf=ge*qg;jf=Zd*qg;ig=$d*qg;c.x=Uf;c.y=jf;c.z=ig;Ef=7}var Og=c.x*c.x+c.y*c.y+c.z*c.z;if(0>aa||Og<aa)Ja=Ef<<1,aa=Og,Ua=c.x,xa=c.y,S=c.z}if(0<aa)return c.x=Ua,c.y=xa,c.z=S,Ja;c.$();return 15};ia.prototype.Ia=function(a,b,e,d,c,f,h,k,g){this.e00=a;this.e01=b;this.e02=e;this.e10=d;this.e11=c;this.e12=f;this.e20=h;this.e21=k;this.e22=g;return this};ia.prototype.W=
function(){this.e00=1;this.e10=this.e02=this.e01=0;this.e11=1;this.e21=this.e20=this.e12=0;this.e22=1;return this};ia.prototype.add=function(a){return new ia(this.e00+a.e00,this.e01+a.e01,this.e02+a.e02,this.e10+a.e10,this.e11+a.e11,this.e12+a.e12,this.e20+a.e20,this.e21+a.e21,this.e22+a.e22)};ia.prototype.sub=function(a){return new ia(this.e00-a.e00,this.e01-a.e01,this.e02-a.e02,this.e10-a.e10,this.e11-a.e11,this.e12-a.e12,this.e20-a.e20,this.e21-a.e21,this.e22-a.e22)};ia.prototype.nb=function(a){return new ia(this.e00*
a,this.e01*a,this.e02*a,this.e10*a,this.e11*a,this.e12*a,this.e20*a,this.e21*a,this.e22*a)};ia.prototype.qa=function(a){return new ia(this.e00*a.e00+this.e01*a.e10+this.e02*a.e20,this.e00*a.e01+this.e01*a.e11+this.e02*a.e21,this.e00*a.e02+this.e01*a.e12+this.e02*a.e22,this.e10*a.e00+this.e11*a.e10+this.e12*a.e20,this.e10*a.e01+this.e11*a.e11+this.e12*a.e21,this.e10*a.e02+this.e11*a.e12+this.e12*a.e22,this.e20*a.e00+this.e21*a.e10+this.e22*a.e20,this.e20*a.e01+this.e21*a.e11+this.e22*a.e21,this.e20*
a.e02+this.e21*a.e12+this.e22*a.e22)};ia.prototype.h=function(a){this.e00+=a.e00;this.e01+=a.e01;this.e02+=a.e02;this.e10+=a.e10;this.e11+=a.e11;this.e12+=a.e12;this.e20+=a.e20;this.e21+=a.e21;this.e22+=a.e22;return this};ia.prototype.Ib=function(a){this.e00-=a.e00;this.e01-=a.e01;this.e02-=a.e02;this.e10-=a.e10;this.e11-=a.e11;this.e12-=a.e12;this.e20-=a.e20;this.e21-=a.e21;this.e22-=a.e22;return this};ia.prototype.ob=function(a){this.e00*=a;this.e01*=a;this.e02*=a;this.e10*=a;this.e11*=a;this.e12*=
a;this.e20*=a;this.e21*=a;this.e22*=a;return this};ia.prototype.Ma=function(a){var b=this.e00*a.e01+this.e01*a.e11+this.e02*a.e21,e=this.e00*a.e02+this.e01*a.e12+this.e02*a.e22,d=this.e10*a.e00+this.e11*a.e10+this.e12*a.e20,c=this.e10*a.e01+this.e11*a.e11+this.e12*a.e21,f=this.e10*a.e02+this.e11*a.e12+this.e12*a.e22,h=this.e20*a.e00+this.e21*a.e10+this.e22*a.e20,k=this.e20*a.e01+this.e21*a.e11+this.e22*a.e21,g=this.e20*a.e02+this.e21*a.e12+this.e22*a.e22;this.e00=this.e00*a.e00+this.e01*a.e10+this.e02*
a.e20;this.e01=b;this.e02=e;this.e10=d;this.e11=c;this.e12=f;this.e20=h;this.e21=k;this.e22=g;return this};ia.prototype.Wa=function(a,b,e){return new ia(this.e00*a,this.e01*a,this.e02*a,this.e10*b,this.e11*b,this.e12*b,this.e20*e,this.e21*e,this.e22*e)};ia.prototype.I=function(a,b,e){return new ia(this.e00*a,this.e01*b,this.e02*e,this.e10*a,this.e11*b,this.e12*e,this.e20*a,this.e21*b,this.e22*e)};ia.prototype.Oa=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*
d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;d=d*d*h+f;return new ia(a*this.e00+k*this.e10+g*this.e20,a*this.e01+k*this.e11+g*this.e21,a*this.e02+k*this.e12+g*this.e22,l*this.e00+m*this.e10+n*this.e20,l*this.e01+m*this.e11+n*this.e21,l*this.e02+m*this.e12+n*this.e22,q*this.e00+b*this.e10+d*this.e20,q*this.e01+b*this.e11+d*this.e21,q*this.e02+b*this.e12+d*this.e22)};ia.prototype.i=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*
b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;d=d*d*h+f;return new ia(this.e00*a+this.e01*l+this.e02*q,this.e00*k+this.e01*m+this.e02*b,this.e00*g+this.e01*n+this.e02*d,this.e10*a+this.e11*l+this.e12*q,this.e10*k+this.e11*m+this.e12*b,this.e10*g+this.e11*n+this.e12*d,this.e20*a+this.e21*l+this.e22*q,this.e20*k+this.e21*m+this.e22*b,this.e20*g+this.e21*n+this.e22*d)};ia.prototype.Ya=function(a,b,e){this.e00*=a;this.e01*=a;this.e02*=a;this.e10*=b;this.e11*=b;this.e12*=b;this.e20*=e;this.e21*=
e;this.e22*=e;return this};ia.prototype.M=function(a,b,e){this.e00*=a;this.e01*=b;this.e02*=e;this.e10*=a;this.e11*=b;this.e12*=e;this.e20*=a;this.e21*=b;this.e22*=e;return this};ia.prototype.Sa=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;c=d*d*h+f;d=l*this.e00+m*this.e10+n*this.e20;e=l*this.e01+m*this.e11+n*this.e21;l=l*this.e02+m*this.e12+n*this.e22;m=q*this.e00+b*this.e10+c*this.e20;n=q*
this.e01+b*this.e11+c*this.e21;q=q*this.e02+b*this.e12+c*this.e22;this.e00=a*this.e00+k*this.e10+g*this.e20;this.e01=a*this.e01+k*this.e11+g*this.e21;this.e02=a*this.e02+k*this.e12+g*this.e22;this.e10=d;this.e11=e;this.e12=l;this.e20=m;this.e21=n;this.e22=q;return this};ia.prototype.C=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;h=d*d*h+f;d=this.e00*k+this.e01*m+this.e02*b;e=this.e00*g+this.e01*
n+this.e02*h;c=this.e10*k+this.e11*m+this.e12*b;f=this.e10*g+this.e11*n+this.e12*h;k=this.e20*k+this.e21*m+this.e22*b;g=this.e20*g+this.e21*n+this.e22*h;this.e00=this.e00*a+this.e01*l+this.e02*q;this.e01=d;this.e02=e;this.e10=this.e10*a+this.e11*l+this.e12*q;this.e11=c;this.e12=f;this.e20=this.e20*a+this.e21*l+this.e22*q;this.e21=k;this.e22=g;return this};ia.prototype.Rb=function(){return new ia(this.e00,this.e10,this.e20,this.e01,this.e11,this.e21,this.e02,this.e12,this.e22)};ia.prototype.Sb=function(){var a=
this.e01,b=this.e02,e=this.e12;this.e00=this.e00;this.e01=this.e10;this.e02=this.e20;this.e10=a;this.e11=this.e11;this.e12=this.e21;this.e20=b;this.e21=e;this.e22=this.e22;return this};ia.prototype.V=function(){return this.e00*(this.e11*this.e22-this.e12*this.e21)-this.e01*(this.e10*this.e22-this.e12*this.e20)+this.e02*(this.e10*this.e21-this.e11*this.e20)};ia.prototype.Pb=function(){return this.e00+this.e11+this.e22};ia.prototype.Y=function(){var a=this.e11*this.e22-this.e12*this.e21,b=this.e10*
this.e22-this.e12*this.e20,e=this.e10*this.e21-this.e11*this.e20,d=this.e00*a-this.e01*b+this.e02*e;0!=d&&(d=1/d);return new ia(a*d,-(this.e01*this.e22-this.e02*this.e21)*d,(this.e01*this.e12-this.e02*this.e11)*d,-b*d,(this.e00*this.e22-this.e02*this.e20)*d,-(this.e00*this.e12-this.e02*this.e10)*d,e*d,-(this.e00*this.e21-this.e01*this.e20)*d,(this.e00*this.e11-this.e01*this.e10)*d)};ia.prototype.aa=function(){var a=this.e11*this.e22-this.e12*this.e21,b=this.e10*this.e22-this.e12*this.e20,e=this.e10*
this.e21-this.e11*this.e20,d=this.e00*a-this.e01*b+this.e02*e;0!=d&&(d=1/d);var c=(this.e01*this.e12-this.e02*this.e11)*d,f=(this.e00*this.e22-this.e02*this.e20)*d,h=-(this.e00*this.e12-this.e02*this.e10)*d,k=-(this.e00*this.e21-this.e01*this.e20)*d,g=(this.e00*this.e11-this.e01*this.e10)*d;this.e00=a*d;this.e01=-(this.e01*this.e22-this.e02*this.e21)*d;this.e02=c;this.e10=-b*d;this.e11=f;this.e12=h;this.e20=e*d;this.e21=k;this.e22=g;return this};ia.prototype.Jb=function(a){null==a&&(a=!1);return a?
[this.e00,this.e10,this.e20,this.e01,this.e11,this.e21,this.e02,this.e12,this.e22]:[this.e00,this.e01,this.e02,this.e10,this.e11,this.e12,this.e20,this.e21,this.e22]};ia.prototype.Dd=function(a){this.e00=a.e00;this.e01=a.e01;this.e02=a.e02;this.e10=a.e10;this.e11=a.e11;this.e12=a.e12;this.e20=a.e20;this.e21=a.e21;this.e22=a.e22;return this};ia.prototype.clone=function(){return new ia(this.e00,this.e01,this.e02,this.e10,this.e11,this.e12,this.e20,this.e21,this.e22)};ia.prototype.Xa=function(a){var b=
a.x,e=a.y,d=a.z,c=a.w,f=2*b,h=2*e,k=2*d;a=b*f;var g=e*h;d*=k;var l=b*h;e*=k;b*=k;f*=c;h*=c;c*=k;this.e00=1-g-d;this.e01=l-c;this.e02=b+h;this.e10=l+c;this.e11=1-a-d;this.e12=e-f;this.e20=b-h;this.e21=e+f;this.e22=1-a-g;return this};ia.prototype.Ed=function(){var a=new Gb,b=this.e00,e=this.e11,d=this.e22,c=b+e+d;0<c?(b=Math.sqrt(c+1),a.w=.5*b,b=.5/b,a.x=(this.e21-this.e12)*b,a.y=(this.e02-this.e20)*b,a.z=(this.e10-this.e01)*b):b>e?b>d?(b=Math.sqrt(b-e-d+1),a.x=.5*b,b=.5/b,a.y=(this.e01+this.e10)*b,
a.z=(this.e02+this.e20)*b,a.w=(this.e21-this.e12)*b):(b=Math.sqrt(d-b-e+1),a.z=.5*b,b=.5/b,a.x=(this.e02+this.e20)*b,a.y=(this.e12+this.e21)*b,a.w=(this.e10-this.e01)*b):e>d?(b=Math.sqrt(e-d-b+1),a.y=.5*b,b=.5/b,a.x=(this.e01+this.e10)*b,a.z=(this.e12+this.e21)*b,a.w=(this.e02-this.e20)*b):(b=Math.sqrt(d-b-e+1),a.z=.5*b,b=.5/b,a.x=(this.e02+this.e20)*b,a.y=(this.e12+this.e21)*b,a.w=(this.e10-this.e01)*b);return a};ia.prototype.Va=function(a){var b=Math.sin(a.x),e=Math.sin(a.y),d=Math.sin(a.z),c=Math.cos(a.x),
f=Math.cos(a.y);a=Math.cos(a.z);this.e00=f*a;this.e01=-f*d;this.e02=e;this.e10=c*d+a*b*e;this.e11=c*a-b*e*d;this.e12=-f*b;this.e20=b*d-c*a*e;this.e21=a*b+c*e*d;this.e22=c*f;return this};ia.prototype.Sc=function(){var a=this.e02;return-1>=a?(a=Math.atan2(this.e21,this.e11),new z(.5*a,-1.570796326794895,.5*-a)):1<=a?(a=Math.atan2(this.e21,this.e11),new z(.5*a,1.570796326794895,.5*a)):new z(Math.atan2(-this.e12,this.e22),Math.asin(a),Math.atan2(-this.e01,this.e00))};ia.prototype.ac=function(a){return 0==
a?new z(this.e00,this.e01,this.e02):1==a?new z(this.e10,this.e11,this.e12):2==a?new z(this.e20,this.e21,this.e22):null};ia.prototype.Fb=function(a){return 0==a?new z(this.e00,this.e10,this.e20):1==a?new z(this.e01,this.e11,this.e21):2==a?new z(this.e02,this.e12,this.e22):null};ia.prototype.bc=function(a,b){0==a?b.Ia(this.e00,this.e01,this.e02):1==a?b.Ia(this.e10,this.e11,this.e12):2==a?b.Ia(this.e20,this.e21,this.e22):b.$()};ia.prototype.Gb=function(a,b){0==a?b.Ia(this.e00,this.e10,this.e20):1==a?
b.Ia(this.e01,this.e11,this.e21):2==a?b.Ia(this.e02,this.e12,this.e22):b.$()};ia.prototype.tb=function(a,b,e){this.e00=a.x;this.e01=a.y;this.e02=a.z;this.e10=b.x;this.e11=b.y;this.e12=b.z;this.e20=e.x;this.e21=e.y;this.e22=e.z;return this};ia.prototype.Wb=function(a,b,e){this.e00=a.x;this.e01=b.x;this.e02=e.x;this.e10=a.y;this.e11=b.y;this.e12=e.y;this.e20=a.z;this.e21=b.z;this.e22=e.z;return this};ia.prototype.toString=function(){return"Mat3["+(0<this.e00?(1E7*this.e00+.5|0)/1E7:(1E7*this.e00-.5|
0)/1E7)+", "+(0<this.e01?(1E7*this.e01+.5|0)/1E7:(1E7*this.e01-.5|0)/1E7)+", "+(0<this.e02?(1E7*this.e02+.5|0)/1E7:(1E7*this.e02-.5|0)/1E7)+",\n     "+(0<this.e10?(1E7*this.e10+.5|0)/1E7:(1E7*this.e10-.5|0)/1E7)+", "+(0<this.e11?(1E7*this.e11+.5|0)/1E7:(1E7*this.e11-.5|0)/1E7)+", "+(0<this.e12?(1E7*this.e12+.5|0)/1E7:(1E7*this.e12-.5|0)/1E7)+",\n     "+(0<this.e20?(1E7*this.e20+.5|0)/1E7:(1E7*this.e20-.5|0)/1E7)+", "+(0<this.e21?(1E7*this.e21+.5|0)/1E7:(1E7*this.e21-.5|0)/1E7)+", "+(0<this.e22?(1E7*
this.e22+.5|0)/1E7:(1E7*this.e22-.5|0)/1E7)+"]"};Ha.prototype.Ia=function(a,b,e,d,c,f,h,k,g,l,m,n,q,p,r,t){this.e00=a;this.e01=b;this.e02=e;this.e03=d;this.e10=c;this.e11=f;this.e12=h;this.e13=k;this.e20=g;this.e21=l;this.e22=m;this.e23=n;this.e30=q;this.e31=p;this.e32=r;this.e33=t;return this};Ha.prototype.Y=function(){this.e00=1;this.e10=this.e03=this.e02=this.e01=0;this.e11=1;this.e21=this.e20=this.e13=this.e12=0;this.e22=1;this.e32=this.e31=this.e30=this.e23=0;this.e33=1;return this};Ha.prototype.add=
function(a){return new Ha(this.e00+a.e00,this.e01+a.e01,this.e02+a.e02,this.e03+a.e03,this.e10+a.e10,this.e11+a.e11,this.e12+a.e12,this.e13+a.e13,this.e20+a.e20,this.e21+a.e21,this.e22+a.e22,this.e23+a.e23,this.e30+a.e30,this.e31+a.e31,this.e32+a.e32,this.e33+a.e33)};Ha.prototype.sub=function(a){return new Ha(this.e00-a.e00,this.e01-a.e01,this.e02-a.e02,this.e03-a.e03,this.e10-a.e10,this.e11-a.e11,this.e12-a.e12,this.e13-a.e13,this.e20-a.e20,this.e21-a.e21,this.e22-a.e22,this.e23-a.e23,this.e30-a.e30,
this.e31-a.e31,this.e32-a.e32,this.e33-a.e33)};Ha.prototype.Ib=function(a){return new Ha(this.e00*a,this.e01*a,this.e02*a,this.e03*a,this.e10*a,this.e11*a,this.e12*a,this.e13*a,this.e20*a,this.e21*a,this.e22*a,this.e23*a,this.e30*a,this.e31*a,this.e32*a,this.e33*a)};Ha.prototype.Ma=function(a){return new Ha(this.e00*a.e00+this.e01*a.e10+this.e02*a.e20+this.e03*a.e30,this.e00*a.e01+this.e01*a.e11+this.e02*a.e21+this.e03*a.e31,this.e00*a.e02+this.e01*a.e12+this.e02*a.e22+this.e03*a.e32,this.e00*a.e03+
this.e01*a.e13+this.e02*a.e23+this.e03*a.e33,this.e10*a.e00+this.e11*a.e10+this.e12*a.e20+this.e13*a.e30,this.e10*a.e01+this.e11*a.e11+this.e12*a.e21+this.e13*a.e31,this.e10*a.e02+this.e11*a.e12+this.e12*a.e22+this.e13*a.e32,this.e10*a.e03+this.e11*a.e13+this.e12*a.e23+this.e13*a.e33,this.e20*a.e00+this.e21*a.e10+this.e22*a.e20+this.e23*a.e30,this.e20*a.e01+this.e21*a.e11+this.e22*a.e21+this.e23*a.e31,this.e20*a.e02+this.e21*a.e12+this.e22*a.e22+this.e23*a.e32,this.e20*a.e03+this.e21*a.e13+this.e22*
a.e23+this.e23*a.e33,this.e30*a.e00+this.e31*a.e10+this.e32*a.e20+this.e33*a.e30,this.e30*a.e01+this.e31*a.e11+this.e32*a.e21+this.e33*a.e31,this.e30*a.e02+this.e31*a.e12+this.e32*a.e22+this.e33*a.e32,this.e30*a.e03+this.e31*a.e13+this.e32*a.e23+this.e33*a.e33)};Ha.prototype.h=function(a){this.e00+=a.e00;this.e01+=a.e01;this.e02+=a.e02;this.e03+=a.e03;this.e10+=a.e10;this.e11+=a.e11;this.e12+=a.e12;this.e13+=a.e13;this.e20+=a.e20;this.e21+=a.e21;this.e22+=a.e22;this.e23+=a.e23;this.e30+=a.e30;this.e31+=
a.e31;this.e32+=a.e32;this.e33+=a.e33;return this};Ha.prototype.Pb=function(a){this.e00-=a.e00;this.e01-=a.e01;this.e02-=a.e02;this.e03-=a.e03;this.e10-=a.e10;this.e11-=a.e11;this.e12-=a.e12;this.e13-=a.e13;this.e20-=a.e20;this.e21-=a.e21;this.e22-=a.e22;this.e23-=a.e23;this.e30-=a.e30;this.e31-=a.e31;this.e32-=a.e32;this.e33-=a.e33;return this};Ha.prototype.Jb=function(a){this.e00*=a;this.e01*=a;this.e02*=a;this.e03*=a;this.e10*=a;this.e11*=a;this.e12*=a;this.e13*=a;this.e20*=a;this.e21*=a;this.e22*=
a;this.e23*=a;this.e30*=a;this.e31*=a;this.e32*=a;this.e33*=a;return this};Ha.prototype.Oa=function(a){var b=this.e00*a.e01+this.e01*a.e11+this.e02*a.e21+this.e03*a.e31,e=this.e00*a.e02+this.e01*a.e12+this.e02*a.e22+this.e03*a.e32,d=this.e00*a.e03+this.e01*a.e13+this.e02*a.e23+this.e03*a.e33,c=this.e10*a.e00+this.e11*a.e10+this.e12*a.e20+this.e13*a.e30,f=this.e10*a.e01+this.e11*a.e11+this.e12*a.e21+this.e13*a.e31,h=this.e10*a.e02+this.e11*a.e12+this.e12*a.e22+this.e13*a.e32,k=this.e10*a.e03+this.e11*
a.e13+this.e12*a.e23+this.e13*a.e33,g=this.e20*a.e00+this.e21*a.e10+this.e22*a.e20+this.e23*a.e30,l=this.e20*a.e01+this.e21*a.e11+this.e22*a.e21+this.e23*a.e31,m=this.e20*a.e02+this.e21*a.e12+this.e22*a.e22+this.e23*a.e32,n=this.e20*a.e03+this.e21*a.e13+this.e22*a.e23+this.e23*a.e33,q=this.e30*a.e00+this.e31*a.e10+this.e32*a.e20+this.e33*a.e30,p=this.e30*a.e01+this.e31*a.e11+this.e32*a.e21+this.e33*a.e31,r=this.e30*a.e02+this.e31*a.e12+this.e32*a.e22+this.e33*a.e32,t=this.e30*a.e03+this.e31*a.e13+
this.e32*a.e23+this.e33*a.e33;this.e00=this.e00*a.e00+this.e01*a.e10+this.e02*a.e20+this.e03*a.e30;this.e01=b;this.e02=e;this.e03=d;this.e10=c;this.e11=f;this.e12=h;this.e13=k;this.e20=g;this.e21=l;this.e22=m;this.e23=n;this.e30=q;this.e31=p;this.e32=r;this.e33=t;return this};Ha.prototype.nb=function(a,b,e){return new Ha(this.e00*a,this.e01*a,this.e02*a,this.e03*a,this.e10*b,this.e11*b,this.e12*b,this.e13*b,this.e20*e,this.e21*e,this.e22*e,this.e23*e,this.e30,this.e31,this.e32,this.e33)};Ha.prototype.I=
function(a,b,e){return new Ha(this.e00*a,this.e01*b,this.e02*e,this.e03,this.e10*a,this.e11*b,this.e12*e,this.e13,this.e20*a,this.e21*b,this.e22*e,this.e23,this.e30*a,this.e31*b,this.e32*e,this.e33)};Ha.prototype.Wa=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;d=d*d*h+f;return new Ha(a*this.e00+k*this.e10+g*this.e20,a*this.e01+k*this.e11+g*this.e21,a*this.e02+k*this.e12+g*this.e22,a*this.e03+
k*this.e13+g*this.e23,l*this.e00+m*this.e10+n*this.e20,l*this.e01+m*this.e11+n*this.e21,l*this.e02+m*this.e12+n*this.e22,l*this.e03+m*this.e13+n*this.e23,q*this.e00+b*this.e10+d*this.e20,q*this.e01+b*this.e11+d*this.e21,q*this.e02+b*this.e12+d*this.e22,q*this.e03+b*this.e13+d*this.e23,this.e30,this.e31,this.e32,this.e33)};Ha.prototype.i=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;d=d*d*h+f;
return new Ha(this.e00*a+this.e01*l+this.e02*q,this.e00*k+this.e01*m+this.e02*b,this.e00*g+this.e01*n+this.e02*d,this.e03,this.e10*a+this.e11*l+this.e12*q,this.e10*k+this.e11*m+this.e12*b,this.e10*g+this.e11*n+this.e12*d,this.e13,this.e20*a+this.e21*l+this.e22*q,this.e20*k+this.e21*m+this.e22*b,this.e20*g+this.e21*n+this.e22*d,this.e23,this.e30*a+this.e31*l+this.e32*q,this.e30*k+this.e31*m+this.e32*b,this.e30*g+this.e31*n+this.e32*d,this.e33)};Ha.prototype.bc=function(a,b,e){return new Ha(this.e00+
a*this.e30,this.e01+a*this.e31,this.e02+a*this.e32,this.e03+a*this.e33,this.e10+b*this.e30,this.e11+b*this.e31,this.e12+b*this.e32,this.e13+b*this.e33,this.e20+e*this.e30,this.e21+e*this.e31,this.e22+e*this.e32,this.e23+e*this.e33,this.e30,this.e31,this.e32,this.e33)};Ha.prototype.Xa=function(a,b,e){return new Ha(this.e00,this.e01,this.e02,this.e00*a+this.e01*b+this.e02*e+this.e03,this.e10,this.e11,this.e12,this.e10*a+this.e11*b+this.e12*e+this.e13,this.e20,this.e21,this.e22,this.e20*a+this.e21*b+
this.e22*e+this.e23,this.e30,this.e31,this.e32,this.e30*a+this.e31*b+this.e32*e+this.e33)};Ha.prototype.ob=function(a,b,e){this.e00*=a;this.e01*=a;this.e02*=a;this.e03*=a;this.e10*=b;this.e11*=b;this.e12*=b;this.e13*=b;this.e20*=e;this.e21*=e;this.e22*=e;this.e23*=e;this.e30=this.e30;this.e31=this.e31;this.e32=this.e32;this.e33=this.e33;return this};Ha.prototype.M=function(a,b,e){this.e00*=a;this.e01*=b;this.e02*=e;this.e03=this.e03;this.e10*=a;this.e11*=b;this.e12*=e;this.e13=this.e13;this.e20*=
a;this.e21*=b;this.e22*=e;this.e23=this.e23;this.e30*=a;this.e31*=b;this.e32*=e;this.e33=this.e33;return this};Ha.prototype.Ya=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;f=d*d*h+f;d=l*this.e00+m*this.e10+n*this.e20;e=l*this.e01+m*this.e11+n*this.e21;c=l*this.e02+m*this.e12+n*this.e22;l=l*this.e03+m*this.e13+n*this.e23;m=q*this.e00+b*this.e10+f*this.e20;n=q*this.e01+b*this.e11+f*this.e21;h=
q*this.e02+b*this.e12+f*this.e22;q=q*this.e03+b*this.e13+f*this.e23;this.e00=a*this.e00+k*this.e10+g*this.e20;this.e01=a*this.e01+k*this.e11+g*this.e21;this.e02=a*this.e02+k*this.e12+g*this.e22;this.e03=a*this.e03+k*this.e13+g*this.e23;this.e10=d;this.e11=e;this.e12=c;this.e13=l;this.e20=m;this.e21=n;this.e22=h;this.e23=q;this.e30=this.e30;this.e31=this.e31;this.e32=this.e32;this.e33=this.e33;return this};Ha.prototype.C=function(a,b,e,d){var c=Math.sin(a),f=Math.cos(a),h=1-f;a=b*b*h+f;var k=b*e*h-
d*c,g=b*d*h+e*c,l=e*b*h+d*c,m=e*e*h+f,n=e*d*h-b*c,q=d*b*h-e*c;b=d*e*h+b*c;var p=d*d*h+f;d=this.e00*k+this.e01*m+this.e02*b;e=this.e00*g+this.e01*n+this.e02*p;c=this.e10*k+this.e11*m+this.e12*b;f=this.e10*g+this.e11*n+this.e12*p;h=this.e20*k+this.e21*m+this.e22*b;var r=this.e20*g+this.e21*n+this.e22*p;k=this.e30*k+this.e31*m+this.e32*b;g=this.e30*g+this.e31*n+this.e32*p;this.e00=this.e00*a+this.e01*l+this.e02*q;this.e01=d;this.e02=e;this.e03=this.e03;this.e10=this.e10*a+this.e11*l+this.e12*q;this.e11=
c;this.e12=f;this.e13=this.e13;this.e20=this.e20*a+this.e21*l+this.e22*q;this.e21=h;this.e22=r;this.e23=this.e23;this.e30=this.e30*a+this.e31*l+this.e32*q;this.e31=k;this.e32=g;this.e33=this.e33;return this};Ha.prototype.Sc=function(a,b,e){this.e00+=a*this.e30;this.e01+=a*this.e31;this.e02+=a*this.e32;this.e03+=a*this.e33;this.e10+=b*this.e30;this.e11+=b*this.e31;this.e12+=b*this.e32;this.e13+=b*this.e33;this.e20+=e*this.e30;this.e21+=e*this.e31;this.e22+=e*this.e32;this.e23+=e*this.e33;this.e30=
this.e30;this.e31=this.e31;this.e32=this.e32;this.e33=this.e33;return this};Ha.prototype.tb=function(a,b,e){var d=this.e00*a+this.e01*b+this.e02*e+this.e03,c=this.e10*a+this.e11*b+this.e12*e+this.e13,f=this.e20*a+this.e21*b+this.e22*e+this.e23;a=this.e30*a+this.e31*b+this.e32*e+this.e33;this.e00=this.e00;this.e01=this.e01;this.e02=this.e02;this.e03=d;this.e10=this.e10;this.e11=this.e11;this.e12=this.e12;this.e13=c;this.e20=this.e20;this.e21=this.e21;this.e22=this.e22;this.e23=f;this.e30=this.e30;
this.e31=this.e31;this.e32=this.e32;this.e33=a;return this};Ha.prototype.Wb=function(){return new Ha(this.e00,this.e10,this.e20,this.e30,this.e01,this.e11,this.e21,this.e31,this.e02,this.e12,this.e22,this.e32,this.e03,this.e13,this.e23,this.e33)};Ha.prototype.Va=function(){var a=this.e01,b=this.e02,e=this.e12,d=this.e03,c=this.e13,f=this.e23;this.e00=this.e00;this.e01=this.e10;this.e02=this.e20;this.e03=this.e30;this.e10=a;this.e11=this.e11;this.e12=this.e21;this.e13=this.e31;this.e20=b;this.e21=
e;this.e22=this.e22;this.e23=this.e32;this.e30=d;this.e31=c;this.e32=f;this.e33=this.e33;return this};Ha.prototype.V=function(){var a=this.e20*this.e31-this.e21*this.e30,b=this.e20*this.e32-this.e22*this.e30,e=this.e20*this.e33-this.e23*this.e30,d=this.e21*this.e32-this.e22*this.e31,c=this.e21*this.e33-this.e23*this.e31,f=this.e22*this.e33-this.e23*this.e32;return this.e00*(this.e11*f-this.e12*c+this.e13*d)-this.e01*(this.e10*f-this.e12*e+this.e13*b)+this.e02*(this.e10*c-this.e11*e+this.e13*a)-this.e03*
(this.e10*d-this.e11*b+this.e12*a)};Ha.prototype.Sb=function(){return this.e00+this.e11+this.e22+this.e33};Ha.prototype.aa=function(){var a=this.e00*this.e11-this.e01*this.e10,b=this.e00*this.e12-this.e02*this.e10,e=this.e00*this.e13-this.e03*this.e10,d=this.e01*this.e12-this.e02*this.e11,c=this.e01*this.e13-this.e03*this.e11,f=this.e02*this.e13-this.e03*this.e12,h=this.e20*this.e31-this.e21*this.e30,k=this.e20*this.e32-this.e22*this.e30,g=this.e20*this.e33-this.e23*this.e30,l=this.e21*this.e32-this.e22*
this.e31,m=this.e21*this.e33-this.e23*this.e31,n=this.e22*this.e33-this.e23*this.e32,q=this.e11*n-this.e12*m+this.e13*l,p=this.e10*n-this.e12*g+this.e13*k,r=this.e10*m-this.e11*g+this.e13*h,t=this.e10*l-this.e11*k+this.e12*h,x=this.e00*q-this.e01*p+this.e02*r-this.e03*t;0!=x&&(x=1/x);return new Ha(q*x,-(this.e01*n-this.e02*m+this.e03*l)*x,(this.e31*f-this.e32*c+this.e33*d)*x,-(this.e21*f-this.e22*c+this.e23*d)*x,-p*x,(this.e00*n-this.e02*g+this.e03*k)*x,-(this.e30*f-this.e32*e+this.e33*b)*x,(this.e20*
f-this.e22*e+this.e23*b)*x,r*x,-(this.e00*m-this.e01*g+this.e03*h)*x,(this.e30*c-this.e31*e+this.e33*a)*x,-(this.e20*c-this.e21*e+this.e23*a)*x,-t*x,(this.e00*l-this.e01*k+this.e02*h)*x,-(this.e30*d-this.e31*b+this.e32*a)*x,(this.e20*d-this.e21*b+this.e22*a)*x)};Ha.prototype.qa=function(){var a=this.e00*this.e11-this.e01*this.e10,b=this.e00*this.e12-this.e02*this.e10,e=this.e00*this.e13-this.e03*this.e10,d=this.e01*this.e12-this.e02*this.e11,c=this.e01*this.e13-this.e03*this.e11,f=this.e02*this.e13-
this.e03*this.e12,h=this.e20*this.e31-this.e21*this.e30,k=this.e20*this.e32-this.e22*this.e30,g=this.e20*this.e33-this.e23*this.e30,l=this.e21*this.e32-this.e22*this.e31,m=this.e21*this.e33-this.e23*this.e31,n=this.e22*this.e33-this.e23*this.e32,q=this.e11*n-this.e12*m+this.e13*l,p=this.e10*n-this.e12*g+this.e13*k,r=this.e10*m-this.e11*g+this.e13*h,t=this.e10*l-this.e11*k+this.e12*h,x=this.e00*q-this.e01*p+this.e02*r-this.e03*t;0!=x&&(x=1/x);var v=(this.e00*n-this.e02*g+this.e03*k)*x;g=-(this.e00*
m-this.e01*g+this.e03*h)*x;var B=-(this.e20*c-this.e21*e+this.e23*a)*x;h=(this.e00*l-this.e01*k+this.e02*h)*x;k=-(this.e30*d-this.e31*b+this.e32*a)*x;var H=(this.e20*d-this.e21*b+this.e22*a)*x;this.e00=q*x;this.e01=-(this.e01*n-this.e02*m+this.e03*l)*x;this.e02=(this.e31*f-this.e32*c+this.e33*d)*x;this.e03=-(this.e21*f-this.e22*c+this.e23*d)*x;this.e10=-p*x;this.e11=v;this.e12=-(this.e30*f-this.e32*e+this.e33*b)*x;this.e13=(this.e20*f-this.e22*e+this.e23*b)*x;this.e20=r*x;this.e21=g;this.e22=(this.e30*
c-this.e31*e+this.e33*a)*x;this.e23=B;this.e30=-t*x;this.e31=h;this.e32=k;this.e33=H;return this};Ha.prototype.Gb=function(a,b,e,d,c,f,h,k,g){d=a-d;c=b-c;f=e-f;var l=1/Math.sqrt(d*d+c*c+f*f);d*=l;c*=l;f*=l;var m=k*f-g*c;g=g*d-h*f;h=h*c-k*d;l=1/Math.sqrt(m*m+g*g+h*h);m*=l;g*=l;h*=l;k=c*h-f*g;l=f*m-d*h;var n=d*g-c*m;this.e00=m;this.e01=g;this.e02=h;this.e03=-(m*a+g*b+h*e);this.e10=k;this.e11=l;this.e12=n;this.e13=-(k*a+l*b+n*e);this.e20=d;this.e21=c;this.e22=f;this.e23=-(d*a+c*b+f*e);this.e32=this.e31=
this.e30=0;this.e33=1;return this};Ha.prototype.Sa=function(a,b,e,d){a=1/Math.tan(.5*a);d/=e-d;this.e00=a/b;this.e10=this.e03=this.e02=this.e01=0;this.e11=a;this.e21=this.e20=this.e13=this.e12=0;this.e22=d;this.e23=e*d;this.e31=this.e30=0;this.e32=-1;this.e33=0;return this};Ha.prototype.ac=function(a,b,e,d){d=1/(e-d);this.e00=2/a;this.e10=this.e03=this.e02=this.e01=0;this.e11=2/b;this.e21=this.e20=this.e13=this.e12=0;this.e22=d;this.e23=e*d;this.e32=this.e31=this.e30=0;this.e33=1;return this};Ha.prototype.Rb=
function(a){null==a&&(a=!1);return a?[this.e00,this.e10,this.e20,this.e30,this.e01,this.e11,this.e21,this.e31,this.e02,this.e12,this.e22,this.e32,this.e03,this.e13,this.e23,this.e33]:[this.e00,this.e01,this.e02,this.e03,this.e10,this.e11,this.e12,this.e13,this.e20,this.e21,this.e22,this.e23,this.e30,this.e31,this.e32,this.e33]};Ha.prototype.Dd=function(a){this.e00=a.e00;this.e01=a.e01;this.e02=a.e02;this.e03=a.e03;this.e10=a.e10;this.e11=a.e11;this.e12=a.e12;this.e13=a.e13;this.e20=a.e20;this.e21=
a.e21;this.e22=a.e22;this.e23=a.e23;this.e30=a.e30;this.e31=a.e31;this.e32=a.e32;this.e33=a.e33;return this};Ha.prototype.W=function(a){this.e00=a.e00;this.e01=a.e01;this.e02=a.e02;this.e03=0;this.e10=a.e10;this.e11=a.e11;this.e12=a.e12;this.e13=0;this.e20=a.e20;this.e21=a.e21;this.e22=a.e22;this.e32=this.e31=this.e30=this.e23=0;this.e33=1;return this};Ha.prototype.Fb=function(a){this.e00=a.A;this.e01=a.j;this.e02=a.m;this.e10=a.o;this.e11=a.v;this.e12=a.s;this.e20=a.u;this.e21=a.l;this.e22=a.B;this.e03=
a.F;this.e13=a.G;this.e23=a.H;this.e32=this.e31=this.e30=0;this.e33=1;return this};Ha.prototype.clone=function(){return new Ha(this.e00,this.e01,this.e02,this.e03,this.e10,this.e11,this.e12,this.e13,this.e20,this.e21,this.e22,this.e23,this.e30,this.e31,this.e32,this.e33)};Ha.prototype.toString=function(){return"Mat4["+(0<this.e00?(1E7*this.e00+.5|0)/1E7:(1E7*this.e00-.5|0)/1E7)+", "+(0<this.e01?(1E7*this.e01+.5|0)/1E7:(1E7*this.e01-.5|0)/1E7)+", "+(0<this.e02?(1E7*this.e02+.5|0)/1E7:(1E7*this.e02-
.5|0)/1E7)+", "+(0<this.e03?(1E7*this.e03+.5|0)/1E7:(1E7*this.e03-.5|0)/1E7)+",\n    "+(0<this.e10?(1E7*this.e10+.5|0)/1E7:(1E7*this.e10-.5|0)/1E7)+", "+(0<this.e11?(1E7*this.e11+.5|0)/1E7:(1E7*this.e11-.5|0)/1E7)+", "+(0<this.e12?(1E7*this.e12+.5|0)/1E7:(1E7*this.e12-.5|0)/1E7)+", "+(0<this.e13?(1E7*this.e13+.5|0)/1E7:(1E7*this.e13-.5|0)/1E7)+",\n    "+(0<this.e20?(1E7*this.e20+.5|0)/1E7:(1E7*this.e20-.5|0)/1E7)+", "+(0<this.e21?(1E7*this.e21+.5|0)/1E7:(1E7*this.e21-.5|0)/1E7)+", "+(0<this.e22?(1E7*
this.e22+.5|0)/1E7:(1E7*this.e22-.5|0)/1E7)+", "+(0<this.e23?(1E7*this.e23+.5|0)/1E7:(1E7*this.e23-.5|0)/1E7)+",\n    "+(0<this.e30?(1E7*this.e30+.5|0)/1E7:(1E7*this.e30-.5|0)/1E7)+", "+(0<this.e31?(1E7*this.e31+.5|0)/1E7:(1E7*this.e31-.5|0)/1E7)+", "+(0<this.e32?(1E7*this.e32+.5|0)/1E7:(1E7*this.e32-.5|0)/1E7)+", "+(0<this.e33?(1E7*this.e33+.5|0)/1E7:(1E7*this.e33-.5|0)/1E7)+"]"};Sb.abs=function(a){return 0<a?a:-a};Sb.sin=function(a){return Math.sin(a)};Sb.cos=function(a){return Math.cos(a)};Sb.tan=
function(a){return Math.tan(a)};Sb.asin=function(a){return Math.asin(a)};Sb.acos=function(a){return Math.acos(a)};Sb.atan=function(a){return Math.atan(a)};Sb.W=function(a){return-1>=a?-1.570796326794895:1<=a?1.570796326794895:Math.asin(a)};Sb.V=function(a){return-1>=a?3.14159265358979:1<=a?0:Math.acos(a)};Sb.atan2=function(a,b){return Math.atan2(a,b)};Sb.sqrt=function(a){return Math.sqrt(a)};Sb.h=function(a,b,e){return a<b?b:a>e?e:a};Sb.i=function(){return Math.random()};Sb.C=function(a,b){return a+
Math.random()*(b-a)};Sb.M=function(a,b){return new z(a+Math.random()*(b-a),a+Math.random()*(b-a),a+Math.random()*(b-a))};Sb.I=function(){return new z(-1+2*Math.random(),-1+2*Math.random(),-1+2*Math.random())};jd.prototype.ob=function(){return 0==this.h?new z:this.i[--this.h]};jd.prototype.Wa=function(){return 0==this.I?new ia:this.C[--this.I]};jd.prototype.Ya=function(){return 0==this.Y?new Ha:this.W[--this.Y]};jd.prototype.nb=function(){return 0==this.V?new Gb:this.M[--this.V]};jd.prototype.aa=function(a,
b,e,d){if(null!=a){a.$();if(this.h==this.i.length){for(var c=Array(this.h<<1),f=0,h=this.h;f<h;){var k=f++;c[k]=this.i[k];this.i[k]=null}this.i=c}this.i[this.h++]=a}if(null!=b){b.e00=1;b.e01=0;b.e02=0;b.e10=0;b.e11=1;b.e12=0;b.e20=0;b.e21=0;b.e22=1;if(this.I==this.C.length){a=Array(this.I<<1);c=0;for(f=this.I;c<f;)h=c++,a[h]=this.C[h],this.C[h]=null;this.C=a}this.C[this.I++]=b}if(null!=e){e.e00=1;e.e01=0;e.e02=0;e.e03=0;e.e10=0;e.e11=1;e.e12=0;e.e13=0;e.e20=0;e.e21=0;e.e22=1;e.e23=0;e.e30=0;e.e31=
0;e.e32=0;e.e33=1;if(this.Y==this.W.length){b=Array(this.Y<<1);a=0;for(c=this.Y;a<c;)f=a++,b[f]=this.W[f],this.W[f]=null;this.W=b}this.W[this.Y++]=e}if(null!=d){d.x=0;d.y=0;d.z=0;d.w=1;if(this.V==this.M.length){e=Array(this.V<<1);b=0;for(a=this.V;b<a;)c=b++,e[c]=this.M[c],this.M[c]=null;this.M=e}this.M[this.V++]=d}};jd.prototype.Sa=function(a){a.$();if(this.h==this.i.length){for(var b=Array(this.h<<1),e=0,d=this.h;e<d;){var c=e++;b[c]=this.i[c];this.i[c]=null}this.i=b}this.i[this.h++]=a};jd.prototype.qa=
function(a){a.e00=1;a.e01=0;a.e02=0;a.e10=0;a.e11=1;a.e12=0;a.e20=0;a.e21=0;a.e22=1;if(this.I==this.C.length){for(var b=Array(this.I<<1),e=0,d=this.I;e<d;){var c=e++;b[c]=this.C[c];this.C[c]=null}this.C=b}this.C[this.I++]=a};jd.prototype.Ma=function(a){a.e00=1;a.e01=0;a.e02=0;a.e03=0;a.e10=0;a.e11=1;a.e12=0;a.e13=0;a.e20=0;a.e21=0;a.e22=1;a.e23=0;a.e30=0;a.e31=0;a.e32=0;a.e33=1;if(this.Y==this.W.length){for(var b=Array(this.Y<<1),e=0,d=this.Y;e<d;){var c=e++;b[c]=this.W[c];this.W[c]=null}this.W=b}this.W[this.Y++]=
a};jd.prototype.Oa=function(a){a.x=0;a.y=0;a.z=0;a.w=1;if(this.V==this.M.length){for(var b=Array(this.V<<1),e=0,d=this.V;e<d;){var c=e++;b[c]=this.M[c];this.M[c]=null}this.M=b}this.M[this.V++]=a};Gb.prototype.I=function(){this.z=this.y=this.x=0;this.w=1;return this};Gb.prototype.Ia=function(a,b,e,d){this.x=a;this.y=b;this.z=e;this.w=d;return this};Gb.prototype.add=function(a){return new Gb(this.x+a.x,this.y+a.y,this.z+a.z,this.w+a.w)};Gb.prototype.sub=function(a){return new Gb(this.x-a.x,this.y-a.y,
this.z-a.z,this.w-a.w)};Gb.prototype.Y=function(a){return new Gb(this.x*a,this.y*a,this.z*a,this.w*a)};Gb.prototype.h=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this};Gb.prototype.qa=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this};Gb.prototype.aa=function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this};Gb.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)};Gb.prototype.M=function(){return this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w};Gb.prototype.i=function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w};Gb.prototype.W=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0<a&&(a=1/a);return new Gb(this.x*a,this.y*a,this.z*a,this.w*a)};Gb.prototype.V=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0<a&&(a=1/a);this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this};Gb.prototype.Ma=function(a,b){var e=a.x,d=a.y;
a=a.z;var c=b.x,f=b.y;b=b.z;this.w=Math.sqrt(.5*(1+(e*c+d*f+a*b)));if(0==this.w){c=e*e;f=d*d;b=a*a;if(c<f)if(c<b){var h=1/Math.sqrt(f+b);this.x=0;this.y=a*h;this.z=-d*h}else h=1/Math.sqrt(c+f),this.z=0,this.x=d*h,this.y=-e*h;else f<b?(h=1/Math.sqrt(b+c),this.y=0,this.z=e*h,this.x=-a*h):(h=1/Math.sqrt(c+f),this.z=0,this.x=d*h,this.y=-e*h);return this}h=.5/this.w;this.x=(d*b-a*f)*h;this.y=(a*c-e*b)*h;this.z=(e*f-d*c)*h;return this};Gb.prototype.Oa=function(a,b){var e=this.x*a.x+this.y*a.y+this.z*a.z+
this.w*a.w;if(0>e){e=-e;var d=-a.x;var c=-a.y;var f=-a.z;a=-a.w}else d=a.x,c=a.y,f=a.z,a=a.w;if(.999999<e)return d=new Gb(this.x+(d-this.x)*b,this.y+(c-this.y)*b,this.z+(f-this.z)*b,this.w+(a-this.w)*b),c=Math.sqrt(d.x*d.x+d.y*d.y+d.z*d.z+d.w*d.w),0<c&&(c=1/c),d.x*=c,d.y*=c,d.z*=c,d.w*=c,d;b*=Math.acos(e);d-=this.x*e;c-=this.y*e;f-=this.z*e;a-=this.w*e;e=1/Math.sqrt(d*d+c*c+f*f+a*a);var h=Math.sin(b);b=Math.cos(b);return new Gb(this.x*b+d*e*h,this.y*b+c*e*h,this.z*b+f*e*h,this.w*b+a*e*h)};Gb.prototype.Dd=
function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this};Gb.prototype.clone=function(){return new Gb(this.x,this.y,this.z,this.w)};Gb.prototype.C=function(a){var b=a.e00,e=a.e11,d=a.e22,c=b+e+d;0<c?(b=Math.sqrt(c+1),this.w=.5*b,b=.5/b,this.x=(a.e21-a.e12)*b,this.y=(a.e02-a.e20)*b,this.z=(a.e10-a.e01)*b):b>e?b>d?(b=Math.sqrt(b-e-d+1),this.x=.5*b,b=.5/b,this.y=(a.e01+a.e10)*b,this.z=(a.e02+a.e20)*b,this.w=(a.e21-a.e12)*b):(b=Math.sqrt(d-b-e+1),this.z=.5*b,b=.5/b,this.x=(a.e02+a.e20)*b,this.y=
(a.e12+a.e21)*b,this.w=(a.e10-a.e01)*b):e>d?(b=Math.sqrt(e-d-b+1),this.y=.5*b,b=.5/b,this.x=(a.e01+a.e10)*b,this.z=(a.e12+a.e21)*b,this.w=(a.e02-a.e20)*b):(b=Math.sqrt(d-b-e+1),this.z=.5*b,b=.5/b,this.x=(a.e02+a.e20)*b,this.y=(a.e12+a.e21)*b,this.w=(a.e10-a.e01)*b);return this};Gb.prototype.Sa=function(){var a=new ia,b=this.x,e=this.y,d=this.z,c=this.w,f=2*b,h=2*e,k=2*d,g=b*f,l=e*h;d*=k;var m=b*h;e*=k;b*=k;f*=c;h*=c;c*=k;a.e00=1-l-d;a.e01=m-c;a.e02=b+h;a.e10=m+c;a.e11=1-g-d;a.e12=e-f;a.e20=b-h;a.e21=
e+f;a.e22=1-g-l;return a};Gb.prototype.toString=function(){return"Quat["+(0<this.x?(1E7*this.x+.5|0)/1E7:(1E7*this.x-.5|0)/1E7)+" i,\n    "+(0<this.y?(1E7*this.y+.5|0)/1E7:(1E7*this.y-.5|0)/1E7)+" j,\n    "+(0<this.z?(1E7*this.z+.5|0)/1E7:(1E7*this.z-.5|0)/1E7)+" k,\n    "+(0<this.w?(1E7*this.w+.5|0)/1E7:(1E7*this.w-.5|0)/1E7)+"]"};Jd.prototype.Li=function(){if(null!=this.Yf){var a=this.xd,b=this.W;this.Yf.Ei(b,this.ic.Tb,this.jc.Tb,this.ic.g,this.jc.g,this.Eg);(this.xd=0<b.numPoints)?(this.Ra.h(b.normal),
this.ee.pf=b.h()>ra.contactUseAlternativePositionCorrectionAlgorithmDepthThreshold?ra.alternativeContactPositionCorrectionAlgorithm:ra.defaultContactPositionCorrectionAlgorithm,b.incremental?this.h.W(b,this.J.g,this.K.g):this.h.aa(b,this.J.g,this.K.g)):this.Ra.de();if(this.xd&&!a){b=this.ic.ld;var e=this.jc.ld;b==e&&(e=null);null!=b&&b.beginContact(this);null!=e&&e.beginContact(this)}!this.xd&&a&&(a=this.ic.ld,b=this.jc.ld,a==b&&(b=null),null!=a&&a.endContact(this),null!=b&&b.endContact(this));this.xd&&
(a=this.ic.ld,b=this.jc.ld,a==b&&(b=null),null!=a&&a.preSolve(this),null!=b&&b.preSolve(this))}};Jd.prototype.Uh=function(){var a=this.ic.ld,b=this.jc.ld;a==b&&(b=null);null!=a&&a.postSolve(this);null!=b&&b.postSolve(this)};Jd.prototype.M=function(){return this.ic};Jd.prototype.V=function(){return this.jc};Jd.prototype.th=function(){return this.xd};Jd.prototype.i=function(){return this.Ra};Jd.prototype.Y=function(){return this.ee};Jd.prototype.I=function(){return this.sa};Jd.prototype.C=function(){return this.U};
Hf.prototype.h=function(){return this.zd};Hf.prototype.C=function(){return this.Fc};Hf.prototype.I=function(){return this.sa};Hf.prototype.i=function(){return this.U};rg.prototype.I=function(){for(var a=this.nc.Cd;null!=a;){for(var b=a.U;;){if(a.Nf.uc<a.Of.uc){var e=a.Nf.userData;a=a.Of.userData}else e=a.Of.userData,a=a.Nf.userData;if(!this.h(e,a))break;var d=e.hc,c=a.hc;d=d.Pd<c.Pd?d.Zb:c.Zb;c=e.uc;for(var f=a.uc,h=!1;null!=d;){var k=d.zd;if(k.ic.uc==c&&k.jc.uc==f){h=k.fh=!0;break}d=d.U}h||(d=this.$e,
null!=d?(this.$e=d.U,d.U=null):d=new Jd,null==this.md?this.md=d:(this.Nd.U=d,d.sa=this.Nd),this.Nd=d,d.fh=!0,c=this.C.h[e.Tb.Xb][a.Tb.Xb],d.ic=e,d.jc=a,d.J=e.hc,d.K=a.hc,d.xd=!1,null==d.J.Zb?d.J.Zb=d.Bb:(d.J.oc.U=d.Bb,d.Bb.sa=d.J.oc),d.J.oc=d.Bb,null==d.K.Zb?d.K.Zb=d.Cb:(d.K.oc.U=d.Cb,d.Cb.sa=d.K.oc),d.K.oc=d.Cb,d.J.Pd++,d.K.Pd++,d.Bb.Fc=d.K,d.Cb.Fc=d.J,d.Bb.zd=d,d.Cb.zd=d,d.Yf=c,d=d.ee,d.ic=e,d.jc=a,d.J=d.ic.hc,d.K=d.jc.hc,d.Jg=d.J.g,d.Kg=d.K.g,this.pg++);break}a=b}};rg.prototype.M=function(){for(var a=
this.nc.eh,b=this.md;null!=b;){for(var e=b.U;;){if(b.fh){b.fh=!1;b.lh=!1;break}if(!a){var d=b.sa,c=b.U;null!=d&&(d.U=c);null!=c&&(c.sa=d);b==this.md&&(this.md=this.md.U);b==this.Nd&&(this.Nd=this.Nd.sa);b.U=null;b.sa=null;b.xd&&(d=b.ic.ld,c=b.jc.ld,d==c&&(c=null),null!=d&&d.endContact(b),null!=c&&c.endContact(b));d=b.Bb.sa;c=b.Bb.U;null!=d&&(d.U=c);null!=c&&(c.sa=d);b.Bb==b.J.Zb&&(b.J.Zb=b.J.Zb.U);b.Bb==b.J.oc&&(b.J.oc=b.J.oc.sa);b.Bb.U=null;b.Bb.sa=null;d=b.Cb.sa;c=b.Cb.U;null!=d&&(d.U=c);null!=
c&&(c.sa=d);b.Cb==b.K.Zb&&(b.K.Zb=b.K.Zb.U);b.Cb==b.K.oc&&(b.K.oc=b.K.oc.sa);b.Cb.U=null;b.Cb.sa=null;b.J.Pd--;b.K.Pd--;b.Bb.Fc=null;b.Cb.Fc=null;b.Bb.zd=null;b.Cb.zd=null;b.ic=null;b.jc=null;b.J=null;b.K=null;b.xd=!1;b.Eg.de();b.Ra.de();b.Yf=null;d=b.ee;d.ic=null;d.jc=null;d.J=null;d.K=null;d.Jg=null;d.Kg=null;b.U=this.$e;this.$e=b;this.pg--;break}d=b.ic;c=b.jc;var f=d.hc,h=c.hc;if((f.Ob||1==f.Xb)&&(h.Ob||1==h.Xb)){b.lh=!0;break}f=d.D;h=c.D;var k=d.Eb,g=c.Eb;if(!(k.R<g.N&&k.N>g.R&&k.S<g.O&&k.O>g.S&&
k.T<g.P&&k.P>g.T&&this.h(d,c))){d=b.sa;c=b.U;null!=d&&(d.U=c);null!=c&&(c.sa=d);b==this.md&&(this.md=this.md.U);b==this.Nd&&(this.Nd=this.Nd.sa);b.U=null;b.sa=null;b.xd&&(d=b.ic.ld,c=b.jc.ld,d==c&&(c=null),null!=d&&d.endContact(b),null!=c&&c.endContact(b));d=b.Bb.sa;c=b.Bb.U;null!=d&&(d.U=c);null!=c&&(c.sa=d);b.Bb==b.J.Zb&&(b.J.Zb=b.J.Zb.U);b.Bb==b.J.oc&&(b.J.oc=b.J.oc.sa);b.Bb.U=null;b.Bb.sa=null;d=b.Cb.sa;c=b.Cb.U;null!=d&&(d.U=c);null!=c&&(c.sa=d);b.Cb==b.K.Zb&&(b.K.Zb=b.K.Zb.U);b.Cb==b.K.oc&&
(b.K.oc=b.K.oc.sa);b.Cb.U=null;b.Cb.sa=null;b.J.Pd--;b.K.Pd--;b.Bb.Fc=null;b.Cb.Fc=null;b.Bb.zd=null;b.Cb.zd=null;b.ic=null;b.jc=null;b.J=null;b.K=null;b.xd=!1;b.Eg.de();b.Ra.de();b.Yf=null;d=b.ee;d.ic=null;d.jc=null;d.J=null;d.K=null;d.Jg=null;d.Kg=null;b.U=this.$e;this.$e=b;this.pg--;break}b.lh=!(f.wa<h.ta&&f.ta>h.wa&&f.xa<h.ua&&f.ua>h.xa&&f.ya<h.va&&f.va>h.ya);break}b=e}};rg.prototype.h=function(a,b){var e=a.hc,d=b.hc;if(e==d||0!=e.Xb&&0!=d.Xb||0==(a.$g&b.ah)||0==(b.$g&a.ah))return!1;e.Mf<d.Mf?
(a=e.Od,e=d):a=d.Od;for(;null!=a;){if(a.Fc==e&&!a.Rh.Nh)return!1;a=a.U}return!0};rg.prototype.i=function(){this.nc.qg();this.I();this.M()};rg.prototype.Uh=function(){for(var a=this.md;null!=a;){var b=a.U;a.xd&&a.Uh();a=b}};rg.prototype.W=function(){return this.pg};rg.prototype.V=function(){return this.md};Mj.prototype.de=function(){for(;0<this.h;)this.C[--this.h]=null;for(;0<this.i;)this.I[--this.i]=null;for(;0<this.V;)this.Y[--this.V]=null;for(;0<this.M;)this.W[--this.M]=null};Mj.prototype.aa=function(a){if(this.h==
this.C.length){for(var b=Array(this.h<<1),e=0,d=this.h;e<d;){var c=e++;b[c]=this.C[c];this.C[c]=null}this.C=b}a.Ke=!0;this.C[this.h++]=a};Mj.prototype.qa=function(a,b){if(this.i==this.I.length){for(var e=Array(this.i<<1),d=0,c=this.i;d<c;){var f=d++;e[f]=this.I[f];this.I[f]=null}this.I=e}a.Ke=!0;this.I[this.i++]=a;if(b==Fh.SPLIT_IMPULSE){if(this.V==this.Y.length){e=Array(this.V<<1);d=0;for(c=this.V;d<c;)f=d++,e[f]=this.Y[f],this.Y[f]=null;this.Y=e}this.Y[this.V++]=a}if(b==Fh.NGS){if(this.M==this.W.length){b=
Array(this.M<<1);e=0;for(d=this.M;e<d;)c=e++,b[c]=this.W[c],this.W[c]=null;this.W=b}this.W[this.M++]=a}};Mj.prototype.Ya=function(a,b){a=a.dt;var e=b.za,d=b.g;e.F=d.F;e.G=d.G;e.H=d.H;e.A=d.A;e.j=d.j;e.m=d.m;e.o=d.o;e.v=d.v;e.s=d.s;e.u=d.u;e.l=d.l;e.B=d.B;b.If=0;b.Jf=0;b.Kf=0;b.Ef=0;b.Ff=0;b.Gf=0;b.Oh&&b.ub*b.ub+b.vb*b.vb+b.wb*b.wb<ra.sleepingVelocityThreshold*ra.sleepingVelocityThreshold&&b.xb*b.xb+b.yb*b.yb+b.zb*b.zb<ra.sleepingAngularVelocityThreshold*ra.sleepingAngularVelocityThreshold?(b.Kb+=
a,b.Kb>ra.sleepingTimeThreshold&&(b.Ob=!0,b.Kb=0)):b.Kb=0;if(!b.Ob){if(0==b.Xb){e=a*b.gh;d=e*e;e=1/(1+e+d*(.5+.16666666666666666*e+.041666666666666664*d));d=a*b.Xg;var c=d*d;d=1/(1+d+c*(.5+.16666666666666666*d+.041666666666666664*c));c=this.Ma*b.Hf;var f=this.Oa*b.Hf;var h=this.Sa*b.Hf;c+=b.Zf*b.Ab;f+=b.$f*b.Ab;h+=b.ag*b.Ab;var k=b.ba*b.De+b.ca*b.Ee+b.da*b.Fe;var g=b.ea*b.De+b.fa*b.Ee+b.ga*b.Fe;var l=b.ha*b.De+b.ia*b.Ee+b.ja*b.Fe;b.ub+=c*a;b.vb+=f*a;b.wb+=h*a;b.ub*=e;b.vb*=e;b.wb*=e;b.xb+=k*a;b.yb+=
g*a;b.zb+=l*a;b.xb*=d;b.yb*=d;b.zb*=d}b.Bi(a);for(a=b.vc;null!=a;){e=a.U;c=b.za;d=b.g;f=a.za;h=a.ra;l=c.A*h.A+c.j*h.o+c.m*h.u;k=c.A*h.j+c.j*h.v+c.m*h.l;g=c.A*h.m+c.j*h.s+c.m*h.B;var m=c.o*h.A+c.v*h.o+c.s*h.u;var n=c.o*h.j+c.v*h.v+c.s*h.l;var q=c.o*h.m+c.v*h.s+c.s*h.B;var p=c.u*h.A+c.l*h.o+c.B*h.u;var r=c.u*h.j+c.l*h.v+c.B*h.l;var t=c.u*h.m+c.l*h.s+c.B*h.B;f.A=l;f.j=k;f.m=g;f.o=m;f.v=n;f.s=q;f.u=p;f.l=r;f.B=t;l=c.A*h.F+c.j*h.G+c.m*h.H;k=c.o*h.F+c.v*h.G+c.s*h.H;h=c.u*h.F+c.l*h.G+c.B*h.H;f.F=l;f.G=k;
f.H=h;f.F+=c.F;f.G+=c.G;f.H+=c.H;c=a.g;f=a.ra;h=d.A*f.A+d.j*f.o+d.m*f.u;l=d.A*f.j+d.j*f.v+d.m*f.l;k=d.A*f.m+d.j*f.s+d.m*f.B;g=d.o*f.A+d.v*f.o+d.s*f.u;m=d.o*f.j+d.v*f.v+d.s*f.l;n=d.o*f.m+d.v*f.s+d.s*f.B;q=d.u*f.A+d.l*f.o+d.B*f.u;p=d.u*f.j+d.l*f.v+d.B*f.l;r=d.u*f.m+d.l*f.s+d.B*f.B;c.A=h;c.j=l;c.m=k;c.o=g;c.v=m;c.s=n;c.u=q;c.l=p;c.B=r;h=d.A*f.F+d.j*f.G+d.m*f.H;l=d.o*f.F+d.v*f.G+d.s*f.H;f=d.u*f.F+d.l*f.G+d.B*f.H;c.F=h;c.G=l;c.H=f;c.F+=d.F;c.G+=d.G;c.H+=d.H;a.Tb.Yb(a.D,a.za);d=a.D.wa;c=a.D.xa;f=a.D.ya;
h=a.D.ta;l=a.D.ua;k=a.D.va;a.Tb.Yb(a.D,a.g);a.D.wa=d<a.D.wa?d:a.D.wa;a.D.xa=c<a.D.xa?c:a.D.xa;a.D.ya=f<a.D.ya?f:a.D.ya;a.D.ta=h>a.D.ta?h:a.D.ta;a.D.ua=l>a.D.ua?l:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Eb&&(d=a.g.F-a.za.F,c=a.g.G-a.za.G,f=a.g.H-a.za.H,h=a.qc,h.x=d,h.y=c,h.z=f,a.hc.pc.nc.fd(a.Eb,a.D,a.qc));a=e}}};Mj.prototype.Wa=function(a,b,e){for(var d=a.dt,c=!0,f=0,h=this.h;f<h;){var k=this.C[f++],g=k.za,l=k.g;g.F=l.F;g.G=l.G;g.H=l.H;g.A=l.A;g.j=l.j;g.m=l.m;g.o=l.o;g.v=l.v;g.s=l.s;g.u=l.u;g.l=l.l;
g.B=l.B;k.If=0;k.Jf=0;k.Kf=0;k.Ef=0;k.Ff=0;k.Gf=0;k.Ob=!1;k.Oh&&k.ub*k.ub+k.vb*k.vb+k.wb*k.wb<ra.sleepingVelocityThreshold*ra.sleepingVelocityThreshold&&k.xb*k.xb+k.yb*k.yb+k.zb*k.zb<ra.sleepingAngularVelocityThreshold*ra.sleepingAngularVelocityThreshold?k.Kb+=d:k.Kb=0;k.Kb<ra.sleepingTimeThreshold&&(c=!1);if(0==k.Xb){g=d*k.gh;l=g*g;g=1/(1+g+l*(.5+.16666666666666666*g+.041666666666666664*l));l=d*k.Xg;var m=l*l;l=1/(1+l+m*(.5+.16666666666666666*l+.041666666666666664*m));m=this.Ma*k.Hf;var n=this.Oa*
k.Hf;var q=this.Sa*k.Hf;m+=k.Zf*k.Ab;n+=k.$f*k.Ab;q+=k.ag*k.Ab;var p=k.ba*k.De+k.ca*k.Ee+k.da*k.Fe;var r=k.ea*k.De+k.fa*k.Ee+k.ga*k.Fe;var t=k.ha*k.De+k.ia*k.Ee+k.ja*k.Fe;k.ub+=m*d;k.vb+=n*d;k.wb+=q*d;k.ub*=g;k.vb*=g;k.wb*=g;k.xb+=p*d;k.yb+=r*d;k.zb+=t*d;k.xb*=l;k.yb*=l;k.zb*=l}}if(c)for(a=0,e=this.h;a<e;)d=this.C[a++],d.Ob=!0,d.Kb=0;else{c=0;for(f=this.i;c<f;)this.I[c++].Rf(a);c=0;for(f=this.i;c<f;)this.I[c++].Wf(a);for(c=0;c<b;)for(++c,f=0,h=this.i;f<h;)this.I[f++].Vf();b=0;for(c=this.i;b<c;)this.I[b++].rg(a);
b=0;for(c=this.h;b<c;)this.C[b++].Bi(d);d=0;for(b=this.V;d<b;)this.Y[d++].Bf(a);for(d=0;d<e;)for(++d,b=0,c=this.V;b<c;)this.Y[b++].Uf();d=0;for(b=this.h;d<b;)this.C[d++].Ki();d=0;for(b=this.M;d<b;)this.W[d++].Bf(a);for(d=0;d<e;)for(++d,b=0,c=this.M;b<c;)this.W[b++].Tf(a);a=0;for(e=this.i;a<e;)this.I[a++].postSolve();a=0;for(e=this.h;a<e;)for(d=this.C[a++],b=d.vc;null!=b;){c=b.U;h=d.za;f=d.g;k=b.za;g=b.ra;l=h.A*g.A+h.j*g.o+h.m*g.u;m=h.A*g.j+h.j*g.v+h.m*g.l;n=h.A*g.m+h.j*g.s+h.m*g.B;q=h.o*g.A+h.v*g.o+
h.s*g.u;p=h.o*g.j+h.v*g.v+h.s*g.l;t=h.o*g.m+h.v*g.s+h.s*g.B;r=h.u*g.A+h.l*g.o+h.B*g.u;var x=h.u*g.j+h.l*g.v+h.B*g.l;var v=h.u*g.m+h.l*g.s+h.B*g.B;k.A=l;k.j=m;k.m=n;k.o=q;k.v=p;k.s=t;k.u=r;k.l=x;k.B=v;l=h.A*g.F+h.j*g.G+h.m*g.H;m=h.o*g.F+h.v*g.G+h.s*g.H;g=h.u*g.F+h.l*g.G+h.B*g.H;k.F=l;k.G=m;k.H=g;k.F+=h.F;k.G+=h.G;k.H+=h.H;h=b.g;k=b.ra;g=f.A*k.A+f.j*k.o+f.m*k.u;l=f.A*k.j+f.j*k.v+f.m*k.l;m=f.A*k.m+f.j*k.s+f.m*k.B;n=f.o*k.A+f.v*k.o+f.s*k.u;q=f.o*k.j+f.v*k.v+f.s*k.l;p=f.o*k.m+f.v*k.s+f.s*k.B;t=f.u*k.A+
f.l*k.o+f.B*k.u;r=f.u*k.j+f.l*k.v+f.B*k.l;x=f.u*k.m+f.l*k.s+f.B*k.B;h.A=g;h.j=l;h.m=m;h.o=n;h.v=q;h.s=p;h.u=t;h.l=r;h.B=x;g=f.A*k.F+f.j*k.G+f.m*k.H;l=f.o*k.F+f.v*k.G+f.s*k.H;k=f.u*k.F+f.l*k.G+f.B*k.H;h.F=g;h.G=l;h.H=k;h.F+=f.F;h.G+=f.G;h.H+=f.H;b.Tb.Yb(b.D,b.za);f=b.D.wa;h=b.D.xa;k=b.D.ya;g=b.D.ta;l=b.D.ua;m=b.D.va;b.Tb.Yb(b.D,b.g);b.D.wa=f<b.D.wa?f:b.D.wa;b.D.xa=h<b.D.xa?h:b.D.xa;b.D.ya=k<b.D.ya?k:b.D.ya;b.D.ta=g>b.D.ta?g:b.D.ta;b.D.ua=l>b.D.ua?l:b.D.ua;b.D.va=m>b.D.va?m:b.D.va;null!=b.Eb&&(f=b.g.F-
b.za.F,h=b.g.G-b.za.G,k=b.g.H-b.za.H,g=b.qc,g.x=f,g.y=h,g.z=k,b.hc.pc.nc.fd(b.Eb,b.D,b.qc));b=c}}};tb.prototype.Va=function(){var a=Jh.h()/1E3;this.Xf.i();ii.broadPhaseCollisionTime=1E3*(Jh.h()/1E3-a);a=Jh.h()/1E3;for(var b=this.Xf.md;null!=b;){var e=b.U;b.lh||b.Li();b=e}ii.narrowPhaseCollisionTime=1E3*(Jh.h()/1E3-a)};tb.prototype.je=function(){var a=Jh.h()/1E3;if(ra.disableSleeping)for(var b=this.I;null!=b;)b.Ob=!1,b.Kb=0,b=b.U;if(this.W.length<this.Wa){for(b=this.W.length<<1;b<this.Wa;)b<<=1;this.W=
Array(b)}this.Ya=0;b=this.M;var e=this.Jb;b.Ma=e.x;b.Oa=e.y;b.Sa=e.z;b=this.I;for(this.C=0;null!=b;){for(e=b.U;!b.Ke&&!b.Ob&&1!=b.Xb;){if(0==b.Pd&&0==b.Mf){this.M.Ya(this.aa,b);this.Ya++;break}this.rf(b);this.M.Wa(this.aa,this.Sb,this.Rb);this.M.de();this.Ya++;break}b=e}this.Xf.Uh();for(b=this.I;null!=b;)b.Ke=!1,b=b.U;for(b=this.I;null!=b;)b.Zf=0,b.$f=0,b.ag=0,b.De=0,b.Ee=0,b.Fe=0,b=b.U;for(;0<this.C;)this.i[--this.C].Ke=!1,this.i[this.C]=null;ii.dynamicsTime=1E3*(Jh.h()/1E3-a)};tb.prototype.rf=function(a){var b=
1;this.M.aa(a);for(this.W[0]=a;0<b;)if(a=this.W[--b],this.W[b]=null,1!=a.Xb){for(var e=a.Zb;null!=e;){var d=e.U,c=e.zd.ee,f=e.zd.ee.mh;if(c.th()&&!f.Ke){if(this.i.length==this.C){for(var h=Array(this.C<<1),k=0,g=this.C;k<g;){var l=k++;h[l]=this.i[l];this.i[l]=null}this.i=h}this.i[this.C++]=f;this.M.qa(f,c.pf);e=e.Fc;e.Ke||(this.M.aa(e),this.W[b++]=e)}e=d}for(d=a.Od;null!=d;){a=d.U;e=d.Rh;c=e.mh;if(!c.Ke){if(this.i.length==this.C){f=Array(this.C<<1);h=0;for(k=this.C;h<k;)g=h++,f[g]=this.i[g],this.i[g]=
null;this.i=f}this.i[this.C++]=c;this.M.qa(c,e.pf);d=d.Fc;d.Ke||(this.M.aa(d),this.W[b++]=d)}d=a}}};tb.prototype.ac=function(a,b){a.drawBvh&&this.Ib(a,b.$b,0,a.style.bvhNodeColor)};tb.prototype.Ib=function(a,b,e,d){if(null!=b){if(e>=a.drawBvhMinLevel&&e<=a.drawBvhMaxLevel){var c=this.h,f=0==c.h?new z:c.i[--c.h];c=this.h;c=0==c.h?new z:c.i[--c.h];f.x=b.R;f.y=b.S;f.z=b.T;c.x=b.N;c.y=b.O;c.z=b.P;a.aabb(f,c,d);var h=this.h;if(null!=f){f.$();if(h.h==h.i.length){for(var k=Array(h.h<<1),g=0,l=h.h;g<l;){var m=
g++;k[m]=h.i[m];h.i[m]=null}h.i=k}h.i[h.h++]=f}f=this.h;if(null!=c){c.$();if(f.h==f.i.length){h=Array(f.h<<1);k=0;for(g=f.h;k<g;)l=k++,h[l]=f.i[l],f.i[l]=null;f.i=h}f.i[f.h++]=c}}this.Ib(a,b.L[0],e+1,d);this.Ib(a,b.L[1],e+1,d)}};tb.prototype.Ed=function(a){for(var b=a.style,e=this.I;null!=e;){var d=e.U;if(a.drawBases){var c=a.style;a.basis(e.g,c.basisLength,c.basisColorX,c.basisColorY,c.basisColorZ)}var f=null,h=0==e.Xb;h||(f=2==e.Xb?b.kinematicShapeColor:b.staticShapeColor);for(var k=e.vc;null!=
k;){var g=k.U;h&&(f=0==(k.uc&1)?e.Ob?b.sleepingShapeColor1:e.Kb>ra.sleepingTimeThreshold?b.sleepyShapeColor1:b.shapeColor1:e.Ob?b.sleepingShapeColor2:e.Kb>ra.sleepingTimeThreshold?b.sleepyShapeColor2:b.shapeColor2);if(a.drawShapes){var l=k.Tb,m=k.g;switch(l.Xb){case 0:a.sphere(m,l.lb,f);break;case 1:var n=l,q=this.h,p=0==q.h?new z:q.i[--q.h],r=p;r.x=n.Sd;r.y=n.Td;r.z=n.Ud;a.box(m,p,f);var t=this.h;if(null!=p){p.$();if(t.h==t.i.length){for(var x=Array(t.h<<1),v=0,B=t.h;v<B;){var H=v++;x[H]=t.i[H];
t.i[H]=null}t.i=x}t.i[t.h++]=p}break;case 2:var C=l;a.cylinder(m,C.lb,C.Qb,f);break;case 3:var N=l;a.cone(m,N.lb,N.Qb,f);break;case 4:var y=l;a.capsule(m,y.lb,y.Qb,f);break;case 5:var A=l,E=A.Vd,L=this.h,G=0==L.h?new z:L.i[--L.h],P=this.h,K=0==P.h?new z:P.i[--P.h],pa=this.h,M=0==pa.h?new z:pa.i[--pa.h],Sa=this.h,Pa=0==Sa.h?new z:Sa.i[--Sa.h],Ca=this.h,Ra=0==Ca.h?new z:Ca.i[--Ca.h],wa=this.h,La=0==wa.h?new z:wa.i[--wa.h],Ea=this.h,O=0==Ea.I?new ia:Ea.C[--Ea.I],ma=this.h,Y=0==ma.h?new z:ma.i[--ma.h],
ta=O;ta.e00=m.A;ta.e01=m.j;ta.e02=m.m;ta.e10=m.o;ta.e11=m.v;ta.e12=m.s;ta.e20=m.u;ta.e21=m.l;ta.e22=m.B;var Va=Y;Va.x=m.F;Va.y=m.G;Va.z=m.H;for(var D=0;D<E;){var Aa=D++,aa=A.qf[Aa],Ua=A.Ja[Aa];aa.x=Ua.x;aa.y=Ua.y;aa.z=Ua.z;var xa=aa.x*O.e10+aa.y*O.e11+aa.z*O.e12,Ja=aa.x*O.e20+aa.y*O.e21+aa.z*O.e22;aa.x=aa.x*O.e00+aa.y*O.e01+aa.z*O.e02;aa.y=xa;aa.z=Ja;aa.x+=Y.x;aa.y+=Y.y;aa.z+=Y.z}if(30<E)for(var S=0;S<E;){var la=S++,qa=A.qf[la];G.x=qa.x;G.y=qa.y;G.z=qa.z;var Da=A.qf[(la+1)%E];K.x=Da.x;K.y=Da.y;K.z=
Da.z;a.line(G,K,f)}else if(this.qa.wireframe||10<E)for(var X=0;X<E;){var fa=X++,w=A.qf[fa];G.x=w.x;G.y=w.y;G.z=w.z;for(var ja=0;ja<fa;){var ea=A.qf[ja++];K.x=ea.x;K.y=ea.y;K.z=ea.z;a.line(G,K,f)}}else for(var U=0;U<E;){var ba=U++,Fa=A.qf[ba];G.x=Fa.x;G.y=Fa.y;G.z=Fa.z;for(var ka=0;ka<ba;){var Qa=ka++,Ka=A.qf[Qa];K.x=Ka.x;K.y=Ka.y;K.z=Ka.z;for(var V=0;V<Qa;){var ob=A.qf[V++];M.x=ob.x;M.y=ob.y;M.z=ob.z;Pa.x=K.x;Pa.y=K.y;Pa.z=K.z;var Za=Pa;Za.x-=G.x;Za.y-=G.y;Za.z-=G.z;Ra.x=M.x;Ra.y=M.y;Ra.z=M.z;var W=
Ra;W.x-=G.x;W.y-=G.y;W.z-=G.z;La.x=Pa.x;La.y=Pa.y;La.z=Pa.z;var ha=La,I=ha.z*Ra.x-ha.x*Ra.z,na=ha.x*Ra.y-ha.y*Ra.x;ha.x=ha.y*Ra.z-ha.z*Ra.y;ha.y=I;ha.z=na;var ca=Math.sqrt(ha.x*ha.x+ha.y*ha.y+ha.z*ha.z);0<ca&&(ca=1/ca);ha.x*=ca;ha.y*=ca;ha.z*=ca;a.triangle(G,K,M,La,La,La,f);La.x=-La.x;La.y=-La.y;La.z=-La.z;a.triangle(G,M,K,La,La,La,f)}}}var da=this.h;if(null!=G){G.$();if(da.h==da.i.length){for(var Z=Array(da.h<<1),oa=0,xb=da.h;oa<xb;){var hb=oa++;Z[hb]=da.i[hb];da.i[hb]=null}da.i=Z}da.i[da.h++]=G}var fb=
this.h;if(null!=K){K.$();if(fb.h==fb.i.length){for(var gb=Array(fb.h<<1),pb=0,ab=fb.h;pb<ab;){var $a=pb++;gb[$a]=fb.i[$a];fb.i[$a]=null}fb.i=gb}fb.i[fb.h++]=K}var ua=this.h;if(null!=M){M.$();if(ua.h==ua.i.length){for(var Ya=Array(ua.h<<1),Fb=0,Xa=ua.h;Fb<Xa;){var Bb=Fb++;Ya[Bb]=ua.i[Bb];ua.i[Bb]=null}ua.i=Ya}ua.i[ua.h++]=M}var Wa=this.h;if(null!=Pa){Pa.$();if(Wa.h==Wa.i.length){for(var Cb=Array(Wa.h<<1),qb=0,bb=Wa.h;qb<bb;){var ib=qb++;Cb[ib]=Wa.i[ib];Wa.i[ib]=null}Wa.i=Cb}Wa.i[Wa.h++]=Pa}var rb=
this.h;if(null!=Ra){Ra.$();if(rb.h==rb.i.length){for(var db=Array(rb.h<<1),Db=0,jb=rb.h;Db<jb;){var nb=Db++;db[nb]=rb.i[nb];rb.i[nb]=null}rb.i=db}rb.i[rb.h++]=Ra}var cb=this.h;if(null!=La){La.$();if(cb.h==cb.i.length){for(var Jb=Array(cb.h<<1),Kb=0,F=cb.h;Kb<F;){var ub=Kb++;Jb[ub]=cb.i[ub];cb.i[ub]=null}cb.i=Jb}cb.i[cb.h++]=La}var lb=this.h;if(null!=O){O.e00=1;O.e01=0;O.e02=0;O.e10=0;O.e11=1;O.e12=0;O.e20=0;O.e21=0;O.e22=1;if(lb.I==lb.C.length){for(var yb=Array(lb.I<<1),vb=0,eb=lb.I;vb<eb;){var Lb=
vb++;yb[Lb]=lb.C[Lb];lb.C[Lb]=null}lb.C=yb}lb.C[lb.I++]=O}var mb=this.h;if(null!=Y){Y.$();if(mb.h==mb.i.length){for(var zb=Array(mb.h<<1),u=0,T=mb.h;u<T;){var R=u++;zb[R]=mb.i[R];mb.i[R]=null}mb.i=zb}mb.i[mb.h++]=Y}}}if(a.drawAabbs){var va=k.D,Na=b.aabbColor,ya=this.h,Oa=0==ya.h?new z:ya.i[--ya.h],kb=this.h,sb=0==kb.h?new z:kb.i[--kb.h],Hb=Oa;Hb.x=va.wa;Hb.y=va.xa;Hb.z=va.ya;var Ba=sb;Ba.x=va.ta;Ba.y=va.ua;Ba.z=va.va;a.aabb(Oa,sb,Na);var Ta=this.h;if(null!=Oa){Oa.$();if(Ta.h==Ta.i.length){for(var sa=
Array(Ta.h<<1),Ga=0,Q=Ta.h;Ga<Q;){var Ma=Ga++;sa[Ma]=Ta.i[Ma];Ta.i[Ma]=null}Ta.i=sa}Ta.i[Ta.h++]=Oa}var Ia=this.h;if(null!=sb){sb.$();if(Ia.h==Ia.i.length){for(var Eb=Array(Ia.h<<1),wb=0,Mb=Ia.h;wb<Mb;){var Ib=wb++;Eb[Ib]=Ia.i[Ib];Ia.i[Ib]=null}Ia.i=Eb}Ia.i[Ia.h++]=sb}}k=g}e=d}};tb.prototype.bc=function(a){var b=a.style;if(a.drawPairs||a.drawContacts)for(var e=this.Xf.md;null!=e;){var d=e.U;if(a.drawPairs){var c=b.pairColor,f=this.h,h=0==f.h?new z:f.i[--f.h],k=this.h,g=0==k.h?new z:k.i[--k.h],l=h;
l.x=e.ic.g.F;l.y=e.ic.g.G;l.z=e.ic.g.H;var m=g;m.x=e.jc.g.F;m.y=e.jc.g.G;m.z=e.jc.g.H;a.line(h,g,c);var n=this.h;if(null!=h){h.$();if(n.h==n.i.length){for(var q=Array(n.h<<1),p=0,r=n.h;p<r;){var t=p++;q[t]=n.i[t];n.i[t]=null}n.i=q}n.i[n.h++]=h}var x=this.h;if(null!=g){g.$();if(x.h==x.i.length){for(var v=Array(x.h<<1),B=0,H=x.h;B<H;){var C=B++;v[C]=x.i[C];x.i[C]=null}x.i=v}x.i[x.h++]=g}}if(a.drawContacts)for(var N=e.ee,y=e.ee.Ra.rc,A=0,E=e.ee.Ra.Bd;A<E;){var L=y[A++],G=a.style,P=this.h,K=0==P.h?new z:
P.i[--P.h],pa=this.h,M=0==pa.h?new z:pa.i[--pa.h],Sa=this.h,Pa=0==Sa.h?new z:Sa.i[--Sa.h],Ca=this.h,Ra=0==Ca.h?new z:Ca.i[--Ca.h],wa=this.h,La=0==wa.h?new z:wa.i[--wa.h],Ea=K;Ea.x=L.od;Ea.y=L.pd;Ea.z=L.qd;var O=M;O.x=L.rd;O.y=L.sd;O.z=L.td;var ma=Pa;ma.x=N.Ra.kf;ma.y=N.Ra.lf;ma.z=N.Ra.mf;var Y=Ra;Y.x=N.Ra.Gg;Y.y=N.Ra.Hg;Y.z=N.Ra.Ig;var ta=La;ta.x=N.Ra.Bg;ta.y=N.Ra.Cg;ta.z=N.Ra.Dg;if(L.ve)a.point(K,G.disabledContactColor),a.point(M,G.disabledContactColor),a.line(K,M,G.disabledContactColor);else if(L.Xd){var Va=
void 0;switch(L.uc&3){case 0:Va=G.contactColor;break;case 1:Va=G.contactColor2;break;case 2:Va=G.contactColor3;break;default:Va=G.contactColor4}a.point(K,Va);a.point(M,Va);a.line(K,M,G.contactColor)}else a.point(K,G.newContactColor),a.point(M,G.newContactColor),a.line(K,M,G.newContactColor);M.x=K.x;M.y=K.y;M.z=K.z;var D=M,Aa=G.contactNormalLength;D.x+=Pa.x*Aa;D.y+=Pa.y*Aa;D.z+=Pa.z*Aa;a.line(K,M,G.contactNormalColor);if(a.drawContactBases){M.x=K.x;M.y=K.y;M.z=K.z;var aa=M,Ua=G.contactTangentLength;
aa.x+=Ra.x*Ua;aa.y+=Ra.y*Ua;aa.z+=Ra.z*Ua;a.line(K,M,G.contactTangentColor);M.x=K.x;M.y=K.y;M.z=K.z;var xa=M,Ja=G.contactBinormalLength;xa.x+=La.x*Ja;xa.y+=La.y*Ja;xa.z+=La.z*Ja;a.line(K,M,G.contactBinormalColor)}var S=this.h;if(null!=K){K.$();if(S.h==S.i.length){for(var la=Array(S.h<<1),qa=0,Da=S.h;qa<Da;){var X=qa++;la[X]=S.i[X];S.i[X]=null}S.i=la}S.i[S.h++]=K}var fa=this.h;if(null!=M){M.$();if(fa.h==fa.i.length){for(var w=Array(fa.h<<1),ja=0,ea=fa.h;ja<ea;){var U=ja++;w[U]=fa.i[U];fa.i[U]=null}fa.i=
w}fa.i[fa.h++]=M}var ba=this.h;if(null!=Pa){Pa.$();if(ba.h==ba.i.length){for(var Fa=Array(ba.h<<1),ka=0,Qa=ba.h;ka<Qa;){var Ka=ka++;Fa[Ka]=ba.i[Ka];ba.i[Ka]=null}ba.i=Fa}ba.i[ba.h++]=Pa}var V=this.h;if(null!=Ra){Ra.$();if(V.h==V.i.length){for(var ob=Array(V.h<<1),Za=0,W=V.h;Za<W;){var ha=Za++;ob[ha]=V.i[ha];V.i[ha]=null}V.i=ob}V.i[V.h++]=Ra}var I=this.h;if(null!=La){La.$();if(I.h==I.i.length){for(var na=Array(I.h<<1),ca=0,da=I.h;ca<da;){var Z=ca++;na[Z]=I.i[Z];I.i[Z]=null}I.i=na}I.i[I.h++]=La}}e=
d}if(a.drawJoints)for(var oa=this.Y;null!=oa;){var xb=oa.U,hb=this.h,fb=0==hb.h?new z:hb.i[--hb.h],gb=this.h,pb=0==gb.h?new z:gb.i[--gb.h],ab=fb;ab.x=oa.J.g.F;ab.y=oa.J.g.G;ab.z=oa.J.g.H;var $a=pb;$a.x=oa.K.g.F;$a.y=oa.K.g.G;$a.z=oa.K.g.H;var ua=this.h,Ya=0==ua.h?new z:ua.i[--ua.h],Fb=this.h,Xa=0==Fb.h?new z:Fb.i[--Fb.h],Bb=this.h,Wa=0==Bb.h?new z:Bb.i[--Bb.h],Cb=this.h,qb=0==Cb.h?new z:Cb.i[--Cb.h],bb=this.h,ib=0==bb.h?new z:bb.i[--bb.h],rb=this.h,db=0==rb.h?new z:rb.i[--rb.h],Db=this.h,jb=0==Db.h?
new z:Db.i[--Db.h],nb=this.h,cb=0==nb.h?new z:nb.i[--nb.h],Jb=Ya;Jb.x=oa.ke;Jb.y=oa.le;Jb.z=oa.me;var Kb=Xa;Kb.x=oa.ne;Kb.y=oa.oe;Kb.z=oa.pe;var F=Wa;F.x=oa.pb;F.y=oa.qb;F.z=oa.rb;var ub=qb;ub.x=oa.Bc;ub.y=oa.Cc;ub.z=oa.Dc;var lb=ib;lb.x=oa.Id;lb.y=oa.Jd;lb.z=oa.Kd;var yb=db;yb.x=oa.cc;yb.y=oa.dc;yb.z=oa.ec;var vb=jb;vb.x=oa.Fd;vb.y=oa.Gd;vb.z=oa.Hd;var eb=cb;eb.x=oa.se;eb.y=oa.te;eb.z=oa.ue;a.line(fb,Ya,a.style.jointLineColor);a.line(pb,Xa,a.style.jointLineColor);if(a.drawJointLimits)switch(oa.Xb){case 1:var Lb=
oa.cg;this.V(a,Ya,qb,ib,jb,a.style.jointRotationalConstraintRadius,Lb.lowerLimit,Lb.upperLimit,a.style.jointLineColor);break;case 2:var mb=oa,zb=a.style.jointLineColor,u=mb.Vh,T=mb.Yh;this.V(a,Xa,qb,ib,jb,a.style.jointRotationalConstraintRadius,u.lowerLimit,u.upperLimit,zb);this.Wb(a,Ya,Wa,T.lowerLimit,T.upperLimit,zb);break;case 3:var R=oa.cg;this.Wb(a,Ya,Wa,R.lowerLimit,R.upperLimit,a.style.jointLineColor);break;case 4:var va=oa,Na=a.style.jointRotationalConstraintRadius,ya=a.style.jointLineColor,
Oa=va.Sh,kb=va.Th;this.V(a,Ya,qb,ib,qb,Na,va.qe-Oa.upperLimit,va.qe-Oa.lowerLimit,ya);this.V(a,Xa,db,jb,db,Na,kb.lowerLimit-va.re,kb.upperLimit-va.re,ya);break;case 5:var sb=oa,Hb=a.style.jointRotationalConstraintRadius,Ba=a.style.jointLineColor,Ta=sb.Zh;this.V(a,Xa,jb,cb,jb,Hb,Ta.lowerLimit-sb.Mg,Ta.upperLimit-sb.Mg,Ba);this.Sc(a,Ya,Wa,qb,ib,sb.hh,sb.ih,Hb,Ba);var sa=this.h,Ga=0==sa.h?new z:sa.i[--sa.h];Ga.x=Xa.x;Ga.y=Xa.y;Ga.z=Xa.z;var Q=Ga;Q.x+=db.x*Hb;Q.y+=db.y*Hb;Q.z+=db.z*Hb;a.line(Xa,Q,Ba);
var Ma=this.h;if(null!=Q){Q.$();if(Ma.h==Ma.i.length){for(var Ia=Array(Ma.h<<1),Eb=0,wb=Ma.h;Eb<wb;){var Mb=Eb++;Ia[Mb]=Ma.i[Mb];Ma.i[Mb]=null}Ma.i=Ia}Ma.i[Ma.h++]=Q}break;case 6:var Ib=oa,Tb=a.style.jointRotationalConstraintRadius,Rb=a.style.jointLineColor,Wb=Ib.Ne[0],mc=Ib.Ne[1],Xb=Ib.Ne[2];this.ce(a,Ya,Wa,qb,ib,Ib.Oe[0],Ib.Oe[1],Ib.Oe[2],Rb);var ic=this.h,bc=0==ic.h?new z:ic.i[--ic.h],$b=bc;$b.x=Ib.Mc;$b.y=Ib.Nc;$b.z=Ib.Oc;var Zb=this.h,Qb=0==Zb.h?new z:Zb.i[--Zb.h];Qb.x=Wa.x;Qb.y=Wa.y;Qb.z=Wa.z;
var jc=Qb,ac=this.h,ec=0==ac.h?new z:ac.i[--ac.h];ec.x=Wa.x;ec.y=Wa.y;ec.z=Wa.z;var Ub=ec,kc=Ub.z*bc.x-Ub.x*bc.z,uc=Ub.x*bc.y-Ub.y*bc.x;Ub.x=Ub.y*bc.z-Ub.z*bc.y;Ub.y=kc;Ub.z=uc;this.V(a,Xa,qb,ib,qb,Tb,Ib.qe-Wb.upperLimit,Ib.qe-Wb.lowerLimit,Rb);this.V(a,Xa,jc,Ub,jc,Tb,mc.lowerLimit-Ib.Df,mc.upperLimit-Ib.Df,Rb);this.V(a,Xa,db,jb,db,Tb,Xb.lowerLimit-Ib.re,Xb.upperLimit-Ib.re,Rb)}a.line(Ya,Xa,a.style.jointErrorColor);var fc=this.h;if(null!=fb){fb.$();if(fc.h==fc.i.length){for(var dd=Array(fc.h<<1),
Nb=0,nc=fc.h;Nb<nc;){var gc=Nb++;dd[gc]=fc.i[gc];fc.i[gc]=null}fc.i=dd}fc.i[fc.h++]=fb}var Vb=this.h;if(null!=pb){pb.$();if(Vb.h==Vb.i.length){for(var lc=Array(Vb.h<<1),ed=0,Bc=Vb.h;ed<Bc;){var Kc=ed++;lc[Kc]=Vb.i[Kc];Vb.i[Kc]=null}Vb.i=lc}Vb.i[Vb.h++]=pb}var zc=this.h;if(null!=Ya){Ya.$();if(zc.h==zc.i.length){for(var Cc=Array(zc.h<<1),sc=0,Lc=zc.h;sc<Lc;){var zd=sc++;Cc[zd]=zc.i[zd];zc.i[zd]=null}zc.i=Cc}zc.i[zc.h++]=Ya}var Rc=this.h;if(null!=Xa){Xa.$();if(Rc.h==Rc.i.length){for(var Wc=Array(Rc.h<<
1),Dc=0,Ec=Rc.h;Dc<Ec;){var od=Dc++;Wc[od]=Rc.i[od];Rc.i[od]=null}Rc.i=Wc}Rc.i[Rc.h++]=Xa}var hc=this.h;if(null!=Wa){Wa.$();if(hc.h==hc.i.length){for(var fd=Array(hc.h<<1),Sc=0,pd=hc.h;Sc<pd;){var Gd=Sc++;fd[Gd]=hc.i[Gd];hc.i[Gd]=null}hc.i=fd}hc.i[hc.h++]=Wa}var Tc=this.h;if(null!=qb){qb.$();if(Tc.h==Tc.i.length){for(var Pd=Array(Tc.h<<1),je=0,De=Tc.h;je<De;){var Kd=je++;Pd[Kd]=Tc.i[Kd];Tc.i[Kd]=null}Tc.i=Pd}Tc.i[Tc.h++]=qb}var Xc=this.h;if(null!=ib){ib.$();if(Xc.h==Xc.i.length){for(var be=Array(Xc.h<<
1),ue=0,Ee=Xc.h;ue<Ee;){var ve=ue++;be[ve]=Xc.i[ve];Xc.i[ve]=null}Xc.i=be}Xc.i[Xc.h++]=ib}var qd=this.h;if(null!=db){db.$();if(qd.h==qd.i.length){for(var ce=Array(qd.h<<1),we=0,ke=qd.h;we<ke;){var le=we++;ce[le]=qd.i[le];qd.i[le]=null}qd.i=ce}qd.i[qd.h++]=db}var Fc=this.h;if(null!=jb){jb.$();if(Fc.h==Fc.i.length){for(var gd=Array(Fc.h<<1),hd=0,Ad=Fc.h;hd<Ad;){var Yc=hd++;gd[Yc]=Fc.i[Yc];Fc.i[Yc]=null}Fc.i=gd}Fc.i[Fc.h++]=jb}var Mc=this.h;if(null!=cb){cb.$();if(Mc.h==Mc.i.length){for(var ug=Array(Mc.h<<
1),vg=0,lh=Mc.h;vg<lh;){var Me=vg++;ug[Me]=Mc.i[Me];Mc.i[Me]=null}Mc.i=ug}Mc.i[Mc.h++]=cb}oa=xb}};tb.prototype.V=function(a,b,e,d,c,f,h,k,g){if(h!=k){var l=this.h;l=0==l.h?new z:l.i[--l.h];l.x=b.x;l.y=b.y;l.z=b.z;l.x+=c.x*f;l.y+=c.y*f;l.z+=c.z*f;a.line(b,l,g);c=this.h;if(null!=l){l.$();if(c.h==c.i.length){for(var m=Array(c.h<<1),n=0,q=c.h;n<q;){var p=n++;m[p]=c.i[p];c.i[p]=null}c.i=m}c.i[c.h++]=l}h>k?a.ellipse(b,e,d,f,f,g):a.arc(b,e,d,f,f,h,k,!0,g)}};tb.prototype.Wb=function(a,b,e,d,c,f){if(d<c){var h=
this.h;h=0==h.h?new z:h.i[--h.h];h.x=b.x;h.y=b.y;h.z=b.z;h.x+=e.x*d;h.y+=e.y*d;h.z+=e.z*d;d=this.h;d=0==d.h?new z:d.i[--d.h];d.x=b.x;d.y=b.y;d.z=b.z;d.x+=e.x*c;d.y+=e.y*c;d.z+=e.z*c;a.line(h,d,f);a=this.h;if(null!=h){h.$();if(a.h==a.i.length){b=Array(a.h<<1);e=0;for(c=a.h;e<c;)f=e++,b[f]=a.i[f],a.i[f]=null;a.i=b}a.i[a.h++]=h}h=this.h;if(null!=d){d.$();if(h.h==h.i.length){a=Array(h.h<<1);b=0;for(e=h.h;b<e;)c=b++,a[c]=h.i[c],h.i[c]=null;h.i=a}h.i[h.h++]=d}}};tb.prototype.ce=function(a,b,e,d,c,f,h,k,
g){var l=f.lowerLimit,m=f.upperLimit;f=h.lowerLimit;var n=h.upperLimit;h=k.lowerLimit;var q=k.upperLimit;k=this.h;0==k.h?new z:--k.h;k=this.h;0==k.h?new z:--k.h;k=this.h;var p=0==k.h?new z:k.i[--k.h];p.x=b.x;p.y=b.y;p.z=b.z;p.x+=e.x*l;p.y+=e.y*l;p.z+=e.z*l;p.x+=d.x*f;p.y+=d.y*f;p.z+=d.z*f;p.x+=c.x*h;p.y+=c.y*h;p.z+=c.z*h;k=this.h;var r=0==k.h?new z:k.i[--k.h];r.x=b.x;r.y=b.y;r.z=b.z;r.x+=e.x*l;r.y+=e.y*l;r.z+=e.z*l;r.x+=d.x*f;r.y+=d.y*f;r.z+=d.z*f;r.x+=c.x*q;r.y+=c.y*q;r.z+=c.z*q;k=this.h;var t=0==
k.h?new z:k.i[--k.h];t.x=b.x;t.y=b.y;t.z=b.z;t.x+=e.x*l;t.y+=e.y*l;t.z+=e.z*l;t.x+=d.x*n;t.y+=d.y*n;t.z+=d.z*n;t.x+=c.x*h;t.y+=c.y*h;t.z+=c.z*h;k=this.h;var x=0==k.h?new z:k.i[--k.h];x.x=b.x;x.y=b.y;x.z=b.z;x.x+=e.x*l;x.y+=e.y*l;x.z+=e.z*l;x.x+=d.x*n;x.y+=d.y*n;x.z+=d.z*n;x.x+=c.x*q;x.y+=c.y*q;x.z+=c.z*q;l=this.h;k=0==l.h?new z:l.i[--l.h];k.x=b.x;k.y=b.y;k.z=b.z;k.x+=e.x*m;k.y+=e.y*m;k.z+=e.z*m;k.x+=d.x*f;k.y+=d.y*f;k.z+=d.z*f;k.x+=c.x*h;k.y+=c.y*h;k.z+=c.z*h;l=this.h;l=0==l.h?new z:l.i[--l.h];l.x=
b.x;l.y=b.y;l.z=b.z;l.x+=e.x*m;l.y+=e.y*m;l.z+=e.z*m;l.x+=d.x*f;l.y+=d.y*f;l.z+=d.z*f;l.x+=c.x*q;l.y+=c.y*q;l.z+=c.z*q;f=this.h;f=0==f.h?new z:f.i[--f.h];f.x=b.x;f.y=b.y;f.z=b.z;f.x+=e.x*m;f.y+=e.y*m;f.z+=e.z*m;f.x+=d.x*n;f.y+=d.y*n;f.z+=d.z*n;f.x+=c.x*h;f.y+=c.y*h;f.z+=c.z*h;h=this.h;h=0==h.h?new z:h.i[--h.h];h.x=b.x;h.y=b.y;h.z=b.z;h.x+=e.x*m;h.y+=e.y*m;h.z+=e.z*m;h.x+=d.x*n;h.y+=d.y*n;h.z+=d.z*n;h.x+=c.x*q;h.y+=c.y*q;h.z+=c.z*q;a.line(p,k,g);a.line(t,f,g);a.line(r,l,g);a.line(x,h,g);a.line(p,t,
g);a.line(k,f,g);a.line(r,x,g);a.line(l,h,g);a.line(p,r,g);a.line(k,l,g);a.line(t,x,g);a.line(f,h,g);a=this.h;if(null!=p){p.$();if(a.h==a.i.length){b=Array(a.h<<1);e=0;for(d=a.h;e<d;)c=e++,b[c]=a.i[c],a.i[c]=null;a.i=b}a.i[a.h++]=p}a=this.h;if(null!=r){r.$();if(a.h==a.i.length){b=Array(a.h<<1);e=0;for(d=a.h;e<d;)c=e++,b[c]=a.i[c],a.i[c]=null;a.i=b}a.i[a.h++]=r}r=this.h;if(null!=t){t.$();if(r.h==r.i.length){a=Array(r.h<<1);b=0;for(e=r.h;b<e;)d=b++,a[d]=r.i[d],r.i[d]=null;r.i=a}r.i[r.h++]=t}t=this.h;
if(null!=x){x.$();if(t.h==t.i.length){r=Array(t.h<<1);a=0;for(b=t.h;a<b;)e=a++,r[e]=t.i[e],t.i[e]=null;t.i=r}t.i[t.h++]=x}x=this.h;if(null!=k){k.$();if(x.h==x.i.length){t=Array(x.h<<1);r=0;for(a=x.h;r<a;)b=r++,t[b]=x.i[b],x.i[b]=null;x.i=t}x.i[x.h++]=k}k=this.h;if(null!=l){l.$();if(k.h==k.i.length){x=Array(k.h<<1);t=0;for(r=k.h;t<r;)a=t++,x[a]=k.i[a],k.i[a]=null;k.i=x}k.i[k.h++]=l}l=this.h;if(null!=f){f.$();if(l.h==l.i.length){k=Array(l.h<<1);x=0;for(t=l.h;x<t;)r=x++,k[r]=l.i[r],l.i[r]=null;l.i=k}l.i[l.h++]=
f}f=this.h;if(null!=h){h.$();if(f.h==f.i.length){l=Array(f.h<<1);k=0;for(x=f.h;k<x;)t=k++,l[t]=f.i[t],f.i[t]=null;f.i=l}f.i[f.h++]=h}};tb.prototype.Sc=function(a,b,e,d,c,f,h,k,g){var l=0,m=this.h,n=0==m.h?new z:m.i[--m.h];m=this.h;var q=0==m.V?new Gb:m.M[--m.V];m=this.h;var p=0==m.I?new ia:m.C[--m.I];m=this.h;m=0==m.h?new z:m.i[--m.h];for(var r=0;17>r;){var t=r++,x=Math.cos(l)*f,v=Math.sin(l)*h,B=Math.sqrt(x*x+v*v),H=Math.sin(.5*B),C=Math.cos(.5*B),N=n.$();N.x+=d.x*x;N.y+=d.y*x;N.z+=d.z*x;N.x+=c.x*
v;N.y+=c.y*v;N.z+=c.z*v;x=1/B*H;n.x*=x;n.y*=x;n.z*=x;q.x=n.x;q.y=n.y;q.z=n.z;q.w=C;var y=q.x,A=q.y;H=q.z;v=q.w;var E=2*y,L=2*A;B=2*H;C=y*E;x=A*L;H*=B;N=y*L;A*=B;y*=B;E*=v;L*=v;v*=B;p.e00=1-x-H;p.e01=N-v;p.e02=y+L;p.e10=N+v;p.e11=1-C-H;p.e12=A-E;p.e20=y-L;p.e21=A+E;p.e22=1-C-x;C=this.h;C=0==C.h?new z:C.i[--C.h];C.x+=e.x*k;C.y+=e.y*k;C.z+=e.z*k;x=C.x*p.e10+C.y*p.e11+C.z*p.e12;v=C.x*p.e20+C.y*p.e21+C.z*p.e22;C.x=C.x*p.e00+C.y*p.e01+C.z*p.e02;C.y=x;C.z=v;C.x+=b.x;C.y+=b.y;C.z+=b.z;1<=t&&a.line(m,C,g);
t=this.h;if(null!=m){m.$();if(t.h==t.i.length){x=Array(t.h<<1);v=0;for(B=t.h;v<B;)H=v++,x[H]=t.i[H],t.i[H]=null;t.i=x}t.i[t.h++]=m}m=C;l+=.39269908169872375}a=this.h;if(null!=n){n.$();if(a.h==a.i.length){b=Array(a.h<<1);e=0;for(d=a.h;e<d;)c=e++,b[c]=a.i[c],a.i[c]=null;a.i=b}a.i[a.h++]=n}n=this.h;if(null!=q){q.x=0;q.y=0;q.z=0;q.w=1;if(n.V==n.M.length){a=Array(n.V<<1);b=0;for(e=n.V;b<e;)d=b++,a[d]=n.M[d],n.M[d]=null;n.M=a}n.M[n.V++]=q}q=this.h;if(null!=p){p.e00=1;p.e01=0;p.e02=0;p.e10=0;p.e11=1;p.e12=
0;p.e20=0;p.e21=0;p.e22=1;if(q.I==q.C.length){n=Array(q.I<<1);a=0;for(b=q.I;a<b;)e=a++,n[e]=q.C[e],q.C[e]=null;q.C=n}q.C[q.I++]=p}p=this.h;if(null!=m){m.$();if(p.h==p.i.length){q=Array(p.h<<1);n=0;for(a=p.h;n<a;)b=n++,q[b]=p.i[b],p.i[b]=null;p.i=q}p.i[p.h++]=m}};tb.prototype.Gb=function(a){0<this.aa.dt&&(this.aa.dtRatio=a/this.aa.dt);this.aa.dt=a;this.aa.invDt=1/a;a=Jh.h()/1E3;this.Va();this.je();ii.totalTime=1E3*(Jh.h()/1E3-a)};tb.prototype.Ie=function(a){if(null!=a.pc)throw Error("A rigid body cannot belong to multiple worlds.");
null==this.I?this.I=a:(this.Oa.U=a,a.sa=this.Oa);this.Oa=a;a.pc=this;for(a=a.vc;null!=a;){var b=a.U;a.Eb=this.nc.eg(a,a.D);a.uc=this.Ci++;this.nf++;a=b}this.Wa++};tb.prototype.hd=function(a){if(a.pc!=this)throw Error("The rigid body doesn't belong to the world.");var b=a.sa,e=a.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a==this.I&&(this.I=this.I.U);a==this.Oa&&(this.Oa=this.Oa.sa);a.U=null;a.sa=null;a.pc=null;for(a=a.vc;null!=a;){b=a.U;this.nc.fg(a.Eb);a.Eb=null;a.uc=-1;for(var d=a.hc.Zb;null!=d;){e=d.U;
var c=d.zd;if(c.ic==a||c.jc==a){d=d.Fc;d.Ob=!1;d.Kb=0;d=this.Xf;var f=c.sa,h=c.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c==d.md&&(d.md=d.md.U);c==d.Nd&&(d.Nd=d.Nd.sa);c.U=null;c.sa=null;c.xd&&(f=c.ic.ld,h=c.jc.ld,f==h&&(h=null),null!=f&&f.endContact(c),null!=h&&h.endContact(c));f=c.Bb.sa;h=c.Bb.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c.Bb==c.J.Zb&&(c.J.Zb=c.J.Zb.U);c.Bb==c.J.oc&&(c.J.oc=c.J.oc.sa);c.Bb.U=null;c.Bb.sa=null;f=c.Cb.sa;h=c.Cb.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c.Cb==c.K.Zb&&(c.K.Zb=c.K.Zb.U);
c.Cb==c.K.oc&&(c.K.oc=c.K.oc.sa);c.Cb.U=null;c.Cb.sa=null;c.J.Pd--;c.K.Pd--;c.Bb.Fc=null;c.Cb.Fc=null;c.Bb.zd=null;c.Cb.zd=null;c.ic=null;c.jc=null;c.J=null;c.K=null;c.xd=!1;c.Eg.de();c.Ra.de();c.Yf=null;f=c.ee;f.ic=null;f.jc=null;f.J=null;f.K=null;f.Jg=null;f.Kg=null;c.U=d.$e;d.$e=c;d.pg--}d=e}this.nf--;a=b}this.Wa--};tb.prototype.He=function(a){if(null!=a.pc)throw Error("A joint cannot belong to multiple worlds.");null==this.Y?this.Y=a:(this.Ma.U=a,a.sa=this.Ma);this.Ma=a;a.pc=this;a.Bb.Fc=a.K;
a.Cb.Fc=a.J;null==a.J.Od?a.J.Od=a.Bb:(a.J.fe.U=a.Bb,a.Bb.sa=a.J.fe);a.J.fe=a.Bb;null==a.K.Od?a.K.Od=a.Cb:(a.K.fe.U=a.Cb,a.Cb.sa=a.K.fe);a.K.fe=a.Cb;a.J.Mf++;a.K.Mf++;var b=a.J;b.Ob=!1;b.Kb=0;b=a.K;b.Ob=!1;b.Kb=0;a.Gc();this.Pb++};tb.prototype.wi=function(a){if(a.pc!=this)throw Error("The joint doesn't belong to the world.");var b=a.sa,e=a.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a==this.Y&&(this.Y=this.Y.U);a==this.Ma&&(this.Ma=this.Ma.sa);a.U=null;a.sa=null;a.pc=null;b=a.Bb.sa;e=a.Bb.U;null!=b&&(b.U=
e);null!=e&&(e.sa=b);a.Bb==a.J.Od&&(a.J.Od=a.J.Od.U);a.Bb==a.J.fe&&(a.J.fe=a.J.fe.sa);a.Bb.U=null;a.Bb.sa=null;b=a.Cb.sa;e=a.Cb.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a.Cb==a.K.Od&&(a.K.Od=a.K.Od.U);a.Cb==a.K.fe&&(a.K.fe=a.K.fe.sa);a.Cb.U=null;a.Cb.sa=null;a.Bb.Fc=null;a.Cb.Fc=null;a.J.Mf--;a.K.Mf--;b=a.J;b.Ob=!1;b.Kb=0;a=a.K;a.Ob=!1;a.Kb=0;this.Pb--};tb.prototype.mg=function(a){this.qa=a};tb.prototype.vf=function(){return this.qa};tb.prototype.sf=function(){null!=this.qa&&(2==this.nc.Xb&&this.ac(this.qa,
this.nc.h),this.Ed(this.qa),this.bc(this.qa))};tb.prototype.yd=function(a,b,e){var d=this.nb.h;d.x=a.x;d.y=a.y;d.z=a.z;d=this.nb.end;d.x=b.x;d.y=b.y;d.z=b.z;this.nb.i=e;this.nc.yd(a,b,this.nb)};tb.prototype.tb=function(a,b,e,d){this.Sa.M=a;var c=this.Sa.h;c.F=b.F;c.G=b.G;c.H=b.H;c.A=b.A;c.j=b.j;c.m=b.m;c.o=b.o;c.v=b.v;c.s=b.s;c.u=b.u;c.l=b.l;c.B=b.B;c=this.Sa.I;c.x=e.x;c.y=e.y;c.z=e.z;this.Sa.i=d;this.nc.aa(a,b,e,this.Sa)};tb.prototype.Xa=function(a,b){this.ob.D.Dd(a);this.ob.h=b;this.nc.Y(a,this.ob)};
tb.prototype.gd=function(){return this.I};tb.prototype.yf=function(){return this.Y};tb.prototype.tf=function(){return this.nc};tb.prototype.uf=function(){return this.Xf};tb.prototype.Af=function(){return this.Wa};tb.prototype.tc=function(){return this.Pb};tb.prototype.Fb=function(){return this.nf};tb.prototype.zf=function(){return this.Ya};tb.prototype.yc=function(){return this.Sb};tb.prototype.Vg=function(a){this.Sb=a};tb.prototype.vd=function(){return this.Rb};tb.prototype.wd=function(a){this.Rb=
a};tb.prototype.wf=function(){return this.Jb};tb.prototype.jd=function(a){var b=this.Jb;b.x=a.x;b.y=a.y;b.z=a.z};rl(Hk,Cj);Hk.prototype.process=function(a){a=a.userData;a.Tb.yd(this.h,this.end,a.g,this.C)&&this.i.process(a,this.C)};rl(Gk,Cj);Gk.prototype.process=function(a){a=a.userData;var b=a.Tb.Xb;0>b||5<b||yc.instance.nb(this.M,a.Tb,this.h,a.g,this.I,this.$,this.C)&&this.i.process(a,this.C)};rl(Fk,Cj);Fk.prototype.process=function(a){a=a.userData;var b=a.D;b.wa<this.D.ta&&b.ta>this.D.wa&&b.xa<
this.D.ua&&b.ua>this.D.xa&&b.ya<this.D.va&&b.va>this.D.ya&&this.h.process(a)};bl.prototype.process=function(){};ak.prototype.beginContact=function(){};ak.prototype.preSolve=function(){};ak.prototype.postSolve=function(){};ak.prototype.endContact=function(){};Ek.prototype.process=function(){};rl(aj,Ek);aj.prototype.clear=function(){this.shape=null;this.fraction=1;this.position.$();this.normal.$();this.hit=!1};aj.prototype.process=function(a,b){if(b.fraction<this.fraction){this.shape=a;this.hit=!0;
this.fraction=b.fraction;a=this.position;var e=b.position;a.x=e.x;a.y=e.y;a.z=e.z;a=this.normal;b=b.normal;a.x=b.x;a.y=b.y;a.z=b.z}};Zf.prototype.aabb=function(a,b,e){var d=this.h,c=(0==d.h?new z:d.i[--d.h]).Ia(a.x,a.y,a.z);d=this.h;var f=(0==d.h?new z:d.i[--d.h]).Ia(a.x,a.y,b.z);d=this.h;var h=(0==d.h?new z:d.i[--d.h]).Ia(a.x,b.y,a.z);d=this.h;var k=(0==d.h?new z:d.i[--d.h]).Ia(a.x,b.y,b.z);d=this.h;var g=(0==d.h?new z:d.i[--d.h]).Ia(b.x,a.y,a.z);d=this.h;d=(0==d.h?new z:d.i[--d.h]).Ia(b.x,a.y,b.z);
var l=this.h;a=(0==l.h?new z:l.i[--l.h]).Ia(b.x,b.y,a.z);l=this.h;b=(0==l.h?new z:l.i[--l.h]).Ia(b.x,b.y,b.z);this.line(c,f,e);this.line(h,k,e);this.line(g,d,e);this.line(a,b,e);this.line(c,h,e);this.line(f,k,e);this.line(g,a,e);this.line(d,b,e);this.line(c,g,e);this.line(f,d,e);this.line(h,a,e);this.line(k,b,e);e=this.h;if(null!=c){c.$();if(e.h==e.i.length){l=Array(e.h<<1);for(var m=0,n=e.h;m<n;){var q=m++;l[q]=e.i[q];e.i[q]=null}e.i=l}e.i[e.h++]=c}c=this.h;if(null!=f){f.$();if(c.h==c.i.length){e=
Array(c.h<<1);l=0;for(m=c.h;l<m;)n=l++,e[n]=c.i[n],c.i[n]=null;c.i=e}c.i[c.h++]=f}f=this.h;if(null!=h){h.$();if(f.h==f.i.length){c=Array(f.h<<1);e=0;for(l=f.h;e<l;)m=e++,c[m]=f.i[m],f.i[m]=null;f.i=c}f.i[f.h++]=h}h=this.h;if(null!=k){k.$();if(h.h==h.i.length){f=Array(h.h<<1);c=0;for(e=h.h;c<e;)l=c++,f[l]=h.i[l],h.i[l]=null;h.i=f}h.i[h.h++]=k}k=this.h;if(null!=g){g.$();if(k.h==k.i.length){h=Array(k.h<<1);f=0;for(c=k.h;f<c;)e=f++,h[e]=k.i[e],k.i[e]=null;k.i=h}k.i[k.h++]=g}g=this.h;if(null!=d){d.$();
if(g.h==g.i.length){k=Array(g.h<<1);h=0;for(f=g.h;h<f;)c=h++,k[c]=g.i[c],g.i[c]=null;g.i=k}g.i[g.h++]=d}d=this.h;if(null!=a){a.$();if(d.h==d.i.length){g=Array(d.h<<1);k=0;for(h=d.h;k<h;)f=k++,g[f]=d.i[f],d.i[f]=null;d.i=g}d.i[d.h++]=a}a=this.h;if(null!=b){b.$();if(a.h==a.i.length){d=Array(a.h<<1);g=0;for(k=a.h;g<k;)h=g++,d[h]=a.i[h],a.i[h]=null;a.i=d}a.i[a.h++]=b}};Zf.prototype.basis=function(a,b,e,d,c){var f=this.h,h=0==f.h?new z:f.i[--f.h];f=this.h;var k=0==f.I?new ia:f.C[--f.I];f=this.h;var g=
0==f.h?new z:f.i[--f.h];f=this.h;var l=0==f.h?new z:f.i[--f.h];f=this.h;f=0==f.h?new z:f.i[--f.h];h.x=a.F;h.y=a.G;h.z=a.H;k.e00=a.A;k.e01=a.j;k.e02=a.m;k.e10=a.o;k.e11=a.v;k.e12=a.s;k.e20=a.u;k.e21=a.l;k.e22=a.B;g.Ia(k.e00,k.e10,k.e20);l.Ia(k.e01,k.e11,k.e21);f.Ia(k.e02,k.e12,k.e22);g.x*=b;g.y*=b;g.z*=b;g.x+=h.x;g.y+=h.y;g.z+=h.z;l.x*=b;l.y*=b;l.z*=b;l.x+=h.x;l.y+=h.y;l.z+=h.z;f.x*=b;f.y*=b;f.z*=b;f.x+=h.x;f.y+=h.y;f.z+=h.z;this.line(h,g,e);this.line(h,l,d);this.line(h,f,c);a=this.h;if(null!=h){h.$();
if(a.h==a.i.length){b=Array(a.h<<1);e=0;for(d=a.h;e<d;)c=e++,b[c]=a.i[c],a.i[c]=null;a.i=b}a.i[a.h++]=h}h=this.h;if(null!=k){k.e00=1;k.e01=0;k.e02=0;k.e10=0;k.e11=1;k.e12=0;k.e20=0;k.e21=0;k.e22=1;if(h.I==h.C.length){a=Array(h.I<<1);b=0;for(e=h.I;b<e;)d=b++,a[d]=h.C[d],h.C[d]=null;h.C=a}h.C[h.I++]=k}k=this.h;if(null!=g){g.$();if(k.h==k.i.length){h=Array(k.h<<1);a=0;for(b=k.h;a<b;)e=a++,h[e]=k.i[e],k.i[e]=null;k.i=h}k.i[k.h++]=g}g=this.h;if(null!=l){l.$();if(g.h==g.i.length){k=Array(g.h<<1);h=0;for(a=
g.h;h<a;)b=h++,k[b]=g.i[b],g.i[b]=null;g.i=k}g.i[g.h++]=l}l=this.h;if(null!=f){f.$();if(l.h==l.i.length){g=Array(l.h<<1);k=0;for(h=l.h;k<h;)a=k++,g[a]=l.i[a],l.i[a]=null;l.i=g}l.i[l.h++]=f}};Zf.prototype.ellipse=function(a,b,e,d,c,f){this.arc(a,b,e,d,c,0,6.28318530717958,!1,f)};Zf.prototype.arc=function(a,b,e,d,c,f,h,k,g){var l=this.h;l=0==l.h?new z:l.i[--l.h];l.x=b.x;l.y=b.y;l.z=b.z;l.x*=d;l.y*=d;l.z*=d;b=this.h;b=0==b.h?new z:b.i[--b.h];b.x=e.x;b.y=e.y;b.z=e.z;b.x*=c;b.y*=c;b.z*=c;e=h-f;0>e&&(e=
-e);d=e/.5235987755982984+.5|0;0==d&&(d=1);e=f;h=(h-f)/d;c=this.h;c=0==c.h?new z:c.i[--c.h];c.x=a.x;c.y=a.y;c.z=a.z;var m=Math.cos(f);c.x+=l.x*m;c.y+=l.y*m;c.z+=l.z*m;f=Math.sin(f);c.x+=b.x*f;c.y+=b.y*f;c.z+=b.z*f;f=c;k&&this.line(a,c,g);for(c=0;c<d;){++c;e+=h;m=this.h;m=0==m.h?new z:m.i[--m.h];m.x=a.x;m.y=a.y;m.z=a.z;var n=Math.cos(e);m.x+=l.x*n;m.y+=l.y*n;m.z+=l.z*n;n=Math.sin(e);m.x+=b.x*n;m.y+=b.y*n;m.z+=b.z*n;this.line(f,m,g);n=this.h;if(null!=f){f.$();if(n.h==n.i.length){for(var q=Array(n.h<<
1),p=0,r=n.h;p<r;){var t=p++;q[t]=n.i[t];n.i[t]=null}n.i=q}n.i[n.h++]=f}f=m}k&&this.line(a,f,g);a=this.h;if(null!=f){f.$();if(a.h==a.i.length){k=Array(a.h<<1);g=0;for(e=a.h;g<e;)h=g++,k[h]=a.i[h],a.i[h]=null;a.i=k}a.i[a.h++]=f}a=this.h;if(null!=l){l.$();if(a.h==a.i.length){k=Array(a.h<<1);g=0;for(e=a.h;g<e;)f=g++,k[f]=a.i[f],a.i[f]=null;a.i=k}a.i[a.h++]=l}l=this.h;if(null!=b){b.$();if(l.h==l.i.length){a=Array(l.h<<1);k=0;for(g=l.h;k<g;)e=k++,a[e]=l.i[e],l.i[e]=null;l.i=a}l.i[l.h++]=b}};Zf.prototype.cone=
function(a,b,e,d){var c=this.h,f=0==c.h?new z:c.i[--c.h],h=this.h,k=0==h.h?new z:h.i[--h.h],g=this.h,l=0==g.h?new z:g.i[--g.h],m=this.h,n=0==m.h?new z:m.i[--m.h],q=this.h,p=0==q.I?new ia:q.C[--q.I];n.x=a.F;n.y=a.G;n.z=a.H;p.e00=a.A;p.e01=a.j;p.e02=a.m;p.e10=a.o;p.e11=a.v;p.e12=a.s;p.e20=a.u;p.e21=a.l;p.e22=a.B;f.Ia(p.e00,p.e10,p.e20);k.Ia(p.e01,p.e11,p.e21);l.Ia(p.e02,p.e12,p.e22);var r=this.h,t=0==r.h?new z:r.i[--r.h];t.x=n.x;t.y=n.y;t.z=n.z;t.x+=k.x*e;t.y+=k.y*e;t.z+=k.z*e;var x=this.h,v=0==x.h?
new z:x.i[--x.h];v.x=n.x;v.y=n.y;v.z=n.z;var B=-e;v.x+=k.x*B;v.y+=k.y*B;v.z+=k.z*B;if(this.wireframe){var H=this.h,C=0==H.h?new z:H.i[--H.h];C.x=v.x;C.y=v.y;C.z=v.z;var N=-b;C.x+=f.x*N;C.y+=f.y*N;C.z+=f.z*N;C.x+=0*l.x;C.y+=0*l.y;C.z+=0*l.z;var y=this.h,A=0==y.h?new z:y.i[--y.h];A.x=v.x;A.y=v.y;A.z=v.z;A.x+=f.x*b;A.y+=f.y*b;A.z+=f.z*b;A.x+=0*l.x;A.y+=0*l.y;A.z+=0*l.z;var E=this.h,L=0==E.h?new z:E.i[--E.h];L.x=v.x;L.y=v.y;L.z=v.z;L.x+=0*f.x;L.y+=0*f.y;L.z+=0*f.z;var G=-b;L.x+=l.x*G;L.y+=l.y*G;L.z+=
l.z*G;var P=this.h,K=0==P.h?new z:P.i[--P.h];K.x=v.x;K.y=v.y;K.z=v.z;K.x+=0*f.x;K.y+=0*f.y;K.z+=0*f.z;K.x+=l.x*b;K.y+=l.y*b;K.z+=l.z*b;this.ellipse(v,f,l,b,b,d);this.line(t,C,d);this.line(t,A,d);this.line(t,L,d);this.line(t,K,d);var pa=this.h;if(null!=C){C.$();if(pa.h==pa.i.length){for(var M=Array(pa.h<<1),Sa=0,Pa=pa.h;Sa<Pa;){var Ca=Sa++;M[Ca]=pa.i[Ca];pa.i[Ca]=null}pa.i=M}pa.i[pa.h++]=C}var Ra=this.h;if(null!=A){A.$();if(Ra.h==Ra.i.length){for(var wa=Array(Ra.h<<1),La=0,Ea=Ra.h;La<Ea;){var O=La++;
wa[O]=Ra.i[O];Ra.i[O]=null}Ra.i=wa}Ra.i[Ra.h++]=A}var ma=this.h;if(null!=L){L.$();if(ma.h==ma.i.length){for(var Y=Array(ma.h<<1),ta=0,Va=ma.h;ta<Va;){var D=ta++;Y[D]=ma.i[D];ma.i[D]=null}ma.i=Y}ma.i[ma.h++]=L}var Aa=this.h;if(null!=K){K.$();if(Aa.h==Aa.i.length){for(var aa=Array(Aa.h<<1),Ua=0,xa=Aa.h;Ua<xa;){var Ja=Ua++;aa[Ja]=Aa.i[Ja];Aa.i[Ja]=null}Aa.i=aa}Aa.i[Aa.h++]=K}}else{for(var S=1/Math.sqrt(b*b+4*e*e),la=2*e*S,qa=b*S,Da=0;8>Da;){var X=Da++,fa=this.I[X],w=this.V[X];fa.x=w.x;fa.y=w.y;fa.z=
w.z;fa.x*=la;fa.y*=la;fa.z*=la;fa.y+=qa;var ja=this.I[X],ea=ja.x*p.e10+ja.y*p.e11+ja.z*p.e12,U=ja.x*p.e20+ja.y*p.e21+ja.z*p.e22;ja.x=ja.x*p.e00+ja.y*p.e01+ja.z*p.e02;ja.y=ea;ja.z=U;var ba=this.C[X],Fa=this.aa[X];ba.x=Fa.x;ba.y=Fa.y;ba.z=Fa.z;ba.x*=la;ba.y*=la;ba.z*=la;ba.y+=qa;var ka=this.C[X],Qa=ka.x*p.e10+ka.y*p.e11+ka.z*p.e12,Ka=ka.x*p.e20+ka.y*p.e21+ka.z*p.e22;ka.x=ka.x*p.e00+ka.y*p.e01+ka.z*p.e02;ka.y=Qa;ka.z=Ka;var V=this.i[X],ob=this.V[X];V.x=ob.x;V.y=ob.y;V.z=ob.z;var Za=V.x*p.e10+V.y*p.e11+
V.z*p.e12,W=V.x*p.e20+V.y*p.e21+V.z*p.e22;V.x=V.x*p.e00+V.y*p.e01+V.z*p.e02;V.y=Za;V.z=W;V.x*=b;V.y*=b;V.z*=b;V.x+=n.x;V.y+=n.y;V.z+=n.z;var ha=this.i[X],I=-e;ha.x+=k.x*I;ha.y+=k.y*I;ha.z+=k.z*I}for(var na=0;8>na;){var ca=na++,da=this.i[ca],Z=this.i[(ca+1)%8],oa=this.C[ca];this.triangle(t,da,Z,oa,this.I[ca],this.I[(ca+1)%8],d);da=this.i[(ca+1)%8];Z=this.i[ca];var xb=this.h,hb=0==xb.h?new z:xb.i[--xb.h];hb.x=k.x;hb.y=k.y;hb.z=k.z;var fb=hb;fb.x=-fb.x;fb.y=-fb.y;fb.z=-fb.z;oa=fb;this.triangle(v,da,
Z,fb,fb,fb,d);var gb=this.h;if(null!=fb){fb.$();if(gb.h==gb.i.length){for(var pb=Array(gb.h<<1),ab=0,$a=gb.h;ab<$a;){var ua=ab++;pb[ua]=gb.i[ua];gb.i[ua]=null}gb.i=pb}gb.i[gb.h++]=fb}}}var Ya=this.h;if(null!=t){t.$();if(Ya.h==Ya.i.length){for(var Fb=Array(Ya.h<<1),Xa=0,Bb=Ya.h;Xa<Bb;){var Wa=Xa++;Fb[Wa]=Ya.i[Wa];Ya.i[Wa]=null}Ya.i=Fb}Ya.i[Ya.h++]=t}var Cb=this.h;if(null!=v){v.$();if(Cb.h==Cb.i.length){for(var qb=Array(Cb.h<<1),bb=0,ib=Cb.h;bb<ib;){var rb=bb++;qb[rb]=Cb.i[rb];Cb.i[rb]=null}Cb.i=qb}Cb.i[Cb.h++]=
v}var db=this.h;if(null!=n){n.$();if(db.h==db.i.length){for(var Db=Array(db.h<<1),jb=0,nb=db.h;jb<nb;){var cb=jb++;Db[cb]=db.i[cb];db.i[cb]=null}db.i=Db}db.i[db.h++]=n}var Jb=this.h;if(null!=p){p.e00=1;p.e01=0;p.e02=0;p.e10=0;p.e11=1;p.e12=0;p.e20=0;p.e21=0;p.e22=1;if(Jb.I==Jb.C.length){for(var Kb=Array(Jb.I<<1),F=0,ub=Jb.I;F<ub;){var lb=F++;Kb[lb]=Jb.C[lb];Jb.C[lb]=null}Jb.C=Kb}Jb.C[Jb.I++]=p}var yb=this.h;if(null!=f){f.$();if(yb.h==yb.i.length){for(var vb=Array(yb.h<<1),eb=0,Lb=yb.h;eb<Lb;){var mb=
eb++;vb[mb]=yb.i[mb];yb.i[mb]=null}yb.i=vb}yb.i[yb.h++]=f}var zb=this.h;if(null!=k){k.$();if(zb.h==zb.i.length){for(var u=Array(zb.h<<1),T=0,R=zb.h;T<R;){var va=T++;u[va]=zb.i[va];zb.i[va]=null}zb.i=u}zb.i[zb.h++]=k}var Na=this.h;if(null!=l){l.$();if(Na.h==Na.i.length){for(var ya=Array(Na.h<<1),Oa=0,kb=Na.h;Oa<kb;){var sb=Oa++;ya[sb]=Na.i[sb];Na.i[sb]=null}Na.i=ya}Na.i[Na.h++]=l}};Zf.prototype.cylinder=function(a,b,e,d){var c=this.h,f=0==c.h?new z:c.i[--c.h],h=this.h,k=0==h.h?new z:h.i[--h.h],g=this.h,
l=0==g.h?new z:g.i[--g.h],m=this.h,n=0==m.h?new z:m.i[--m.h],q=this.h,p=0==q.I?new ia:q.C[--q.I];n.x=a.F;n.y=a.G;n.z=a.H;p.e00=a.A;p.e01=a.j;p.e02=a.m;p.e10=a.o;p.e11=a.v;p.e12=a.s;p.e20=a.u;p.e21=a.l;p.e22=a.B;f.Ia(p.e00,p.e10,p.e20);k.Ia(p.e01,p.e11,p.e21);l.Ia(p.e02,p.e12,p.e22);var r=this.h,t=0==r.h?new z:r.i[--r.h];t.x=n.x;t.y=n.y;t.z=n.z;t.x+=k.x*e;t.y+=k.y*e;t.z+=k.z*e;var x=this.h,v=0==x.h?new z:x.i[--x.h];v.x=n.x;v.y=n.y;v.z=n.z;var B=-e;v.x+=k.x*B;v.y+=k.y*B;v.z+=k.z*B;if(this.wireframe){var H=
this.h,C=0==H.h?new z:H.i[--H.h];C.x=t.x;C.y=t.y;C.z=t.z;var N=-b;C.x+=f.x*N;C.y+=f.y*N;C.z+=f.z*N;C.x+=0*l.x;C.y+=0*l.y;C.z+=0*l.z;var y=this.h,A=0==y.h?new z:y.i[--y.h];A.x=t.x;A.y=t.y;A.z=t.z;A.x+=f.x*b;A.y+=f.y*b;A.z+=f.z*b;A.x+=0*l.x;A.y+=0*l.y;A.z+=0*l.z;var E=this.h,L=0==E.h?new z:E.i[--E.h];L.x=t.x;L.y=t.y;L.z=t.z;L.x+=0*f.x;L.y+=0*f.y;L.z+=0*f.z;var G=-b;L.x+=l.x*G;L.y+=l.y*G;L.z+=l.z*G;var P=this.h,K=0==P.h?new z:P.i[--P.h];K.x=t.x;K.y=t.y;K.z=t.z;K.x+=0*f.x;K.y+=0*f.y;K.z+=0*f.z;K.x+=l.x*
b;K.y+=l.y*b;K.z+=l.z*b;var pa=this.h,M=0==pa.h?new z:pa.i[--pa.h];M.x=v.x;M.y=v.y;M.z=v.z;var Sa=-b;M.x+=f.x*Sa;M.y+=f.y*Sa;M.z+=f.z*Sa;M.x+=0*l.x;M.y+=0*l.y;M.z+=0*l.z;var Pa=this.h,Ca=0==Pa.h?new z:Pa.i[--Pa.h];Ca.x=v.x;Ca.y=v.y;Ca.z=v.z;Ca.x+=f.x*b;Ca.y+=f.y*b;Ca.z+=f.z*b;Ca.x+=0*l.x;Ca.y+=0*l.y;Ca.z+=0*l.z;var Ra=this.h,wa=0==Ra.h?new z:Ra.i[--Ra.h];wa.x=v.x;wa.y=v.y;wa.z=v.z;wa.x+=0*f.x;wa.y+=0*f.y;wa.z+=0*f.z;var La=-b;wa.x+=l.x*La;wa.y+=l.y*La;wa.z+=l.z*La;var Ea=this.h,O=0==Ea.h?new z:Ea.i[--Ea.h];
O.x=v.x;O.y=v.y;O.z=v.z;O.x+=0*f.x;O.y+=0*f.y;O.z+=0*f.z;O.x+=l.x*b;O.y+=l.y*b;O.z+=l.z*b;this.ellipse(t,f,l,b,b,d);this.ellipse(v,f,l,b,b,d);this.line(C,M,d);this.line(A,Ca,d);this.line(L,wa,d);this.line(K,O,d);var ma=this.h;if(null!=C){C.$();if(ma.h==ma.i.length){for(var Y=Array(ma.h<<1),ta=0,Va=ma.h;ta<Va;){var D=ta++;Y[D]=ma.i[D];ma.i[D]=null}ma.i=Y}ma.i[ma.h++]=C}var Aa=this.h;if(null!=A){A.$();if(Aa.h==Aa.i.length){for(var aa=Array(Aa.h<<1),Ua=0,xa=Aa.h;Ua<xa;){var Ja=Ua++;aa[Ja]=Aa.i[Ja];Aa.i[Ja]=
null}Aa.i=aa}Aa.i[Aa.h++]=A}var S=this.h;if(null!=L){L.$();if(S.h==S.i.length){for(var la=Array(S.h<<1),qa=0,Da=S.h;qa<Da;){var X=qa++;la[X]=S.i[X];S.i[X]=null}S.i=la}S.i[S.h++]=L}var fa=this.h;if(null!=K){K.$();if(fa.h==fa.i.length){for(var w=Array(fa.h<<1),ja=0,ea=fa.h;ja<ea;){var U=ja++;w[U]=fa.i[U];fa.i[U]=null}fa.i=w}fa.i[fa.h++]=K}var ba=this.h;if(null!=M){M.$();if(ba.h==ba.i.length){for(var Fa=Array(ba.h<<1),ka=0,Qa=ba.h;ka<Qa;){var Ka=ka++;Fa[Ka]=ba.i[Ka];ba.i[Ka]=null}ba.i=Fa}ba.i[ba.h++]=
M}var V=this.h;if(null!=Ca){Ca.$();if(V.h==V.i.length){for(var ob=Array(V.h<<1),Za=0,W=V.h;Za<W;){var ha=Za++;ob[ha]=V.i[ha];V.i[ha]=null}V.i=ob}V.i[V.h++]=Ca}var I=this.h;if(null!=wa){wa.$();if(I.h==I.i.length){for(var na=Array(I.h<<1),ca=0,da=I.h;ca<da;){var Z=ca++;na[Z]=I.i[Z];I.i[Z]=null}I.i=na}I.i[I.h++]=wa}var oa=this.h;if(null!=O){O.$();if(oa.h==oa.i.length){for(var xb=Array(oa.h<<1),hb=0,fb=oa.h;hb<fb;){var gb=hb++;xb[gb]=oa.i[gb];oa.i[gb]=null}oa.i=xb}oa.i[oa.h++]=O}}else{for(var pb=0;8>
pb;){var ab=pb++,$a=this.I[ab],ua=this.V[ab];$a.x=ua.x;$a.y=ua.y;$a.z=ua.z;var Ya=$a.x*p.e10+$a.y*p.e11+$a.z*p.e12,Fb=$a.x*p.e20+$a.y*p.e21+$a.z*p.e22;$a.x=$a.x*p.e00+$a.y*p.e01+$a.z*p.e02;$a.y=Ya;$a.z=Fb;var Xa=this.C[ab],Bb=this.I[ab];Xa.x=Bb.x;Xa.y=Bb.y;Xa.z=Bb.z;Xa.x*=b;Xa.y*=b;Xa.z*=b;Xa.x+=n.x;Xa.y+=n.y;Xa.z+=n.z;var Wa=this.i[ab],Cb=this.C[ab];Wa.x=Cb.x;Wa.y=Cb.y;Wa.z=Cb.z;var qb=this.C[ab];qb.x+=k.x*e;qb.y+=k.y*e;qb.z+=k.z*e;var bb=this.i[ab],ib=-e;bb.x+=k.x*ib;bb.y+=k.y*ib;bb.z+=k.z*ib}for(var rb=
0;8>rb;){var db=rb++,Db=t,jb=this.C[db],nb=this.C[(db+1)%8],cb=k;this.triangle(t,jb,nb,cb,cb,cb,d);Db=v;jb=this.i[(db+1)%8];nb=this.i[db];var Jb=this.h,Kb=0==Jb.h?new z:Jb.i[--Jb.h];Kb.x=k.x;Kb.y=k.y;Kb.z=k.z;var F=Kb;F.x=-F.x;F.y=-F.y;F.z=-F.z;cb=F;this.triangle(v,jb,nb,F,F,F,d);var ub=this.h;if(null!=F){F.$();if(ub.h==ub.i.length){for(var lb=Array(ub.h<<1),yb=0,vb=ub.h;yb<vb;){var eb=yb++;lb[eb]=ub.i[eb];ub.i[eb]=null}ub.i=lb}ub.i[ub.h++]=F}Db=this.C[db];jb=this.i[db];nb=this.i[(db+1)%8];cb=this.I[db];
var Lb=this.I[(db+1)%8];this.rect(Db,jb,nb,this.C[(db+1)%8],cb,cb,Lb,Lb,d)}}var mb=this.h;if(null!=t){t.$();if(mb.h==mb.i.length){for(var zb=Array(mb.h<<1),u=0,T=mb.h;u<T;){var R=u++;zb[R]=mb.i[R];mb.i[R]=null}mb.i=zb}mb.i[mb.h++]=t}var va=this.h;if(null!=v){v.$();if(va.h==va.i.length){for(var Na=Array(va.h<<1),ya=0,Oa=va.h;ya<Oa;){var kb=ya++;Na[kb]=va.i[kb];va.i[kb]=null}va.i=Na}va.i[va.h++]=v}var sb=this.h;if(null!=n){n.$();if(sb.h==sb.i.length){for(var Hb=Array(sb.h<<1),Ba=0,Ta=sb.h;Ba<Ta;){var sa=
Ba++;Hb[sa]=sb.i[sa];sb.i[sa]=null}sb.i=Hb}sb.i[sb.h++]=n}var Ga=this.h;if(null!=p){p.e00=1;p.e01=0;p.e02=0;p.e10=0;p.e11=1;p.e12=0;p.e20=0;p.e21=0;p.e22=1;if(Ga.I==Ga.C.length){for(var Q=Array(Ga.I<<1),Ma=0,Ia=Ga.I;Ma<Ia;){var Eb=Ma++;Q[Eb]=Ga.C[Eb];Ga.C[Eb]=null}Ga.C=Q}Ga.C[Ga.I++]=p}var wb=this.h;if(null!=f){f.$();if(wb.h==wb.i.length){for(var Mb=Array(wb.h<<1),Ib=0,Tb=wb.h;Ib<Tb;){var Rb=Ib++;Mb[Rb]=wb.i[Rb];wb.i[Rb]=null}wb.i=Mb}wb.i[wb.h++]=f}var Wb=this.h;if(null!=k){k.$();if(Wb.h==Wb.i.length){for(var mc=
Array(Wb.h<<1),Xb=0,ic=Wb.h;Xb<ic;){var bc=Xb++;mc[bc]=Wb.i[bc];Wb.i[bc]=null}Wb.i=mc}Wb.i[Wb.h++]=k}var $b=this.h;if(null!=l){l.$();if($b.h==$b.i.length){for(var Zb=Array($b.h<<1),Qb=0,jc=$b.h;Qb<jc;){var ac=Qb++;Zb[ac]=$b.i[ac];$b.i[ac]=null}$b.i=Zb}$b.i[$b.h++]=l}};Zf.prototype.capsule=function(a,b,e,d){var c=this.h,f=0==c.h?new z:c.i[--c.h],h=this.h,k=0==h.h?new z:h.i[--h.h],g=this.h,l=0==g.h?new z:g.i[--g.h],m=this.h,n=0==m.h?new z:m.i[--m.h],q=this.h,p=0==q.I?new ia:q.C[--q.I];n.x=a.F;n.y=a.G;
n.z=a.H;p.e00=a.A;p.e01=a.j;p.e02=a.m;p.e10=a.o;p.e11=a.v;p.e12=a.s;p.e20=a.u;p.e21=a.l;p.e22=a.B;f.Ia(p.e00,p.e10,p.e20);k.Ia(p.e01,p.e11,p.e21);l.Ia(p.e02,p.e12,p.e22);for(var r=this.M,t=this.Y,x=0;5>x;)for(var v=x++,B=this.M[v].length,H=0;H<B;){var C=H++,N=t[v][C],y=this.W[v][C];N.x=y.x;N.y=y.y;N.z=y.z;var A=N.x*p.e10+N.y*p.e11+N.z*p.e12,E=N.x*p.e20+N.y*p.e21+N.z*p.e22;N.x=N.x*p.e00+N.y*p.e01+N.z*p.e02;N.y=A;N.z=E}for(var L=0;4>L;){var G=L++;if(0==G)for(var P=0;3>P;)for(var K=P++,pa=this.M[K].length,
M=0;M<pa;){var Sa=M++,Pa=r[K][Sa],Ca=t[K][Sa];Pa.x=Ca.x;Pa.y=Ca.y;Pa.z=Ca.z;Pa.x*=b;Pa.y*=b;Pa.z*=b;Pa.x+=n.x;Pa.y+=n.y;Pa.z+=n.z;Pa.x+=k.x*e;Pa.y+=k.y*e;Pa.z+=k.z*e}if(2==G)for(var Ra=2;5>Ra;)for(var wa=Ra++,La=this.M[wa].length,Ea=0;Ea<La;){var O=Ea++,ma=r[wa][O],Y=t[wa][O];ma.x=Y.x;ma.y=Y.y;ma.z=Y.z;ma.x*=b;ma.y*=b;ma.z*=b;ma.x+=n.x;ma.y+=n.y;ma.z+=n.z;var ta=-e;ma.x+=k.x*ta;ma.y+=k.y*ta;ma.z+=k.z*ta}for(var Va=0;8>Va;){var D=Va++,Aa=void 0,aa=void 0,Ua=void 0,xa=void 0,Ja=void 0,S=void 0,la=void 0,
qa=void 0;0==G?this.wireframe?(Aa=r[0][0],aa=r[1][D],this.line(Aa,aa,d)):(Aa=r[0][0],aa=r[1][D],Ua=r[1][(D+1)%8],Ja=t[0][0],S=t[1][D],la=t[1][(D+1)%8],this.triangle(Aa,aa,Ua,Ja,S,la,d)):3==G?this.wireframe?(Aa=r[4][0],aa=r[G][(D+1)%8],Ua=r[G][D],this.line(Aa,aa,d),this.line(aa,Ua,d)):(Aa=r[4][0],aa=r[G][(D+1)%8],Ua=r[G][D],Ja=t[4][0],S=t[G][(D+1)%8],la=t[G][D],this.triangle(Aa,aa,Ua,Ja,S,la,d)):this.wireframe?(Aa=r[G][D],aa=r[G][(D+1)%8],Ua=r[G+1][D],this.line(Aa,aa,d),this.line(Aa,Ua,d)):(Aa=r[G][D],
aa=r[G][(D+1)%8],Ua=r[G+1][D],xa=r[G+1][(D+1)%8],Ja=t[G][D],S=t[G][(D+1)%8],la=t[G+1][D],qa=t[G+1][(D+1)%8],this.rect(Aa,Ua,xa,aa,Ja,la,qa,S,d))}}var Da=this.h,X=0==Da.h?new z:Da.i[--Da.h];X.x=n.x;X.y=n.y;X.z=n.z;X.x+=k.x*e;X.y+=k.y*e;X.z+=k.z*e;var fa=this.h,w=0==fa.h?new z:fa.i[--fa.h];w.x=n.x;w.y=n.y;w.z=n.z;var ja=-e;w.x+=k.x*ja;w.y+=k.y*ja;w.z+=k.z*ja;if(this.wireframe){var ea=this.h,U=0==ea.h?new z:ea.i[--ea.h];U.x=X.x;U.y=X.y;U.z=X.z;var ba=-b;U.x+=f.x*ba;U.y+=f.y*ba;U.z+=f.z*ba;U.x+=0*l.x;
U.y+=0*l.y;U.z+=0*l.z;var Fa=this.h,ka=0==Fa.h?new z:Fa.i[--Fa.h];ka.x=X.x;ka.y=X.y;ka.z=X.z;ka.x+=f.x*b;ka.y+=f.y*b;ka.z+=f.z*b;ka.x+=0*l.x;ka.y+=0*l.y;ka.z+=0*l.z;var Qa=this.h,Ka=0==Qa.h?new z:Qa.i[--Qa.h];Ka.x=X.x;Ka.y=X.y;Ka.z=X.z;Ka.x+=0*f.x;Ka.y+=0*f.y;Ka.z+=0*f.z;var V=-b;Ka.x+=l.x*V;Ka.y+=l.y*V;Ka.z+=l.z*V;var ob=this.h,Za=0==ob.h?new z:ob.i[--ob.h];Za.x=X.x;Za.y=X.y;Za.z=X.z;Za.x+=0*f.x;Za.y+=0*f.y;Za.z+=0*f.z;Za.x+=l.x*b;Za.y+=l.y*b;Za.z+=l.z*b;var W=this.h,ha=0==W.h?new z:W.i[--W.h];ha.x=
w.x;ha.y=w.y;ha.z=w.z;var I=-b;ha.x+=f.x*I;ha.y+=f.y*I;ha.z+=f.z*I;ha.x+=0*l.x;ha.y+=0*l.y;ha.z+=0*l.z;var na=this.h,ca=0==na.h?new z:na.i[--na.h];ca.x=w.x;ca.y=w.y;ca.z=w.z;ca.x+=f.x*b;ca.y+=f.y*b;ca.z+=f.z*b;ca.x+=0*l.x;ca.y+=0*l.y;ca.z+=0*l.z;var da=this.h,Z=0==da.h?new z:da.i[--da.h];Z.x=w.x;Z.y=w.y;Z.z=w.z;Z.x+=0*f.x;Z.y+=0*f.y;Z.z+=0*f.z;var oa=-b;Z.x+=l.x*oa;Z.y+=l.y*oa;Z.z+=l.z*oa;var xb=this.h,hb=0==xb.h?new z:xb.i[--xb.h];hb.x=w.x;hb.y=w.y;hb.z=w.z;hb.x+=0*f.x;hb.y+=0*f.y;hb.z+=0*f.z;hb.x+=
l.x*b;hb.y+=l.y*b;hb.z+=l.z*b;this.ellipse(X,f,l,b,b,d);this.ellipse(w,f,l,b,b,d);this.line(U,ha,d);this.line(ka,ca,d);this.line(Ka,Z,d);this.line(Za,hb,d);var fb=this.h;if(null!=U){U.$();if(fb.h==fb.i.length){for(var gb=Array(fb.h<<1),pb=0,ab=fb.h;pb<ab;){var $a=pb++;gb[$a]=fb.i[$a];fb.i[$a]=null}fb.i=gb}fb.i[fb.h++]=U}var ua=this.h;if(null!=ka){ka.$();if(ua.h==ua.i.length){for(var Ya=Array(ua.h<<1),Fb=0,Xa=ua.h;Fb<Xa;){var Bb=Fb++;Ya[Bb]=ua.i[Bb];ua.i[Bb]=null}ua.i=Ya}ua.i[ua.h++]=ka}var Wa=this.h;
if(null!=Ka){Ka.$();if(Wa.h==Wa.i.length){for(var Cb=Array(Wa.h<<1),qb=0,bb=Wa.h;qb<bb;){var ib=qb++;Cb[ib]=Wa.i[ib];Wa.i[ib]=null}Wa.i=Cb}Wa.i[Wa.h++]=Ka}var rb=this.h;if(null!=Za){Za.$();if(rb.h==rb.i.length){for(var db=Array(rb.h<<1),Db=0,jb=rb.h;Db<jb;){var nb=Db++;db[nb]=rb.i[nb];rb.i[nb]=null}rb.i=db}rb.i[rb.h++]=Za}var cb=this.h;if(null!=ha){ha.$();if(cb.h==cb.i.length){for(var Jb=Array(cb.h<<1),Kb=0,F=cb.h;Kb<F;){var ub=Kb++;Jb[ub]=cb.i[ub];cb.i[ub]=null}cb.i=Jb}cb.i[cb.h++]=ha}var lb=this.h;
if(null!=ca){ca.$();if(lb.h==lb.i.length){for(var yb=Array(lb.h<<1),vb=0,eb=lb.h;vb<eb;){var Lb=vb++;yb[Lb]=lb.i[Lb];lb.i[Lb]=null}lb.i=yb}lb.i[lb.h++]=ca}var mb=this.h;if(null!=Z){Z.$();if(mb.h==mb.i.length){for(var zb=Array(mb.h<<1),u=0,T=mb.h;u<T;){var R=u++;zb[R]=mb.i[R];mb.i[R]=null}mb.i=zb}mb.i[mb.h++]=Z}var va=this.h;if(null!=hb){hb.$();if(va.h==va.i.length){for(var Na=Array(va.h<<1),ya=0,Oa=va.h;ya<Oa;){var kb=ya++;Na[kb]=va.i[kb];va.i[kb]=null}va.i=Na}va.i[va.h++]=hb}}else{for(var sb=0;8>
sb;){var Hb=sb++,Ba=this.I[Hb],Ta=this.V[Hb];Ba.x=Ta.x;Ba.y=Ta.y;Ba.z=Ta.z;var sa=Ba.x*p.e10+Ba.y*p.e11+Ba.z*p.e12,Ga=Ba.x*p.e20+Ba.y*p.e21+Ba.z*p.e22;Ba.x=Ba.x*p.e00+Ba.y*p.e01+Ba.z*p.e02;Ba.y=sa;Ba.z=Ga;var Q=this.C[Hb],Ma=this.I[Hb];Q.x=Ma.x;Q.y=Ma.y;Q.z=Ma.z;Q.x*=b;Q.y*=b;Q.z*=b;Q.x+=n.x;Q.y+=n.y;Q.z+=n.z;var Ia=this.i[Hb],Eb=this.C[Hb];Ia.x=Eb.x;Ia.y=Eb.y;Ia.z=Eb.z;var wb=this.C[Hb];wb.x+=k.x*e;wb.y+=k.y*e;wb.z+=k.z*e;var Mb=this.i[Hb],Ib=-e;Mb.x+=k.x*Ib;Mb.y+=k.y*Ib;Mb.z+=k.z*Ib}for(var Tb=
0;8>Tb;){var Rb=Tb++,Wb=this.I[Rb],mc=this.I[(Rb+1)%8];this.rect(this.C[Rb],this.i[Rb],this.i[(Rb+1)%8],this.C[(Rb+1)%8],Wb,Wb,mc,mc,d)}}var Xb=this.h;if(null!=X){X.$();if(Xb.h==Xb.i.length){for(var ic=Array(Xb.h<<1),bc=0,$b=Xb.h;bc<$b;){var Zb=bc++;ic[Zb]=Xb.i[Zb];Xb.i[Zb]=null}Xb.i=ic}Xb.i[Xb.h++]=X}var Qb=this.h;if(null!=w){w.$();if(Qb.h==Qb.i.length){for(var jc=Array(Qb.h<<1),ac=0,ec=Qb.h;ac<ec;){var Ub=ac++;jc[Ub]=Qb.i[Ub];Qb.i[Ub]=null}Qb.i=jc}Qb.i[Qb.h++]=w}var kc=this.h;if(null!=n){n.$();
if(kc.h==kc.i.length){for(var uc=Array(kc.h<<1),fc=0,dd=kc.h;fc<dd;){var Nb=fc++;uc[Nb]=kc.i[Nb];kc.i[Nb]=null}kc.i=uc}kc.i[kc.h++]=n}var nc=this.h;if(null!=p){p.e00=1;p.e01=0;p.e02=0;p.e10=0;p.e11=1;p.e12=0;p.e20=0;p.e21=0;p.e22=1;if(nc.I==nc.C.length){for(var gc=Array(nc.I<<1),Vb=0,lc=nc.I;Vb<lc;){var ed=Vb++;gc[ed]=nc.C[ed];nc.C[ed]=null}nc.C=gc}nc.C[nc.I++]=p}var Bc=this.h;if(null!=f){f.$();if(Bc.h==Bc.i.length){for(var Kc=Array(Bc.h<<1),zc=0,Cc=Bc.h;zc<Cc;){var sc=zc++;Kc[sc]=Bc.i[sc];Bc.i[sc]=
null}Bc.i=Kc}Bc.i[Bc.h++]=f}var Lc=this.h;if(null!=k){k.$();if(Lc.h==Lc.i.length){for(var zd=Array(Lc.h<<1),Rc=0,Wc=Lc.h;Rc<Wc;){var Dc=Rc++;zd[Dc]=Lc.i[Dc];Lc.i[Dc]=null}Lc.i=zd}Lc.i[Lc.h++]=k}var Ec=this.h;if(null!=l){l.$();if(Ec.h==Ec.i.length){for(var od=Array(Ec.h<<1),hc=0,fd=Ec.h;hc<fd;){var Sc=hc++;od[Sc]=Ec.i[Sc];Ec.i[Sc]=null}Ec.i=od}Ec.i[Ec.h++]=l}};Zf.prototype.sphere=function(a,b,e){var d=this.h,c=0==d.h?new z:d.i[--d.h];d=this.h;d=0==d.I?new ia:d.C[--d.I];c.x=a.F;c.y=a.G;c.z=a.H;d.e00=
a.A;d.e01=a.j;d.e02=a.m;d.e10=a.o;d.e11=a.v;d.e12=a.s;d.e20=a.u;d.e21=a.l;d.e22=a.B;a=this.M;for(var f=this.Y,h=0;5>h;)for(var k=h++,g=this.M[k].length,l=0;l<g;){var m=l++,n=f[k][m],q=this.W[k][m];n.x=q.x;n.y=q.y;n.z=q.z;q=n.x*d.e10+n.y*d.e11+n.z*d.e12;var p=n.x*d.e20+n.y*d.e21+n.z*d.e22;n.x=n.x*d.e00+n.y*d.e01+n.z*d.e02;n.y=q;n.z=p;n=a[k][m];m=f[k][m];n.x=m.x;n.y=m.y;n.z=m.z;n.x*=b;n.y*=b;n.z*=b;n.x+=c.x;n.y+=c.y;n.z+=c.z}for(b=0;4>b;)for(h=b++,k=0;8>k;){var r=k++;if(0==h)if(this.wireframe)g=a[0][0],
l=a[1][r],this.line(g,l,e);else{g=a[0][0];l=a[1][r];m=a[1][(r+1)%8];q=f[0][0];p=f[1][r];var t=f[1][(r+1)%8];this.triangle(g,l,m,q,p,t,e)}else 3==h?this.wireframe?(g=a[4][0],l=a[h][(r+1)%8],m=a[h][r],this.line(g,l,e),this.line(l,m,e)):(g=a[4][0],l=a[h][(r+1)%8],m=a[h][r],q=f[4][0],p=f[h][(r+1)%8],t=f[h][r],this.triangle(g,l,m,q,p,t,e)):this.wireframe?(g=a[h][r],l=a[h][(r+1)%8],m=a[h+1][r],this.line(g,l,e),this.line(g,m,e)):(g=a[h][r],l=a[h][(r+1)%8],m=a[h+1][r],n=a[h+1][(r+1)%8],q=f[h][r],p=f[h][(r+
1)%8],t=f[h+1][r],r=f[h+1][(r+1)%8],this.rect(g,m,n,l,q,t,r,p,e))}e=this.h;if(null!=c){c.$();if(e.h==e.i.length){a=Array(e.h<<1);f=0;for(b=e.h;f<b;)h=f++,a[h]=e.i[h],e.i[h]=null;e.i=a}e.i[e.h++]=c}c=this.h;if(null!=d){d.e00=1;d.e01=0;d.e02=0;d.e10=0;d.e11=1;d.e12=0;d.e20=0;d.e21=0;d.e22=1;if(c.I==c.C.length){e=Array(c.I<<1);a=0;for(f=c.I;a<f;)b=a++,e[b]=c.C[b],c.C[b]=null;c.C=e}c.C[c.I++]=d}};Zf.prototype.box=function(a,b,e){var d=this.h,c=0==d.h?new z:d.i[--d.h],f=this.h,h=0==f.h?new z:f.i[--f.h],
k=this.h,g=0==k.h?new z:k.i[--k.h],l=this.h,m=0==l.h?new z:l.i[--l.h],n=this.h,q=0==n.I?new ia:n.C[--n.I];m.x=a.F;m.y=a.G;m.z=a.H;q.e00=a.A;q.e01=a.j;q.e02=a.m;q.e10=a.o;q.e11=a.v;q.e12=a.s;q.e20=a.u;q.e21=a.l;q.e22=a.B;c.Ia(q.e00,q.e10,q.e20);h.Ia(q.e01,q.e11,q.e21);g.Ia(q.e02,q.e12,q.e22);var p=b.x,r=b.y,t=b.z,x=this.h,v=0==x.h?new z:x.i[--x.h];v.x=m.x;v.y=m.y;v.z=m.z;var B=-p;v.x+=c.x*B;v.y+=c.y*B;v.z+=c.z*B;var H=-r;v.x+=h.x*H;v.y+=h.y*H;v.z+=h.z*H;var C=-t;v.x+=g.x*C;v.y+=g.y*C;v.z+=g.z*C;var N=
this.h,y=0==N.h?new z:N.i[--N.h];y.x=m.x;y.y=m.y;y.z=m.z;var A=-p;y.x+=c.x*A;y.y+=c.y*A;y.z+=c.z*A;var E=-r;y.x+=h.x*E;y.y+=h.y*E;y.z+=h.z*E;y.x+=g.x*t;y.y+=g.y*t;y.z+=g.z*t;var L=this.h,G=0==L.h?new z:L.i[--L.h];G.x=m.x;G.y=m.y;G.z=m.z;var P=-p;G.x+=c.x*P;G.y+=c.y*P;G.z+=c.z*P;G.x+=h.x*r;G.y+=h.y*r;G.z+=h.z*r;var K=-t;G.x+=g.x*K;G.y+=g.y*K;G.z+=g.z*K;var pa=this.h,M=0==pa.h?new z:pa.i[--pa.h];M.x=m.x;M.y=m.y;M.z=m.z;var Sa=-p;M.x+=c.x*Sa;M.y+=c.y*Sa;M.z+=c.z*Sa;M.x+=h.x*r;M.y+=h.y*r;M.z+=h.z*r;M.x+=
g.x*t;M.y+=g.y*t;M.z+=g.z*t;var Pa=this.h,Ca=0==Pa.h?new z:Pa.i[--Pa.h];Ca.x=m.x;Ca.y=m.y;Ca.z=m.z;Ca.x+=c.x*p;Ca.y+=c.y*p;Ca.z+=c.z*p;var Ra=-r;Ca.x+=h.x*Ra;Ca.y+=h.y*Ra;Ca.z+=h.z*Ra;var wa=-t;Ca.x+=g.x*wa;Ca.y+=g.y*wa;Ca.z+=g.z*wa;var La=this.h,Ea=0==La.h?new z:La.i[--La.h];Ea.x=m.x;Ea.y=m.y;Ea.z=m.z;Ea.x+=c.x*p;Ea.y+=c.y*p;Ea.z+=c.z*p;var O=-r;Ea.x+=h.x*O;Ea.y+=h.y*O;Ea.z+=h.z*O;Ea.x+=g.x*t;Ea.y+=g.y*t;Ea.z+=g.z*t;var ma=this.h,Y=0==ma.h?new z:ma.i[--ma.h];Y.x=m.x;Y.y=m.y;Y.z=m.z;Y.x+=c.x*p;Y.y+=
c.y*p;Y.z+=c.z*p;Y.x+=h.x*r;Y.y+=h.y*r;Y.z+=h.z*r;var ta=-t;Y.x+=g.x*ta;Y.y+=g.y*ta;Y.z+=g.z*ta;var Va=this.h,D=0==Va.h?new z:Va.i[--Va.h];D.x=m.x;D.y=m.y;D.z=m.z;D.x+=c.x*p;D.y+=c.y*p;D.z+=c.z*p;D.x+=h.x*r;D.y+=h.y*r;D.z+=h.z*r;D.x+=g.x*t;D.y+=g.y*t;D.z+=g.z*t;if(this.wireframe)this.line(v,y,e),this.line(G,M,e),this.line(Ca,Ea,e),this.line(Y,D,e),this.line(v,G,e),this.line(y,M,e),this.line(Ca,Y,e),this.line(Ea,D,e),this.line(v,Ca,e),this.line(y,Ea,e),this.line(G,Y,e),this.line(M,D,e);else{var Aa=
this.h,aa=0==Aa.h?new z:Aa.i[--Aa.h];aa.x=c.x;aa.y=c.y;aa.z=c.z;aa.x=-aa.x;aa.y=-aa.y;aa.z=-aa.z;var Ua=this.h,xa=0==Ua.h?new z:Ua.i[--Ua.h];xa.x=h.x;xa.y=h.y;xa.z=h.z;xa.x=-xa.x;xa.y=-xa.y;xa.z=-xa.z;var Ja=this.h,S=0==Ja.h?new z:Ja.i[--Ja.h];S.x=g.x;S.y=g.y;S.z=g.z;S.x=-S.x;S.y=-S.y;S.z=-S.z;this.rect(v,y,M,G,aa,aa,aa,aa,e);this.rect(Ca,Y,D,Ea,c,c,c,c,e);this.rect(v,Ca,Ea,y,xa,xa,xa,xa,e);this.rect(G,M,D,Y,h,h,h,h,e);this.rect(v,G,Y,Ca,S,S,S,S,e);this.rect(y,Ea,D,M,g,g,g,g,e);var la=this.h;if(null!=
aa){aa.$();if(la.h==la.i.length){for(var qa=Array(la.h<<1),Da=0,X=la.h;Da<X;){var fa=Da++;qa[fa]=la.i[fa];la.i[fa]=null}la.i=qa}la.i[la.h++]=aa}var w=this.h;if(null!=xa){xa.$();if(w.h==w.i.length){for(var ja=Array(w.h<<1),ea=0,U=w.h;ea<U;){var ba=ea++;ja[ba]=w.i[ba];w.i[ba]=null}w.i=ja}w.i[w.h++]=xa}var Fa=this.h;if(null!=S){S.$();if(Fa.h==Fa.i.length){for(var ka=Array(Fa.h<<1),Qa=0,Ka=Fa.h;Qa<Ka;){var V=Qa++;ka[V]=Fa.i[V];Fa.i[V]=null}Fa.i=ka}Fa.i[Fa.h++]=S}}var ob=this.h;if(null!=v){v.$();if(ob.h==
ob.i.length){for(var Za=Array(ob.h<<1),W=0,ha=ob.h;W<ha;){var I=W++;Za[I]=ob.i[I];ob.i[I]=null}ob.i=Za}ob.i[ob.h++]=v}var na=this.h;if(null!=y){y.$();if(na.h==na.i.length){for(var ca=Array(na.h<<1),da=0,Z=na.h;da<Z;){var oa=da++;ca[oa]=na.i[oa];na.i[oa]=null}na.i=ca}na.i[na.h++]=y}var xb=this.h;if(null!=G){G.$();if(xb.h==xb.i.length){for(var hb=Array(xb.h<<1),fb=0,gb=xb.h;fb<gb;){var pb=fb++;hb[pb]=xb.i[pb];xb.i[pb]=null}xb.i=hb}xb.i[xb.h++]=G}var ab=this.h;if(null!=M){M.$();if(ab.h==ab.i.length){for(var $a=
Array(ab.h<<1),ua=0,Ya=ab.h;ua<Ya;){var Fb=ua++;$a[Fb]=ab.i[Fb];ab.i[Fb]=null}ab.i=$a}ab.i[ab.h++]=M}var Xa=this.h;if(null!=Ca){Ca.$();if(Xa.h==Xa.i.length){for(var Bb=Array(Xa.h<<1),Wa=0,Cb=Xa.h;Wa<Cb;){var qb=Wa++;Bb[qb]=Xa.i[qb];Xa.i[qb]=null}Xa.i=Bb}Xa.i[Xa.h++]=Ca}var bb=this.h;if(null!=Ea){Ea.$();if(bb.h==bb.i.length){for(var ib=Array(bb.h<<1),rb=0,db=bb.h;rb<db;){var Db=rb++;ib[Db]=bb.i[Db];bb.i[Db]=null}bb.i=ib}bb.i[bb.h++]=Ea}var jb=this.h;if(null!=Y){Y.$();if(jb.h==jb.i.length){for(var nb=
Array(jb.h<<1),cb=0,Jb=jb.h;cb<Jb;){var Kb=cb++;nb[Kb]=jb.i[Kb];jb.i[Kb]=null}jb.i=nb}jb.i[jb.h++]=Y}var F=this.h;if(null!=D){D.$();if(F.h==F.i.length){for(var ub=Array(F.h<<1),lb=0,yb=F.h;lb<yb;){var vb=lb++;ub[vb]=F.i[vb];F.i[vb]=null}F.i=ub}F.i[F.h++]=D}var eb=this.h;if(null!=m){m.$();if(eb.h==eb.i.length){for(var Lb=Array(eb.h<<1),mb=0,zb=eb.h;mb<zb;){var u=mb++;Lb[u]=eb.i[u];eb.i[u]=null}eb.i=Lb}eb.i[eb.h++]=m}var T=this.h;if(null!=q){q.e00=1;q.e01=0;q.e02=0;q.e10=0;q.e11=1;q.e12=0;q.e20=0;q.e21=
0;q.e22=1;if(T.I==T.C.length){for(var R=Array(T.I<<1),va=0,Na=T.I;va<Na;){var ya=va++;R[ya]=T.C[ya];T.C[ya]=null}T.C=R}T.C[T.I++]=q}var Oa=this.h;if(null!=c){c.$();if(Oa.h==Oa.i.length){for(var kb=Array(Oa.h<<1),sb=0,Hb=Oa.h;sb<Hb;){var Ba=sb++;kb[Ba]=Oa.i[Ba];Oa.i[Ba]=null}Oa.i=kb}Oa.i[Oa.h++]=c}var Ta=this.h;if(null!=h){h.$();if(Ta.h==Ta.i.length){for(var sa=Array(Ta.h<<1),Ga=0,Q=Ta.h;Ga<Q;){var Ma=Ga++;sa[Ma]=Ta.i[Ma];Ta.i[Ma]=null}Ta.i=sa}Ta.i[Ta.h++]=h}var Ia=this.h;if(null!=g){g.$();if(Ia.h==
Ia.i.length){for(var Eb=Array(Ia.h<<1),wb=0,Mb=Ia.h;wb<Mb;){var Ib=wb++;Eb[Ib]=Ia.i[Ib];Ia.i[Ib]=null}Ia.i=Eb}Ia.i[Ia.h++]=g}};Zf.prototype.rect=function(a,b,e,d,c,f,h,k,g){this.triangle(a,b,e,c,f,h,g);this.triangle(a,e,d,c,h,k,g)};Zf.prototype.point=function(){};Zf.prototype.triangle=function(){};Zf.prototype.line=function(){};bd.prototype.Rf=function(){};bd.prototype.Wf=function(){};bd.prototype.Vf=function(){};bd.prototype.rg=function(){};bd.prototype.Bf=function(){};bd.prototype.Uf=function(){};
bd.prototype.Tf=function(){};bd.prototype.postSolve=function(){};af.prototype.nd=function(a,b){b.Yd=this.J;b.Zd=this.K;var e=this.Ra.kf;var d=this.Ra.lf;var c=this.Ra.mf;var f=this.Ra.Gg;var h=this.Ra.Hg;var k=this.Ra.Ig;var g=this.Ra.Bg;var l=this.Ra.Cg;var m=this.Ra.Dg;for(var n=Math.sqrt(this.ic.dh*this.jc.dh),q=Math.sqrt(this.ic.kh*this.jc.kh),p=this.Ra.Bd,r=b.La=0;r<p;){var t=this.Ra.rc[r++];if(0>t.zc)t.ve=!0,t=t.Ad,t.Hc=0,t.xc=0,t.wc=0,t.Hb=0,t.ge=0,t.he=0,t.ie=0;else{t.ve=!1;var x=b.rows[b.La++];
x.friction=n;x.Ua=0;var v=x.Ve;v.Ba=e;v.Ca=d;v.Da=c;v.Fa=e;v.Ga=d;v.Ha=c;v.ka=t.Mb*c-t.Nb*d;v.la=t.Nb*e-t.Lb*c;v.ma=t.Lb*d-t.Mb*e;v.na=t.lc*c-t.mc*d;v.oa=t.mc*e-t.kc*c;v.pa=t.kc*d-t.lc*e;v=x.Ug;v.Ba=f;v.Ca=h;v.Da=k;v.Fa=f;v.Ga=h;v.Ha=k;v.ka=t.Mb*k-t.Nb*h;v.la=t.Nb*f-t.Lb*k;v.ma=t.Lb*h-t.Mb*f;v.na=t.lc*k-t.mc*h;v.oa=t.mc*f-t.kc*k;v.pa=t.kc*h-t.lc*f;v=x.Tg;v.Ba=g;v.Ca=l;v.Da=m;v.Fa=g;v.Ga=l;v.Ha=m;v.ka=t.Mb*m-t.Nb*l;v.la=t.Nb*g-t.Lb*m;v.ma=t.Lb*l-t.Mb*g;v.na=t.lc*m-t.mc*l;v.oa=t.mc*g-t.kc*m;v.pa=t.kc*
l-t.lc*g;v=x.Ve;v=v.Ba*this.J.ub+v.Ca*this.J.vb+v.Da*this.J.wb+(v.ka*this.J.xb+v.la*this.J.yb+v.ma*this.J.zb)-(v.Fa*this.K.ub+v.Ga*this.K.vb+v.Ha*this.K.wb+(v.na*this.K.xb+v.oa*this.K.yb+v.pa*this.K.zb));x.Na=v<-ra.contactEnableBounceThreshold&&!t.Xd?-v*q:0;this.pf==Fh.BAUMGARTE&&t.zc>ra.linearSlop&&(v=(t.zc-ra.linearSlop)*ra.velocityBaumgarte*a.invDt,x.Na<v&&(x.Na=v));t.Xd||(v=t.Ad,v.Hc=0,v.xc=0,v.wc=0,v.Hb=0,v.ge=0,v.he=0,v.ie=0);x.Aa=t.Ad}}};af.prototype.Ec=function(a){a.Yd=this.J;a.Zd=this.K;
var b=this.Ra.kf;var e=this.Ra.lf;var d=this.Ra.mf;for(var c=this.Ra.Bd,f=a.La=0;f<c;){var h=this.Ra.rc[f++];if(!h.ve){var k=a.rows[a.La++],g=k.Ve;g.Ba=b;g.Ca=e;g.Da=d;g.Fa=b;g.Ga=e;g.Ha=d;g.ka=h.Mb*d-h.Nb*e;g.la=h.Nb*b-h.Lb*d;g.ma=h.Lb*e-h.Mb*b;g.na=h.lc*d-h.mc*e;g.oa=h.mc*b-h.kc*d;g.pa=h.kc*e-h.lc*b;k.Na=h.zc-ra.linearSlop;0>k.Na&&(k.Na=0);k.Aa=h.Ad}}};af.prototype.Wh=function(){this.Ra.Di(this.Jg,this.Kg)};af.prototype.i=function(){return this.ic};af.prototype.C=function(){return this.jc};af.prototype.h=
function(){return this.Ra};af.prototype.th=function(){for(var a=0,b=this.Ra.Bd;a<b;)if(0<=this.Ra.rc[a++].zc)return!0;return!1};$k.prototype.Dd=function(a){this.Hc=a.Hc;this.xc=a.xc;this.wc=a.wc;this.ge=a.ge;this.he=a.he;this.ie=a.ie};nd.prototype.de=function(){for(var a=0,b=this.Bd;a<b;){var e=this.rc[a++];e.we=0;e.xe=0;e.ye=0;e.ze=0;e.Ae=0;e.Be=0;e.Lb=0;e.Mb=0;e.Nb=0;e.kc=0;e.lc=0;e.mc=0;e.od=0;e.pd=0;e.qd=0;e.rd=0;e.sd=0;e.td=0;e.zc=0;var d=e.Ad;d.Hc=0;d.xc=0;d.wc=0;d.Hb=0;d.ge=0;d.he=0;d.ie=0;
e.Xd=!1;e.ve=!1;e.uc=-1}this.Bd=0};nd.prototype.h=function(a){this.kf=a.x;this.lf=a.y;this.mf=a.z;var b=a.x,e=a.y;a=a.z;var d=b*b,c=e*e,f=a*a;if(d<c)if(d<f){f=1/Math.sqrt(c+f);d=0;c=-a*f;f*=e;var h=e*f-a*c;a=-b*f;b*=c}else c=1/Math.sqrt(d+c),d=-e*c,c*=b,f=0,h=-a*c,a*=d,b=b*c-e*d;else c<f?(f=1/Math.sqrt(d+f),d=a*f,c=0,f*=-b,h=e*f,a=a*d-b*f,b=-e*d):(c=1/Math.sqrt(d+c),d=-e*c,c*=b,f=0,h=-a*c,a*=d,b=b*c-e*d);this.Gg=d;this.Hg=c;this.Ig=f;this.Bg=h;this.Cg=a;this.Dg=b};nd.prototype.Di=function(a,b){for(var e=
0,d=this.Bd;e<d;){var c=this.rc[e++];var f=a.A*c.we+a.j*c.xe+a.m*c.ye;var h=a.o*c.we+a.v*c.xe+a.s*c.ye;var k=a.u*c.we+a.l*c.xe+a.B*c.ye;c.Lb=f;c.Mb=h;c.Nb=k;f=b.A*c.ze+b.j*c.Ae+b.m*c.Be;h=b.o*c.ze+b.v*c.Ae+b.s*c.Be;k=b.u*c.ze+b.l*c.Ae+b.B*c.Be;c.kc=f;c.lc=h;c.mc=k;c.od=c.Lb+a.F;c.pd=c.Mb+a.G;c.qd=c.Nb+a.H;c.rd=c.kc+b.F;c.sd=c.lc+b.G;c.td=c.mc+b.H;c.zc=-((c.od-c.rd)*this.kf+(c.pd-c.sd)*this.lf+(c.qd-c.td)*this.mf)}};nd.prototype.I=function(){var a=new z;a.x=this.kf;a.y=this.lf;a.z=this.mf;return a};
nd.prototype.M=function(a){a.x=this.kf;a.y=this.lf;a.z=this.mf};nd.prototype.Y=function(){var a=new z;a.x=this.Gg;a.y=this.Hg;a.z=this.Ig;return a};nd.prototype.aa=function(a){a.x=this.Gg;a.y=this.Hg;a.z=this.Ig};nd.prototype.i=function(){var a=new z;a.x=this.Bg;a.y=this.Cg;a.z=this.Dg;return a};nd.prototype.C=function(a){a.x=this.Bg;a.y=this.Cg;a.z=this.Dg};nd.prototype.W=function(){return this.rc};nd.prototype.V=function(){return this.Bd};Qc.prototype.M=function(){var a=new z;a.x=this.od;a.y=this.pd;
a.z=this.qd;return a};Qc.prototype.V=function(a){a.x=this.od;a.y=this.pd;a.z=this.qd};Qc.prototype.W=function(){var a=new z;a.x=this.rd;a.y=this.sd;a.z=this.td;return a};Qc.prototype.Y=function(a){a.x=this.rd;a.y=this.sd;a.z=this.td};Qc.prototype.C=function(){return this.zc};Qc.prototype.qa=function(){return this.Xd};Qc.prototype.I=function(){return this.Ad.Hc};Qc.prototype.aa=function(){return this.Ad.xc};Qc.prototype.i=function(){return this.Ad.wc};Qc.prototype.h=function(){return!this.ve};$i.prototype.Y=
function(){for(var a=this.Ra.Bd;0<=--a;){var b=this.Ra.rc[a];var e=b.od-b.rd;var d=b.pd-b.sd;b=b.qd-b.td;var c=this.Ra.kf*e+this.Ra.lf*d+this.Ra.mf*b;c>ra.contactPersistenceThreshold?this.C(a):(e+=this.Ra.kf*-c,d+=this.Ra.lf*-c,b+=this.Ra.mf*-c,e*e+d*d+b*b>ra.contactPersistenceThreshold*ra.contactPersistenceThreshold&&this.C(a))}};$i.prototype.C=function(a){var b=--this.Ra.Bd;if(a!=b){var e=this.Ra.rc[a];this.Ra.rc[a]=this.Ra.rc[b];this.Ra.rc[b]=e}a=this.Ra.rc[b];a.we=0;a.xe=0;a.ye=0;a.ze=0;a.Ae=
0;a.Be=0;a.Lb=0;a.Mb=0;a.Nb=0;a.kc=0;a.lc=0;a.mc=0;a.od=0;a.pd=0;a.qd=0;a.rd=0;a.sd=0;a.td=0;a.zc=0;b=a.Ad;b.Hc=0;b.xc=0;b.wc=0;b.Hb=0;b.ge=0;b.he=0;b.ie=0;a.Xd=!1;a.ve=!1;a.uc=-1};$i.prototype.I=function(a,b,e){var d=this.Ra.Bd;if(d==ra.maxManifoldPoints){d=this.Ra.rc[this.M(a,b)];var c=a.position1;d.od=c.x;d.pd=c.y;d.qd=c.z;c=a.position2;d.rd=c.x;d.sd=c.y;d.td=c.z;d.Lb=d.od-b.F;d.Mb=d.pd-b.G;d.Nb=d.qd-b.H;d.kc=d.rd-e.F;d.lc=d.sd-e.G;d.mc=d.td-e.H;c=b.A*d.Lb+b.o*d.Mb+b.u*d.Nb;var f=b.j*d.Lb+b.v*
d.Mb+b.l*d.Nb;b=b.m*d.Lb+b.s*d.Mb+b.B*d.Nb;d.we=c;d.xe=f;d.ye=b;b=e.A*d.kc+e.o*d.lc+e.u*d.mc;c=e.j*d.kc+e.v*d.lc+e.l*d.mc;e=e.m*d.kc+e.s*d.lc+e.B*d.mc;d.ze=b;d.Ae=c;d.Be=e;d.zc=a.depth;e=d.Ad;e.Hc=0;e.xc=0;e.wc=0;e.Hb=0;e.ge=0;e.he=0;e.ie=0;d.uc=a.id;d.Xd=!1;d.ve=!1}else d=this.Ra.rc[d],c=a.position1,d.od=c.x,d.pd=c.y,d.qd=c.z,c=a.position2,d.rd=c.x,d.sd=c.y,d.td=c.z,d.Lb=d.od-b.F,d.Mb=d.pd-b.G,d.Nb=d.qd-b.H,d.kc=d.rd-e.F,d.lc=d.sd-e.G,d.mc=d.td-e.H,c=b.A*d.Lb+b.o*d.Mb+b.u*d.Nb,f=b.j*d.Lb+b.v*d.Mb+
b.l*d.Nb,b=b.m*d.Lb+b.s*d.Mb+b.B*d.Nb,d.we=c,d.xe=f,d.ye=b,b=e.A*d.kc+e.o*d.lc+e.u*d.mc,c=e.j*d.kc+e.v*d.lc+e.l*d.mc,e=e.m*d.kc+e.s*d.lc+e.B*d.mc,d.ze=b,d.Ae=c,d.Be=e,d.zc=a.depth,e=d.Ad,e.Hc=0,e.xc=0,e.wc=0,e.Hb=0,e.ge=0,e.he=0,e.ie=0,d.uc=a.id,d.Xd=!1,d.ve=!1,this.Ra.Bd++};$i.prototype.M=function(a,b){var e=this.Ra.rc[0],d=this.Ra.rc[1],c=this.Ra.rc[2],f=this.Ra.rc[3],h=e.zc,k=0;d.zc>h&&(h=d.zc,k=1);c.zc>h&&(h=c.zc,k=2);f.zc>h&&(h=f.zc,k=3);var g=a.position1;var l=g.x;var m=g.y;var n=g.z;l-=b.F;
m-=b.G;n-=b.H;var q=d.Lb,p=d.Mb,r=d.Nb,t=c.Lb,x=c.Mb,v=c.Nb,B=f.Lb,H=f.Mb,C=f.Nb;var N=t-q;var y=x-p;var A=v-r;var E=l-B;var L=m-H;var G=n-C;var P=B-q;var K=H-p;var pa=C-r;var M=l-t;var Sa=m-x;var Pa=n-v;var Ca=l-q;var Ra=m-p;var wa=n-r;var La=B-t;var Ea=H-x;var O=C-v;var ma=y*G-A*L;var Y=A*E-N*G;var ta=N*L-y*E;var Va=K*Pa-pa*Sa;var D=pa*M-P*Pa;var Aa=P*Sa-K*M;var aa=Ra*O-wa*Ea;var Ua=wa*La-Ca*O;var xa=Ca*Ea-Ra*La;var Ja=ma*ma+Y*Y+ta*ta,S=Va*Va+D*D+Aa*Aa,la=aa*aa+Ua*Ua+xa*xa,qa=e.Lb,Da=e.Mb,X=e.Nb,
fa=c.Lb,w=c.Mb,ja=c.Nb,ea=f.Lb,U=f.Mb,ba=f.Nb;var Fa=fa-qa;var ka=w-Da;var Qa=ja-X;var Ka=l-ea;var V=m-U;var ob=n-ba;var Za=ea-qa;var W=U-Da;var ha=ba-X;var I=l-fa;var na=m-w;var ca=n-ja;var da=l-qa;var Z=m-Da;var oa=n-X;var xb=ea-fa;var hb=U-w;var fb=ba-ja;var gb=ka*ob-Qa*V;var pb=Qa*Ka-Fa*ob;var ab=Fa*V-ka*Ka;var $a=W*ca-ha*na;var ua=ha*I-Za*ca;var Ya=Za*na-W*I;var Fb=Z*fb-oa*hb;var Xa=oa*xb-da*fb;var Bb=da*hb-Z*xb;var Wa=gb*gb+pb*pb+ab*ab,Cb=$a*$a+ua*ua+Ya*Ya,qb=Fb*Fb+Xa*Xa+Bb*Bb,bb=Wa>Cb?Wa>qb?
Wa:qb:Cb>qb?Cb:qb,ib=e.Lb,rb=e.Mb,db=e.Nb,Db=d.Lb,jb=d.Mb,nb=d.Nb,cb=f.Lb,Jb=f.Mb,Kb=f.Nb;var F=Db-ib;var ub=jb-rb;var lb=nb-db;var yb=l-cb;var vb=m-Jb;var eb=n-Kb;var Lb=cb-ib;var mb=Jb-rb;var zb=Kb-db;var u=l-Db;var T=m-jb;var R=n-nb;var va=l-ib;var Na=m-rb;var ya=n-db;var Oa=cb-Db;var kb=Jb-jb;var sb=Kb-nb;var Hb=ub*eb-lb*vb;var Ba=lb*yb-F*eb;var Ta=F*vb-ub*yb;var sa=mb*R-zb*T;var Ga=zb*u-Lb*R;var Q=Lb*T-mb*u;var Ma=Na*sb-ya*kb;var Ia=ya*Oa-va*sb;var Eb=va*kb-Na*Oa;var wb=Hb*Hb+Ba*Ba+Ta*Ta,Mb=
sa*sa+Ga*Ga+Q*Q,Ib=Ma*Ma+Ia*Ia+Eb*Eb,Tb=wb>Mb?wb>Ib?wb:Ib:Mb>Ib?Mb:Ib,Rb=e.Lb,Wb=e.Mb,mc=e.Nb,Xb=d.Lb,ic=d.Mb,bc=d.Nb,$b=c.Lb,Zb=c.Mb,Qb=c.Nb;var jc=Xb-Rb;var ac=ic-Wb;var ec=bc-mc;var Ub=l-$b;var kc=m-Zb;var uc=n-Qb;var fc=$b-Rb;var dd=Zb-Wb;var Nb=Qb-mc;var nc=l-Xb;var gc=m-ic;var Vb=n-bc;var lc=l-Rb;var ed=m-Wb;var Bc=n-mc;var Kc=$b-Xb;var zc=Zb-ic;var Cc=Qb-bc;var sc=ac*uc-ec*kc;var Lc=ec*Ub-jc*uc;var zd=jc*kc-ac*Ub;var Rc=dd*Vb-Nb*gc;var Wc=Nb*nc-fc*Vb;var Dc=fc*gc-dd*nc;var Ec=ed*Cc-Bc*zc;var od=
Bc*Kc-lc*Cc;var hc=lc*zc-ed*Kc;var fd=sc*sc+Lc*Lc+zd*zd,Sc=Rc*Rc+Wc*Wc+Dc*Dc,pd=Ec*Ec+od*od+hc*hc,Gd=fd>Sc?fd>pd?fd:pd:Sc>pd?Sc:pd,Tc=Ja>S?Ja>la?Ja:la:S>la?S:la,Pd=0;if(bb>Tc&&1!=k||0==k)Tc=bb,Pd=1;Tb>Tc&&2!=k&&(Tc=Tb,Pd=2);Gd>Tc&&3!=k&&(Tc=Gd,Pd=3);return Pd};$i.prototype.V=function(a,b,e){for(var d=ra.contactPersistenceThreshold*ra.contactPersistenceThreshold,c=-1,f=0,h=this.Ra.Bd;f<h;){var k=f++,g=this.Ra.rc[k];var l=a.position1;var m=l.x;var n=l.y;var q=l.z;var p=a.position2;var r=p.x;l=p.y;p=
p.z;m-=b.F;n-=b.G;q-=b.H;r-=e.F;l-=e.G;p-=e.H;m=g.Lb-m;n=g.Mb-n;q=g.Nb-q;r=g.kc-r;l=g.lc-l;g=g.mc-p;p=m*m+n*n+q*q;g=r*r+l*l+g*g;g=p<g?p:g;g<d&&(d=g,c=k)}return c};$i.prototype.aa=function(a,b,e){this.h=this.Ra.Bd;for(var d=0,c=this.h;d<c;){var f=d++,h=this.i[f];f=this.Ra.rc[f];h.we=f.we;h.xe=f.xe;h.ye=f.ye;h.ze=f.ze;h.Ae=f.Ae;h.Be=f.Be;h.Lb=f.Lb;h.Mb=f.Mb;h.Nb=f.Nb;h.kc=f.kc;h.lc=f.lc;h.mc=f.mc;h.od=f.od;h.pd=f.pd;h.qd=f.qd;h.rd=f.rd;h.sd=f.sd;h.td=f.td;h.zc=f.zc;h.Ad.Dd(f.Ad);h.uc=f.uc;h.Xd=f.Xd;
h.ve=!1}d=a.numPoints;this.Ra.Bd=d;for(c=0;c<d;){f=c++;h=this.Ra.rc[f];f=a.points[f];var k=f.position1;h.od=k.x;h.pd=k.y;h.qd=k.z;k=f.position2;h.rd=k.x;h.sd=k.y;h.td=k.z;h.Lb=h.od-b.F;h.Mb=h.pd-b.G;h.Nb=h.qd-b.H;h.kc=h.rd-e.F;h.lc=h.sd-e.G;h.mc=h.td-e.H;k=b.A*h.Lb+b.o*h.Mb+b.u*h.Nb;var g=b.j*h.Lb+b.v*h.Mb+b.l*h.Nb;var l=b.m*h.Lb+b.s*h.Mb+b.B*h.Nb;h.we=k;h.xe=g;h.ye=l;k=e.A*h.kc+e.o*h.lc+e.u*h.mc;g=e.j*h.kc+e.v*h.lc+e.l*h.mc;l=e.m*h.kc+e.s*h.lc+e.B*h.mc;h.ze=k;h.Ae=g;h.Be=l;h.zc=f.depth;k=h.Ad;k.Hc=
0;k.xc=0;k.wc=0;k.Hb=0;k.ge=0;k.he=0;k.ie=0;h.uc=f.id;h.Xd=!1;h.ve=!1;f=0;for(k=this.h;f<k;)if(g=this.i[f++],h.uc==g.uc){h.Ad.Dd(g.Ad);h.Xd=!0;break}}};$i.prototype.W=function(a,b,e){this.Ra.Di(b,e);for(var d=0,c=this.Ra.Bd;d<c;)this.Ra.rc[d++].Xd=!0;a=a.points[0];d=this.V(a,b,e);if(-1==d)this.I(a,b,e);else{d=this.Ra.rc[d];c=a.position1;d.od=c.x;d.pd=c.y;d.qd=c.z;c=a.position2;d.rd=c.x;d.sd=c.y;d.td=c.z;d.Lb=d.od-b.F;d.Mb=d.pd-b.G;d.Nb=d.qd-b.H;d.kc=d.rd-e.F;d.lc=d.sd-e.G;d.mc=d.td-e.H;c=b.A*d.Lb+
b.o*d.Mb+b.u*d.Nb;var f=b.j*d.Lb+b.v*d.Mb+b.l*d.Nb;b=b.m*d.Lb+b.s*d.Mb+b.B*d.Nb;d.we=c;d.xe=f;d.ye=b;b=e.A*d.kc+e.o*d.lc+e.u*d.mc;c=e.j*d.kc+e.v*d.lc+e.l*d.mc;e=e.m*d.kc+e.s*d.lc+e.B*d.mc;d.ze=b;d.Ae=c;d.Be=e;d.zc=a.depth}this.Y()};Zj.prototype.Ji=function(){this.sc=0;if(0!=this.Ba||0!=this.Ca||0!=this.Da||0!=this.Fa||0!=this.Ga||0!=this.Ha)this.sc|=1;if(0!=this.ka||0!=this.la||0!=this.ma||0!=this.na||0!=this.oa||0!=this.pa)this.sc|=2};za.prototype.mg=function(){if(0==this.i*this.i+this.C*this.C+
this.I*this.I)this.i=1,this.I=this.C=0;else{var a=this.i*this.i+this.C*this.C+this.I*this.I;0<a&&(a=1/Math.sqrt(a));this.i*=a;this.C*=a;this.I*=a}0==this.V*this.V+this.W*this.W+this.Y*this.Y?(this.V=1,this.Y=this.W=0):(a=this.V*this.V+this.W*this.W+this.Y*this.Y,0<a&&(a=1/Math.sqrt(a)),this.V*=a,this.W*=a,this.Y*=a);var b=this.i*this.V+this.C*this.W+this.I*this.Y;if(-.999999999>b){a=this.i;var e=this.C;var d=this.I;b=a*a;var c=e*e;var f=d*d;b<c?b<f?(c=1/Math.sqrt(c+f),b=0,d*=c,c*=-e):(c=1/Math.sqrt(b+
c),b=e*c,d=-a*c,c=0):c<f?(c=1/Math.sqrt(f+b),b=-d*c,d=0,c*=a):(c=1/Math.sqrt(b+c),b=e*c,d=-a*c,c=0);a=b;e=d;b=c;d=0}else a=this.C*this.Y-this.I*this.W,e=this.I*this.V-this.i*this.Y,c=this.i*this.W-this.C*this.V,d=Math.sqrt(.5*(1+b)),b=.5/d,a*=b,e*=b,b*=c;var h=e;e=d;var k=2*a;f=2*h;d=2*b;var g=a*k;var l=h*f;c=b*d;b=a*f;var m=h*d;h=a*d;k*=e;var n=e*f;f=e*d;a=1-l-c;e=b-f;d=h+n;b+=f;c=1-g-c;f=m-k;h-=n;m+=k;g=1-g-l;l=this.i;k=this.C;n=this.I;var q=l*l,p=k*k,r=n*n;q<p?q<r?(q=1/Math.sqrt(p+r),this.Ya=0,
this.nb=n*q,this.ob=-k*q):(q=1/Math.sqrt(q+p),this.Ya=k*q,this.nb=-l*q,this.ob=0):p<r?(q=1/Math.sqrt(r+q),this.Ya=-n*q,this.nb=0,this.ob=l*q):(q=1/Math.sqrt(q+p),this.Ya=k*q,this.nb=-l*q,this.ob=0);this.Ib=this.C*this.ob-this.I*this.nb;this.Jb=this.I*this.Ya-this.i*this.ob;this.Pb=this.i*this.nb-this.C*this.Ya;l=a*this.i+e*this.C+d*this.I;k=b*this.i+c*this.C+f*this.I;n=h*this.i+m*this.C+g*this.I;this.V=l;this.W=k;this.Y=n;l=a*this.Ya+e*this.nb+d*this.ob;k=b*this.Ya+c*this.nb+f*this.ob;n=h*this.Ya+
m*this.nb+g*this.ob;this.je=l;this.He=k;this.Ie=n;a=a*this.Ib+e*this.Jb+d*this.Pb;e=b*this.Ib+c*this.Jb+f*this.Pb;d=h*this.Ib+m*this.Jb+g*this.Pb;this.Rb=a;this.Sb=e;this.Wb=d};za.prototype.wh=function(){if(0==this.i*this.i+this.C*this.C+this.I*this.I)this.i=1,this.I=this.C=0;else{var a=this.i*this.i+this.C*this.C+this.I*this.I;0<a&&(a=1/Math.sqrt(a));this.i*=a;this.C*=a;this.I*=a}0==this.Rb*this.Rb+this.Sb*this.Sb+this.Wb*this.Wb?(this.Sb=this.Rb=0,this.Wb=1):(a=this.Rb*this.Rb+this.Sb*this.Sb+this.Wb*
this.Wb,0<a&&(a=1/Math.sqrt(a)),this.Rb*=a,this.Sb*=a,this.Wb*=a);var b=this.J.g;a=this.K.g;var e=b.A*this.i+b.j*this.C+b.m*this.I;var d=b.o*this.i+b.v*this.C+b.s*this.I;var c=b.u*this.i+b.l*this.C+b.B*this.I;var f=a.A*this.Rb+a.j*this.Sb+a.m*this.Wb;var h=a.o*this.Rb+a.v*this.Sb+a.s*this.Wb;var k=a.u*this.Rb+a.l*this.Sb+a.B*this.Wb;var g=h*c-k*d;var l=k*e-f*c;var m=f*d-h*e;0==g*g+l*l+m*m&&(g=e*e,l=d*d,m=c*c,g<l?g<m?(m=1/Math.sqrt(l+m),g=0,l=c*m,m*=-d):(m=1/Math.sqrt(g+l),g=d*m,l=-e*m,m=0):l<m?(m=
1/Math.sqrt(m+g),g=-c*m,l=0,m*=e):(m=1/Math.sqrt(g+l),g=d*m,l=-e*m,m=0));var n=d*m-c*l;var q=c*g-e*m;var p=e*l-d*g;var r=l*k-m*h;var t=m*f-g*k;var x=g*h-l*f;var v=b.A*e+b.o*d+b.u*c;var B=b.j*e+b.v*d+b.l*c;c=b.m*e+b.s*d+b.B*c;this.i=v;this.C=B;this.I=c;c=b.A*g+b.o*l+b.u*m;e=b.j*g+b.v*l+b.l*m;d=b.m*g+b.s*l+b.B*m;this.Ya=c;this.nb=e;this.ob=d;c=b.A*n+b.o*q+b.u*p;e=b.j*n+b.v*q+b.l*p;b=b.m*n+b.s*q+b.B*p;this.Ib=c;this.Jb=e;this.Pb=b;b=a.A*r+a.o*t+a.u*x;n=a.j*r+a.v*t+a.l*x;r=a.m*r+a.s*t+a.B*x;this.V=b;
this.W=n;this.Y=r;b=a.A*g+a.o*l+a.u*m;r=a.j*g+a.v*l+a.l*m;g=a.m*g+a.s*l+a.B*m;this.je=b;this.He=r;this.Ie=g;g=a.A*f+a.o*h+a.u*k;l=a.j*f+a.v*h+a.l*k;a=a.m*f+a.s*h+a.B*k;this.Rb=g;this.Sb=l;this.Wb=a};za.prototype.xh=function(){if(0==this.i*this.i+this.C*this.C+this.I*this.I)this.i=1,this.I=this.C=0;else{var a=this.i*this.i+this.C*this.C+this.I*this.I;0<a&&(a=1/Math.sqrt(a));this.i*=a;this.C*=a;this.I*=a}this.Ib=this.C*this.ob-this.I*this.nb;this.Jb=this.I*this.Ya-this.i*this.ob;this.Pb=this.i*this.nb-
this.C*this.Ya;if(0==this.Ib*this.Ib+this.Jb*this.Jb+this.Pb*this.Pb){a=this.i;var b=this.C,e=this.I,d=a*a,c=b*b,f=e*e;d<c?d<f?(d=1/Math.sqrt(c+f),this.Ya=0,this.nb=e*d,this.ob=-b*d):(d=1/Math.sqrt(d+c),this.Ya=b*d,this.nb=-a*d,this.ob=0):c<f?(d=1/Math.sqrt(f+d),this.Ya=-e*d,this.nb=0,this.ob=a*d):(d=1/Math.sqrt(d+c),this.Ya=b*d,this.nb=-a*d,this.ob=0);this.Ib=this.C*this.ob-this.I*this.nb;this.Jb=this.I*this.Ya-this.i*this.ob;this.Pb=this.i*this.nb-this.C*this.Ya}else a=this.Ib*this.Ib+this.Jb*this.Jb+
this.Pb*this.Pb,0<a&&(a=1/Math.sqrt(a)),this.Ib*=a,this.Jb*=a,this.Pb*=a,this.Ya=this.Jb*this.I-this.Pb*this.C,this.nb=this.Pb*this.i-this.Ib*this.I,this.ob=this.Ib*this.C-this.Jb*this.i;d=this.i*this.V+this.C*this.W+this.I*this.Y;-.999999999>d?(a=this.i,b=this.C,e=this.I,d=a*a,c=b*b,f=e*e,d<c?d<f?(c=1/Math.sqrt(c+f),d=0,e*=c,c*=-b):(c=1/Math.sqrt(d+c),d=b*c,e=-a*c,c=0):c<f?(c=1/Math.sqrt(f+d),d=-e*c,e=0,c*=a):(c=1/Math.sqrt(d+c),d=b*c,e=-a*c,c=0),a=d,b=e,d=c,e=0):(a=this.C*this.Y-this.I*this.W,b=
this.I*this.V-this.i*this.Y,c=this.i*this.W-this.C*this.V,e=Math.sqrt(.5*(1+d)),d=.5/e,a*=d,b*=d,d*=c);var h=b;f=d;b=e;var k=2*a;var g=2*h;e=2*f;d=a*k;c=h*g;var l=f*e;f=a*g;var m=h*e;h=a*e;k*=b;var n=b*g;g=b*e;a=1-c-l;b=f-g;e=h+n;f+=g;l=1-d-l;g=m-k;h-=n;m+=k;d=1-d-c;c=a*this.i+b*this.C+e*this.I;k=f*this.i+l*this.C+g*this.I;n=h*this.i+m*this.C+d*this.I;this.V=c;this.W=k;this.Y=n;c=a*this.Ya+b*this.nb+e*this.ob;k=f*this.Ya+l*this.nb+g*this.ob;n=h*this.Ya+m*this.nb+d*this.ob;this.je=c;this.He=k;this.Ie=
n;a=a*this.Ib+b*this.Jb+e*this.Pb;b=f*this.Ib+l*this.Jb+g*this.Pb;e=h*this.Ib+m*this.Jb+d*this.Pb;this.Rb=a;this.Sb=b;this.Wb=e};za.prototype.Af=function(a,b,e,d,c,f,h){var k=ra.linearSlop;if(h)c=0,h=1;else{if(0<c.frequency){k=0;var g=6.28318530717958*c.frequency,l=c.dampingRatio;l<ra.minSpringDamperDampingRatio&&(l=ra.minSpringDamperDampingRatio);h=f.dt;l=2*l*g;g*=g;c.useSymplecticEuler?(c=1/(h*l),h=g/l):(c=1/(h*(h*g+l)),h=g/(h*g+l))}else c=0,h=this.ce(f,!1);0<e.motorForce?(a.motorSpeed=e.motorSpeed,
a.Db=e.motorForce*f.dt):(a.motorSpeed=0,a.Db=0)}f=e.lowerLimit;g=e.upperLimit;f>g?b=l=e=0:f==g?(e=-Infinity,l=Infinity,b-=f):b<f?(e=-Infinity,l=0,b=b-f+k,0<b&&(b=0)):b>g?(e=0,l=Infinity,b=b-g-k,0>b&&(b=0)):b=l=e=0;a.Qa=e;a.Pa=l;a.Ua=c*(0==d?0:1/d);a.Na=b*h};za.prototype.Ed=function(a,b,e,d,c,f,h){var k=ra.angularSlop;if(h)c=0,h=1;else{if(0<c.frequency){k=0;var g=6.28318530717958*c.frequency,l=c.dampingRatio;l<ra.minSpringDamperDampingRatio&&(l=ra.minSpringDamperDampingRatio);h=f.dt;l=2*l*g;g*=g;c.useSymplecticEuler?
(c=1/(h*l),h=g/l):(c=1/(h*(h*g+l)),h=g/(h*g+l))}else c=0,h=this.ce(f,!1);0<e.motorTorque?(a.motorSpeed=e.motorSpeed,a.Db=e.motorTorque*f.dt):(a.motorSpeed=0,a.Db=0)}f=e.lowerLimit;e=e.upperLimit;l=.5*(f+e);b=((b-l+3.14159265358979)%6.28318530717958+6.28318530717958)%6.28318530717958-3.14159265358979+l;f>e?b=g=l=0:f==e?(l=-Infinity,g=Infinity,b-=f):b<f?(l=-Infinity,g=0,b=b-f+k,0<b&&(b=0)):b>e?(l=0,g=Infinity,b=b-e-k,0>b&&(b=0)):b=g=l=0;a.Qa=l;a.Pa=g;a.Ua=c*(0==d?0:1/d);a.Na=b*h};za.prototype.ce=function(a,
b){return b?1:this.pf==Fh.BAUMGARTE?a.invDt*ra.velocityBaumgarte:0};za.prototype.Sc=function(a,b,e){var d=(this.J.ba*a+this.J.ca*b+this.J.da*e)*a+(this.J.ea*a+this.J.fa*b+this.J.ga*e)*b+(this.J.ha*a+this.J.ia*b+this.J.ja*e)*e,c=(this.K.ba*a+this.K.ca*b+this.K.da*e)*a+(this.K.ea*a+this.K.fa*b+this.K.ga*e)*b+(this.K.ha*a+this.K.ia*b+this.K.ja*e)*e;if(0<d){var f=a*this.aa+b*this.qa+e*this.Ma;f=this.aa*this.aa+this.qa*this.qa+this.Ma*this.Ma-f*f;0<f&&(d=0<this.J.Ab?1/(1/d+this.J.Ce*f):0)}0<c&&(a=a*this.Oa+
b*this.Sa+e*this.Wa,a=this.Oa*this.Oa+this.Sa*this.Sa+this.Wa*this.Wa-a*a,0<a&&(c=0<this.K.Ab?1/(1/c+this.K.Ce*a):0));return 0==d+c?0:1/(d+c)};za.prototype.Gc=function(){var a=this.J.g,b=this.K.g;var e=a.A*this.tf+a.j*this.uf+a.m*this.vf;var d=a.o*this.tf+a.v*this.uf+a.s*this.vf;var c=a.u*this.tf+a.l*this.uf+a.B*this.vf;this.aa=e;this.qa=d;this.Ma=c;e=b.A*this.wf+b.j*this.yf+b.m*this.zf;d=b.o*this.wf+b.v*this.yf+b.s*this.zf;c=b.u*this.wf+b.l*this.yf+b.B*this.zf;this.Oa=e;this.Sa=d;this.Wa=c;this.ke=
this.aa+a.F;this.le=this.qa+a.G;this.me=this.Ma+a.H;this.ne=this.Oa+b.F;this.oe=this.Sa+b.G;this.pe=this.Wa+b.H;e=a.A*this.i+a.j*this.C+a.m*this.I;d=a.o*this.i+a.v*this.C+a.s*this.I;c=a.u*this.i+a.l*this.C+a.B*this.I;this.pb=e;this.qb=d;this.rb=c;e=a.A*this.Ya+a.j*this.nb+a.m*this.ob;d=a.o*this.Ya+a.v*this.nb+a.s*this.ob;c=a.u*this.Ya+a.l*this.nb+a.B*this.ob;this.Bc=e;this.Cc=d;this.Dc=c;e=a.A*this.Ib+a.j*this.Jb+a.m*this.Pb;d=a.o*this.Ib+a.v*this.Jb+a.s*this.Pb;a=a.u*this.Ib+a.l*this.Jb+a.B*this.Pb;
this.Id=e;this.Jd=d;this.Kd=a;a=b.A*this.V+b.j*this.W+b.m*this.Y;e=b.o*this.V+b.v*this.W+b.s*this.Y;d=b.u*this.V+b.l*this.W+b.B*this.Y;this.cc=a;this.dc=e;this.ec=d;a=b.A*this.je+b.j*this.He+b.m*this.Ie;e=b.o*this.je+b.v*this.He+b.s*this.Ie;d=b.u*this.je+b.l*this.He+b.B*this.Ie;this.Fd=a;this.Gd=e;this.Hd=d;a=b.A*this.Rb+b.j*this.Sb+b.m*this.Wb;e=b.o*this.Rb+b.v*this.Sb+b.s*this.Wb;b=b.u*this.Rb+b.l*this.Sb+b.B*this.Wb;this.se=a;this.te=e;this.ue=b};za.prototype.nd=function(a,b){b.Yd=this.J;b.Zd=
this.K;b.La=0};za.prototype.Ec=function(a){a.Yd=this.J;a.Zd=this.K;a.La=0};za.prototype.zi=function(){var a=this.yg*this.yg+this.zg*this.zg+this.Ag*this.Ag;0<this.rf&&this.vg*this.vg+this.wg*this.wg+this.xg*this.xg>this.rf*this.rf?this.pc.wi(this):0<this.sf&&a>this.sf*this.sf&&this.pc.wi(this)};za.prototype.ei=function(){return this.J};za.prototype.fi=function(){return this.K};za.prototype.yi=function(){return this.Xb};za.prototype.zh=function(){var a=new z;a.x=this.ke;a.y=this.le;a.z=this.me;return a};
za.prototype.Bh=function(){var a=new z;a.x=this.ne;a.y=this.oe;a.z=this.pe;return a};za.prototype.Ah=function(a){a.x=this.ke;a.y=this.le;a.z=this.me};za.prototype.Ch=function(a){a.x=this.ne;a.y=this.oe;a.z=this.pe};za.prototype.vh=function(){var a=new z;a.x=this.tf;a.y=this.uf;a.z=this.vf;return a};za.prototype.ai=function(){var a=new z;a.x=this.wf;a.y=this.yf;a.z=this.zf;return a};za.prototype.$h=function(a){a.x=this.tf;a.y=this.uf;a.z=this.vf};za.prototype.bi=function(a){a.x=this.wf;a.y=this.yf;
a.z=this.zf};za.prototype.Hh=function(){var a=new ia;var b=this.pb;var e=this.Bc;var d=this.Id;var c=this.qb;var f=this.Cc;var h=this.Jd;var k=this.rb;var g=this.Dc;var l=this.Kd;a.e00=b;a.e01=e;a.e02=d;a.e10=c;a.e11=f;a.e12=h;a.e20=k;a.e21=g;a.e22=l;return a};za.prototype.Jh=function(){var a=new ia;var b=this.cc;var e=this.Fd;var d=this.se;var c=this.dc;var f=this.Gd;var h=this.te;var k=this.ec;var g=this.Hd;var l=this.ue;a.e00=b;a.e01=e;a.e02=d;a.e10=c;a.e11=f;a.e12=h;a.e20=k;a.e21=g;a.e22=l;return a};
za.prototype.Ih=function(a){var b=this.pb;var e=this.Bc;var d=this.Id;var c=this.qb;var f=this.Cc;var h=this.Jd;var k=this.rb;var g=this.Dc;var l=this.Kd;a.e00=b;a.e01=e;a.e02=d;a.e10=c;a.e11=f;a.e12=h;a.e20=k;a.e21=g;a.e22=l};za.prototype.Kh=function(a){var b=this.cc;var e=this.Fd;var d=this.se;var c=this.dc;var f=this.Gd;var h=this.te;var k=this.ec;var g=this.Hd;var l=this.ue;a.e00=b;a.e01=e;a.e02=d;a.e10=c;a.e11=f;a.e12=h;a.e20=k;a.e21=g;a.e22=l};za.prototype.yh=function(){return this.Nh};za.prototype.Oi=
function(a){this.Nh=a};za.prototype.Lh=function(){return this.rf};za.prototype.Pi=function(a){this.rf=a};za.prototype.Mh=function(){return this.sf};za.prototype.Qi=function(a){this.sf=a};za.prototype.di=function(){return this.pf};za.prototype.Ri=function(a){switch(a){case 0:case 1:case 2:break;default:throw Error("invalid position correction algorithm id: "+a);}this.pf=a};za.prototype.Dh=function(){var a=new z;a.x=this.vg;a.y=this.wg;a.z=this.xg;return a};za.prototype.Eh=function(a){a.x=this.vg;a.y=
this.wg;a.z=this.xg};za.prototype.Fh=function(){var a=new z;a.x=this.yg;a.y=this.zg;a.z=this.Ag;return a};za.prototype.Gh=function(a){a.x=this.yg;a.y=this.zg;a.z=this.Ag};za.prototype.xi=function(){return this.sa};za.prototype.Vg=function(){return this.U};rl(dc,za);dc.prototype.Gb=function(a,b,e){var d=this.ce(b,e),c=this.ac*d,f=this.bc*d,h=this.tc*d;d=this.vd*d;var k=1/(this.J.Ab+this.K.Ab);var g=this.Sc(this.h.i,this.h.C,this.h.I);if(0>=this.Fb.frequency||!e){var l=this.M[0],m=a.rows[a.La++],n=
m.Ea;n.Ba=0;n.Ca=0;n.Da=0;n.Fa=0;n.Ga=0;n.Ha=0;n.ka=0;n.la=0;n.ma=0;n.na=0;n.oa=0;n.pa=0;m.Na=0;m.Ua=0;m.Qa=0;m.Pa=0;m.motorSpeed=0;m.Db=0;m.Aa=l;this.Af(m,this.Xa,this.Yh,k,this.Fb,b,e);k=m.Ea;k.Ba=this.h.i;k.Ca=this.h.C;k.Da=this.h.I;k.Fa=this.h.i;k.Ga=this.h.C;k.Ha=this.h.I;k.ka=this.qa*this.h.I-this.Ma*this.h.C;k.la=this.Ma*this.h.i-this.aa*this.h.I;k.ma=this.aa*this.h.C-this.qa*this.h.i;k.na=this.Sa*this.h.I-this.Wa*this.h.C;k.oa=this.Wa*this.h.i-this.Oa*this.h.I;k.pa=this.Oa*this.h.C-this.Sa*
this.h.i}k=this.M[1];l=a.rows[a.La++];m=l.Ea;m.Ba=0;m.Ca=0;m.Da=0;m.Fa=0;m.Ga=0;m.Ha=0;m.ka=0;m.la=0;m.ma=0;m.na=0;m.oa=0;m.pa=0;l.Na=0;l.Ua=0;l.Qa=0;l.Pa=0;l.motorSpeed=0;l.Db=0;l.Aa=null;l.Aa=k;l.Na=c;l.Ua=0;l.Qa=-Infinity;l.Pa=Infinity;k=l.Ea;k.Ba=this.h.M;k.Ca=this.h.V;k.Da=this.h.W;k.Fa=this.h.M;k.Ga=this.h.V;k.Ha=this.h.W;k.ka=this.qa*this.h.W-this.Ma*this.h.V;k.la=this.Ma*this.h.M-this.aa*this.h.W;k.ma=this.aa*this.h.V-this.qa*this.h.M;k.na=this.Sa*this.h.W-this.Wa*this.h.V;k.oa=this.Wa*this.h.M-
this.Oa*this.h.W;k.pa=this.Oa*this.h.V-this.Sa*this.h.M;c=this.M[2];k=a.rows[a.La++];l=k.Ea;l.Ba=0;l.Ca=0;l.Da=0;l.Fa=0;l.Ga=0;l.Ha=0;l.ka=0;l.la=0;l.ma=0;l.na=0;l.oa=0;l.pa=0;k.Na=0;k.Ua=0;k.Qa=0;k.Pa=0;k.motorSpeed=0;k.Db=0;k.Aa=c;k.Na=f;k.Ua=0;k.Qa=-Infinity;k.Pa=Infinity;k=k.Ea;k.Ba=this.h.Y;k.Ca=this.h.aa;k.Da=this.h.qa;k.Fa=this.h.Y;k.Ga=this.h.aa;k.Ha=this.h.qa;k.ka=this.qa*this.h.qa-this.Ma*this.h.aa;k.la=this.Ma*this.h.Y-this.aa*this.h.qa;k.ma=this.aa*this.h.aa-this.qa*this.h.Y;k.na=this.Sa*
this.h.qa-this.Wa*this.h.aa;k.oa=this.Wa*this.h.Y-this.Oa*this.h.qa;k.pa=this.Oa*this.h.aa-this.Sa*this.h.Y;if(0>=this.tb.frequency||!e)f=this.M[3],c=a.rows[a.La++],k=c.Ea,k.Ba=0,k.Ca=0,k.Da=0,k.Fa=0,k.Ga=0,k.Ha=0,k.ka=0,k.la=0,k.ma=0,k.na=0,k.oa=0,k.pa=0,c.Na=0,c.Ua=0,c.Qa=0,c.Pa=0,c.motorSpeed=0,c.Db=0,c.Aa=f,this.Ed(c,this.Va,this.Vh,g,this.tb,b,e),k=c.Ea,k.ka=this.h.i,k.la=this.h.C,k.ma=this.h.I,k.na=this.h.i,k.oa=this.h.C,k.pa=this.h.I;b=this.M[4];e=a.rows[a.La++];g=e.Ea;g.Ba=0;g.Ca=0;g.Da=0;
g.Fa=0;g.Ga=0;g.Ha=0;g.ka=0;g.la=0;g.ma=0;g.na=0;g.oa=0;g.pa=0;e.Na=0;e.Ua=0;e.Qa=0;e.Pa=0;e.motorSpeed=0;e.Db=0;e.Aa=b;e.Na=h;e.Ua=0;e.Qa=-Infinity;e.Pa=Infinity;k=e.Ea;k.ka=this.h.M;k.la=this.h.V;k.ma=this.h.W;k.na=this.h.M;k.oa=this.h.V;k.pa=this.h.W;h=this.M[5];a=a.rows[a.La++];b=a.Ea;b.Ba=0;b.Ca=0;b.Da=0;b.Fa=0;b.Ga=0;b.Ha=0;b.ka=0;b.la=0;b.ma=0;b.na=0;b.oa=0;b.pa=0;a.Na=0;a.Ua=0;a.Qa=0;a.Pa=0;a.motorSpeed=0;a.Db=0;a.Aa=h;a.Na=d;a.Ua=0;a.Qa=-Infinity;a.Pa=Infinity;k=a.Ea;k.ka=this.h.Y;k.la=this.h.aa;
k.ma=this.h.qa;k.na=this.h.Y;k.oa=this.h.aa;k.pa=this.h.qa};dc.prototype.Gc=function(){za.prototype.Gc.call(this);var a=this.h,b=a.h.J.Ab,e=a.h.K.Ab,d=a.h.pb*a.h.cc+a.h.qb*a.h.dc+a.h.rb*a.h.ec;if(-.999999999>d){var c=a.h.pb,f=a.h.qb,h=a.h.rb,k=c*c,g=f*f,l=h*h;if(k<g)if(k<l){var m=1/Math.sqrt(g+l);var n=0;var q=h*m;var p=-f*m}else m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0;else g<l?(m=1/Math.sqrt(l+k),n=-h*m,q=0,p=c*m):(m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0);var r=n;var t=q;var x=p;var v=0}else{var B=a.h.qb*
a.h.ec-a.h.rb*a.h.dc;var H=a.h.rb*a.h.cc-a.h.pb*a.h.ec;var C=a.h.pb*a.h.dc-a.h.qb*a.h.cc;var N=Math.sqrt(.5*(1+d));d=.5/N;B*=d;H*=d;C*=d;r=B;t=H;x=C;v=N}var y,A;var E=A=y=0;var L=1;var G=r;var P=t;var K=x;var pa=v;var M=y*G+A*P+E*K+L*pa;0>M&&(M=-M,G=-G,P=-P,K=-K,pa=-pa);if(.999999<M){var Sa=G-y;var Pa=P-A;var Ca=K-E;var Ra=pa-L;G=y+b/(b+e)*Sa;P=A+b/(b+e)*Pa;K=E+b/(b+e)*Ca;pa=L+b/(b+e)*Ra;var wa=G*G+P*P+K*K+pa*pa;1E-32<wa&&(wa=1/Math.sqrt(wa));var La=G*wa;var Ea=P*wa;var O=K*wa;var ma=pa*wa}else{var Y=
b/(b+e)*Math.acos(M);G+=y*-M;P+=A*-M;K+=E*-M;pa+=L*-M;var ta=G*G+P*P+K*K+pa*pa;1E-32<ta&&(ta=1/Math.sqrt(ta));G*=ta;P*=ta;K*=ta;pa*=ta;var Va=Math.sin(Y),D=Math.cos(Y);y*=D;A*=D;E*=D;L*=D;La=y+G*Va;Ea=A+P*Va;O=E+K*Va;ma=L+pa*Va}var Aa=La,aa=Ea,Ua=O,xa=ma,Ja=2*Aa,S=2*aa,la=2*Ua,qa=Aa*Ja,Da=aa*S,X=Ua*la,fa=Aa*S,w=aa*la,ja=Aa*la,ea=xa*Ja,U=xa*S,ba=xa*la;var Fa=1-Da-X;var ka=fa-ba;var Qa=ja+U;var Ka=fa+ba;var V=1-qa-X;var ob=w-ea;var Za=ja-U;var W=w+ea;var ha=1-qa-Da;var I=Fa*a.h.pb+ka*a.h.qb+Qa*a.h.rb;
var na=Ka*a.h.pb+V*a.h.qb+ob*a.h.rb;var ca=Za*a.h.pb+W*a.h.qb+ha*a.h.rb;var da=a.i;var Z=a.C;var oa=a.I;var xb=a.M;var hb=a.V;var fb=a.W;var gb=da*I+Z*na+oa*ca;if(-.999999999>gb){var pb=da*da,ab=Z*Z,$a=oa*oa;if(pb<ab)if(pb<$a){var ua=1/Math.sqrt(ab+$a);var Ya=0;var Fb=oa*ua;var Xa=-Z*ua}else ua=1/Math.sqrt(pb+ab),Ya=Z*ua,Fb=-da*ua,Xa=0;else ab<$a?(ua=1/Math.sqrt($a+pb),Ya=-oa*ua,Fb=0,Xa=da*ua):(ua=1/Math.sqrt(pb+ab),Ya=Z*ua,Fb=-da*ua,Xa=0);La=Ya;Ea=Fb;O=Xa;ma=0}else{var Bb=Z*ca-oa*na;var Wa=oa*I-
da*ca;var Cb=da*na-Z*I;var qb=Math.sqrt(.5*(1+gb));gb=.5/qb;Bb*=gb;Wa*=gb;Cb*=gb;La=Bb;Ea=Wa;O=Cb;ma=qb}var bb=La,ib=Ea,rb=O,db=ma,Db=2*bb,jb=2*ib,nb=2*rb,cb=bb*Db,Jb=ib*jb,Kb=rb*nb,F=bb*jb,ub=ib*nb,lb=bb*nb,yb=db*Db,vb=db*jb,eb=db*nb;Fa=1-Jb-Kb;ka=F-eb;Qa=lb+vb;Ka=F+eb;V=1-cb-Kb;ob=ub-yb;Za=lb-vb;W=ub+yb;ha=1-cb-Jb;var Lb=Fa*xb+ka*hb+Qa*fb;var mb=Ka*xb+V*hb+ob*fb;var zb=Za*xb+W*hb+ha*fb;var u=Lb;var T=mb;var R=zb;var va=na*R-ca*T;var Na=ca*u-I*R;var ya=I*T-na*u;if(1E-6<va*va+Na*Na+ya*ya){var Oa=
va*va+Na*Na+ya*ya;0<Oa&&(Oa=1/Math.sqrt(Oa));va*=Oa;Na*=Oa;ya*=Oa}else{var kb=I*I,sb=na*na,Hb=ca*ca;if(kb<sb)if(kb<Hb){var Ba=1/Math.sqrt(sb+Hb);va=0;Na=ca*Ba;ya=-na*Ba}else Ba=1/Math.sqrt(kb+sb),va=na*Ba,Na=-I*Ba,ya=0;else sb<Hb?(Ba=1/Math.sqrt(Hb+kb),va=-ca*Ba,Na=0,ya=I*Ba):(Ba=1/Math.sqrt(kb+sb),va=na*Ba,Na=-I*Ba,ya=0)}u=Na*ca-ya*na;T=ya*I-va*ca;R=va*na-Na*I;a.i=I;a.C=na;a.I=ca;a.M=u;a.V=T;a.W=R;a.Y=va;a.aa=Na;a.qa=ya;var Ta=this.qb*this.ec-this.rb*this.dc;var sa=this.rb*this.cc-this.pb*this.ec;
var Ga=this.pb*this.dc-this.qb*this.cc;var Q=this.pb*this.cc+this.qb*this.dc+this.rb*this.ec,Ma=-1>=Q?3.14159265358979:1<=Q?0:Math.acos(Q),Ia=Ta*Ta+sa*sa+Ga*Ga;0<Ia&&(Ia=1/Math.sqrt(Ia));Ta*=Ia;sa*=Ia;Ga*=Ia;Ta*=Ma;sa*=Ma;Ga*=Ma;this.tc=Ta*this.h.M+sa*this.h.V+Ga*this.h.W;this.vd=Ta*this.h.Y+sa*this.h.aa+Ga*this.h.qa;var Eb=this.Cc*this.Hd-this.Dc*this.Gd;var wb=this.Dc*this.Fd-this.Bc*this.Hd;var Mb=this.Bc*this.Gd-this.Cc*this.Fd;Q=this.Bc*this.Fd+this.Cc*this.Gd+this.Dc*this.Hd;this.Va=-1>=Q?3.14159265358979:
1<=Q?0:Math.acos(Q);0>Eb*this.h.i+wb*this.h.C+Mb*this.h.I&&(this.Va=-this.Va);var Ib=this.ne-this.ke;var Tb=this.oe-this.le;var Rb=this.pe-this.me;this.Xa=Ib*this.h.i+Tb*this.h.C+Rb*this.h.I;this.ac=Ib*this.h.M+Tb*this.h.V+Rb*this.h.W;this.bc=Ib*this.h.Y+Tb*this.h.aa+Rb*this.h.qa};dc.prototype.nd=function(a,b){za.prototype.nd.call(this,a,b);this.Gb(b,a,!1)};dc.prototype.Ec=function(a){za.prototype.Ec.call(this,a);this.Gb(a,null,!0)};dc.prototype.gd=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=
this.rb;return a};dc.prototype.jd=function(){var a=new z;a.x=this.cc;a.y=this.dc;a.z=this.ec;return a};dc.prototype.hd=function(a){a.x=this.pb;a.y=this.qb;a.z=this.rb};dc.prototype.wd=function(a){a.x=this.cc;a.y=this.dc;a.z=this.ec};dc.prototype.$d=function(){var a=new z;a.x=this.i;a.y=this.C;a.z=this.I;return a};dc.prototype.be=function(){var a=new z;a.x=this.V;a.y=this.W;a.z=this.Y;return a};dc.prototype.ae=function(a){a.x=this.i;a.y=this.C;a.z=this.I};dc.prototype.Qd=function(a){a.x=this.V;a.y=
this.W;a.z=this.Y};dc.prototype.Ze=function(){return this.Fb};dc.prototype.Xe=function(){return this.tb};dc.prototype.Ye=function(){return this.Yh};dc.prototype.We=function(){return this.Vh};dc.prototype.yc=function(){return this.Va};dc.prototype.Rd=function(){return this.Xa};qf.prototype.h=function(a,b,e){this.rigidBody1=a;this.rigidBody2=b;var d=this.rigidBody1;a=this.localAnchor1;var c=e.x;var f=e.y;var h=e.z;c-=d.g.F;f-=d.g.G;h-=d.g.H;b=d.g.A*c+d.g.o*f+d.g.u*h;var k=d.g.j*c+d.g.v*f+d.g.l*h;d=
d.g.m*c+d.g.s*f+d.g.B*h;a.x=b;a.y=k;a.z=d;b=this.rigidBody2;a=this.localAnchor2;k=e.x;d=e.y;f=e.z;k-=b.g.F;d-=b.g.G;f-=b.g.H;e=b.g.A*k+b.g.o*d+b.g.u*f;c=b.g.j*k+b.g.v*d+b.g.l*f;b=b.g.m*k+b.g.s*d+b.g.B*f;a.x=e;a.y=c;a.z=b};rl(Yj,qf);Yj.prototype.Ia=function(a,b,e,d){this.h(a,b,e);e=this.localAxis1;var c=d.x;var f=d.y;var h=d.z;var k=a.g.A*c+a.g.o*f+a.g.u*h;var g=a.g.j*c+a.g.v*f+a.g.l*h;a=a.g.m*c+a.g.s*f+a.g.B*h;e.x=k;e.y=g;e.z=a;a=this.localAxis2;e=d.x;k=d.y;c=d.z;d=b.g.A*e+b.g.o*k+b.g.u*c;g=b.g.j*
e+b.g.v*k+b.g.l*c;b=b.g.m*e+b.g.s*k+b.g.B*c;a.x=d;a.y=g;a.z=b;return this};rl(Pc,za);Pc.prototype.gd=function(a,b,e){var d=1/(this.J.Ab+this.K.Ab),c=this.Sc(this.h,this.Va,this.Xa),f=this.Sc(this.Mc,this.Nc,this.Oc),h=this.Sc(this.tb,this.Fb,this.Gb);if(0>=this.bc[0].frequency||!e){var k=this.M[0];var g=a.rows[a.La++],l=g.Ea;l.Ba=0;l.Ca=0;l.Da=0;l.Fa=0;l.Ga=0;l.Ha=0;l.ka=0;l.la=0;l.ma=0;l.na=0;l.oa=0;l.pa=0;g.Na=0;g.Ua=0;g.Qa=0;g.Pa=0;g.motorSpeed=0;g.Db=0;g.Aa=k;this.Af(g,this.tc,this.Oe[0],d,this.bc[0],
b,e);k=g.Ea;k.Ba=this.pb;k.Ca=this.qb;k.Da=this.rb;k.Fa=this.pb;k.Ga=this.qb;k.Ha=this.rb;k.ka=this.qa*this.rb-this.Ma*this.qb;k.la=this.Ma*this.pb-this.aa*this.rb;k.ma=this.aa*this.qb-this.qa*this.pb;k.na=this.Sa*this.rb-this.Wa*this.qb;k.oa=this.Wa*this.pb-this.Oa*this.rb;k.pa=this.Oa*this.qb-this.Sa*this.pb}if(0>=this.bc[1].frequency||!e)k=this.M[1],g=a.rows[a.La++],l=g.Ea,l.Ba=0,l.Ca=0,l.Da=0,l.Fa=0,l.Ga=0,l.Ha=0,l.ka=0,l.la=0,l.ma=0,l.na=0,l.oa=0,l.pa=0,g.Na=0,g.Ua=0,g.Qa=0,g.Pa=0,g.motorSpeed=
0,g.Db=0,g.Aa=k,this.Af(g,this.vd,this.Oe[1],d,this.bc[1],b,e),k=g.Ea,k.Ba=this.Bc,k.Ca=this.Cc,k.Da=this.Dc,k.Fa=this.Bc,k.Ga=this.Cc,k.Ha=this.Dc,k.ka=this.qa*this.Dc-this.Ma*this.Cc,k.la=this.Ma*this.Bc-this.aa*this.Dc,k.ma=this.aa*this.Cc-this.qa*this.Bc,k.na=this.Sa*this.Dc-this.Wa*this.Cc,k.oa=this.Wa*this.Bc-this.Oa*this.Dc,k.pa=this.Oa*this.Cc-this.Sa*this.Bc;if(0>=this.bc[2].frequency||!e)k=this.M[2],g=a.rows[a.La++],l=g.Ea,l.Ba=0,l.Ca=0,l.Da=0,l.Fa=0,l.Ga=0,l.Ha=0,l.ka=0,l.la=0,l.ma=0,l.na=
0,l.oa=0,l.pa=0,g.Na=0,g.Ua=0,g.Qa=0,g.Pa=0,g.motorSpeed=0,g.Db=0,g.Aa=k,this.Af(g,this.yc,this.Oe[2],d,this.bc[2],b,e),k=g.Ea,k.Ba=this.Id,k.Ca=this.Jd,k.Da=this.Kd,k.Fa=this.Id,k.Ga=this.Jd,k.Ha=this.Kd,k.ka=this.qa*this.Kd-this.Ma*this.Jd,k.la=this.Ma*this.Id-this.aa*this.Kd,k.ma=this.aa*this.Jd-this.qa*this.Id,k.na=this.Sa*this.Kd-this.Wa*this.Jd,k.oa=this.Wa*this.Id-this.Oa*this.Kd,k.pa=this.Oa*this.Jd-this.Sa*this.Id;this.hd||!(0>=this.ac[0].frequency)&&e||(d=this.M[3],k=a.rows[a.La++],g=k.Ea,
g.Ba=0,g.Ca=0,g.Da=0,g.Fa=0,g.Ga=0,g.Ha=0,g.ka=0,g.la=0,g.ma=0,g.na=0,g.oa=0,g.pa=0,k.Na=0,k.Ua=0,k.Qa=0,k.Pa=0,k.motorSpeed=0,k.Db=0,k.Aa=d,this.Ed(k,this.qe,this.Ne[0],c,this.ac[0],b,e),k=k.Ea,k.ka=this.h,k.la=this.Va,k.ma=this.Xa,k.na=this.h,k.oa=this.Va,k.pa=this.Xa);this.jd||!(0>=this.ac[1].frequency)&&e||(c=this.M[4],d=a.rows[a.La++],k=d.Ea,k.Ba=0,k.Ca=0,k.Da=0,k.Fa=0,k.Ga=0,k.Ha=0,k.ka=0,k.la=0,k.ma=0,k.na=0,k.oa=0,k.pa=0,d.Na=0,d.Ua=0,d.Qa=0,d.Pa=0,d.motorSpeed=0,d.Db=0,d.Aa=c,this.Ed(d,this.Df,
this.Ne[1],f,this.ac[1],b,e),k=d.Ea,k.ka=this.Mc,k.la=this.Nc,k.ma=this.Oc,k.na=this.Mc,k.oa=this.Nc,k.pa=this.Oc);this.wd||!(0>=this.ac[2].frequency)&&e||(f=this.M[5],a=a.rows[a.La++],c=a.Ea,c.Ba=0,c.Ca=0,c.Da=0,c.Fa=0,c.Ga=0,c.Ha=0,c.ka=0,c.la=0,c.ma=0,c.na=0,c.oa=0,c.pa=0,a.Na=0,a.Ua=0,a.Qa=0,a.Pa=0,a.motorSpeed=0,a.Db=0,a.Aa=f,this.Ed(a,this.re,this.Ne[2],h,this.ac[2],b,e),k=a.Ea,k.ka=this.tb,k.la=this.Fb,k.ma=this.Gb,k.na=this.tb,k.oa=this.Fb,k.pa=this.Gb)};Pc.prototype.Gc=function(){za.prototype.Gc.call(this);
var a=this.pb;var b=this.qb;var e=this.rb;var d=this.se;var c=this.te;var f=this.ue;var h=c*e-f*b;var k=f*a-d*e;var g=d*b-c*a;this.h=k*f-g*c;this.Va=g*d-h*f;this.Xa=h*c-k*d;this.Mc=h;this.Nc=k;this.Oc=g;this.tb=b*g-e*k;this.Fb=e*h-a*g;this.Gb=a*k-b*h;a=this.h*this.h+this.Va*this.Va+this.Xa*this.Xa;0<a&&(a=1/Math.sqrt(a));this.h*=a;this.Va*=a;this.Xa*=a;a=this.Mc*this.Mc+this.Nc*this.Nc+this.Oc*this.Oc;0<a&&(a=1/Math.sqrt(a));this.Mc*=a;this.Nc*=a;this.Oc*=a;a=this.tb*this.tb+this.Fb*this.Fb+this.Gb*
this.Gb;0<a&&(a=1/Math.sqrt(a));this.tb*=a;this.Fb*=a;this.Gb*=a;this.hd=0==this.h*this.h+this.Va*this.Va+this.Xa*this.Xa;this.jd=0==this.Mc*this.Mc+this.Nc*this.Nc+this.Oc*this.Oc;this.wd=0==this.tb*this.tb+this.Fb*this.Fb+this.Gb*this.Gb;a=this.pb;var l=this.Bc;var m=this.Id;b=this.qb;var n=this.Cc;var q=this.Jd;e=this.rb;var p=this.Dc;var r=this.Kd;h=this.cc;k=this.Fd;var t=this.se;g=this.dc;d=this.Gd;var x=this.te;c=this.ec;f=this.Hd;var v=this.ue;var B=a*t+b*x+e*v;var H=l*k+n*d+p*f;var C=m*k+
q*d+r*f;-1>=B?(a=Math.atan2(C,H),l=.5*a,B=-1.570796326794895,a=.5*-a):1<=B?(a=Math.atan2(C,H),l=.5*a,B=1.570796326794895,a*=.5):(l=Math.atan2(-(l*t+n*x+p*v),m*t+q*x+r*v),B=Math.asin(B),a=Math.atan2(-(a*k+b*d+e*f),a*h+b*g+e*c));this.qe=l;this.Df=B;this.re=a;a=this.ne-this.ke;b=this.oe-this.le;e=this.pe-this.me;this.tc=a*this.pb+b*this.qb+e*this.rb;this.vd=a*this.Bc+b*this.Cc+e*this.Dc;this.yc=a*this.Id+b*this.Jd+e*this.Kd};Pc.prototype.nd=function(a,b){za.prototype.nd.call(this,a,b);this.gd(b,a,!1)};
Pc.prototype.Ec=function(a){za.prototype.Ec.call(this,a);this.gd(a,null,!0)};Pc.prototype.ae=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;return a};Pc.prototype.be=function(){var a=new z;a.x=this.Mc;a.y=this.Nc;a.z=this.Oc;return a};Pc.prototype.Qd=function(){var a=new z;a.x=this.se;a.y=this.te;a.z=this.ue;return a};Pc.prototype.Ye=function(){return this.bc.slice(0)};Pc.prototype.We=function(){return this.ac.slice(0)};Pc.prototype.Xe=function(){return this.Oe.slice(0)};Pc.prototype.Rd=
function(){return this.Ne.slice(0)};Pc.prototype.$d=function(){return new z(this.qe,this.Df,this.re)};Pc.prototype.Ze=function(){return new z(this.tc,this.vd,this.yc)};rl(Xj,qf);Xj.prototype.Ia=function(a,b,e,d,c){this.h(a,b,e);var f=a.g;b=b.g;var h=d.e00;var k=d.e01;var g=d.e02;var l=d.e10;var m=d.e11;var n=d.e12;var q=d.e20;var p=d.e21;var r=d.e22;var t=c.e00;var x=c.e01;var v=c.e02;var B=c.e10;var H=c.e11;var C=c.e12;var N=c.e20;var y=c.e21;var A=c.e22;c=f.A*h+f.o*l+f.u*q;d=f.A*k+f.o*m+f.u*p;a=
f.A*g+f.o*n+f.u*r;e=f.j*h+f.v*l+f.l*q;var E=f.j*k+f.v*m+f.l*p;var L=f.j*g+f.v*n+f.l*r;h=f.m*h+f.s*l+f.B*q;k=f.m*k+f.s*m+f.B*p;l=f.m*g+f.s*n+f.B*r;f=b.A*t+b.o*B+b.u*N;g=b.A*x+b.o*H+b.u*y;n=b.A*v+b.o*C+b.u*A;m=b.j*t+b.v*B+b.l*N;p=b.j*x+b.v*H+b.l*y;r=b.j*v+b.v*C+b.l*A;t=b.m*t+b.s*B+b.B*N;x=b.m*x+b.s*H+b.B*y;b=b.m*v+b.s*C+b.B*A;v=this.localBasis1;v.e00=c;v.e01=d;v.e02=a;v.e10=e;v.e11=E;v.e12=L;v.e20=h;v.e21=k;v.e22=l;c=this.localBasis2;c.e00=f;c.e01=g;c.e02=n;c.e10=m;c.e11=p;c.e12=r;c.e20=t;c.e21=x;c.e22=
b;return this};Gf.prototype.h=function(){return this.Rh};Gf.prototype.C=function(){return this.Fc};Gf.prototype.I=function(){return this.sa};Gf.prototype.i=function(){return this.U};rl(rc,za);rc.prototype.tc=function(a,b,e){var d=this.ce(b,e),c=this.ac*d,f=this.bc*d,h=this.tb*d,k=this.Va*d;d=this.Xa*d;if(0>=this.Fb.frequency||!e){var g=this.M[0],l=a.rows[a.La++],m=l.Ea;m.Ba=0;m.Ca=0;m.Da=0;m.Fa=0;m.Ga=0;m.Ha=0;m.ka=0;m.la=0;m.ma=0;m.na=0;m.oa=0;m.pa=0;l.Na=0;l.Ua=0;l.Qa=0;l.Pa=0;l.motorSpeed=0;l.Db=
0;l.Aa=g;this.Af(l,this.Gb,this.cg,1/(this.J.Ab+this.K.Ab),this.Fb,b,e);b=l.Ea;b.Ba=this.h.i;b.Ca=this.h.C;b.Da=this.h.I;b.Fa=this.h.i;b.Ga=this.h.C;b.Ha=this.h.I;b.ka=this.qa*this.h.I-this.Ma*this.h.C;b.la=this.Ma*this.h.i-this.aa*this.h.I;b.ma=this.aa*this.h.C-this.qa*this.h.i;b.na=this.Sa*this.h.I-this.Wa*this.h.C;b.oa=this.Wa*this.h.i-this.Oa*this.h.I;b.pa=this.Oa*this.h.C-this.Sa*this.h.i}b=this.M[1];e=a.rows[a.La++];g=e.Ea;g.Ba=0;g.Ca=0;g.Da=0;g.Fa=0;g.Ga=0;g.Ha=0;g.ka=0;g.la=0;g.ma=0;g.na=
0;g.oa=0;g.pa=0;e.Na=0;e.Ua=0;e.Qa=0;e.Pa=0;e.motorSpeed=0;e.Db=0;e.Aa=b;e.Na=c;e.Ua=0;e.Qa=-Infinity;e.Pa=Infinity;b=e.Ea;b.Ba=this.h.M;b.Ca=this.h.V;b.Da=this.h.W;b.Fa=this.h.M;b.Ga=this.h.V;b.Ha=this.h.W;b.ka=this.qa*this.h.W-this.Ma*this.h.V;b.la=this.Ma*this.h.M-this.aa*this.h.W;b.ma=this.aa*this.h.V-this.qa*this.h.M;b.na=this.Sa*this.h.W-this.Wa*this.h.V;b.oa=this.Wa*this.h.M-this.Oa*this.h.W;b.pa=this.Oa*this.h.V-this.Sa*this.h.M;c=this.M[2];b=a.rows[a.La++];e=b.Ea;e.Ba=0;e.Ca=0;e.Da=0;e.Fa=
0;e.Ga=0;e.Ha=0;e.ka=0;e.la=0;e.ma=0;e.na=0;e.oa=0;e.pa=0;b.Na=0;b.Ua=0;b.Qa=0;b.Pa=0;b.motorSpeed=0;b.Db=0;b.Aa=c;b.Na=f;b.Ua=0;b.Qa=-Infinity;b.Pa=Infinity;b=b.Ea;b.Ba=this.h.Y;b.Ca=this.h.aa;b.Da=this.h.qa;b.Fa=this.h.Y;b.Ga=this.h.aa;b.Ha=this.h.qa;b.ka=this.qa*this.h.qa-this.Ma*this.h.aa;b.la=this.Ma*this.h.Y-this.aa*this.h.qa;b.ma=this.aa*this.h.aa-this.qa*this.h.Y;b.na=this.Sa*this.h.qa-this.Wa*this.h.aa;b.oa=this.Wa*this.h.Y-this.Oa*this.h.qa;b.pa=this.Oa*this.h.aa-this.Sa*this.h.Y;f=this.M[3];
c=a.rows[a.La++];b=c.Ea;b.Ba=0;b.Ca=0;b.Da=0;b.Fa=0;b.Ga=0;b.Ha=0;b.ka=0;b.la=0;b.ma=0;b.na=0;b.oa=0;b.pa=0;c.Na=0;c.Ua=0;c.Qa=0;c.Pa=0;c.motorSpeed=0;c.Db=0;c.Aa=f;c.Na=h;c.Ua=0;c.Qa=-Infinity;c.Pa=Infinity;b=c.Ea;b.ka=1;b.la=0;b.ma=0;b.na=1;b.oa=0;b.pa=0;h=this.M[4];f=a.rows[a.La++];c=f.Ea;c.Ba=0;c.Ca=0;c.Da=0;c.Fa=0;c.Ga=0;c.Ha=0;c.ka=0;c.la=0;c.ma=0;c.na=0;c.oa=0;c.pa=0;f.Na=0;f.Ua=0;f.Qa=0;f.Pa=0;f.motorSpeed=0;f.Db=0;f.Aa=h;f.Na=k;f.Ua=0;f.Qa=-Infinity;f.Pa=Infinity;b=f.Ea;b.ka=0;b.la=1;b.ma=
0;b.na=0;b.oa=1;b.pa=0;k=this.M[5];a=a.rows[a.La++];h=a.Ea;h.Ba=0;h.Ca=0;h.Da=0;h.Fa=0;h.Ga=0;h.Ha=0;h.ka=0;h.la=0;h.ma=0;h.na=0;h.oa=0;h.pa=0;a.Na=0;a.Ua=0;a.Qa=0;a.Pa=0;a.motorSpeed=0;a.Db=0;a.Aa=k;a.Na=d;a.Ua=0;a.Qa=-Infinity;a.Pa=Infinity;b=a.Ea;b.ka=0;b.la=0;b.ma=1;b.na=0;b.oa=0;b.pa=1};rc.prototype.Gc=function(){za.prototype.Gc.call(this);var a=this.h,b=a.h.J.Ab,e=a.h.K.Ab,d=a.h.pb*a.h.cc+a.h.qb*a.h.dc+a.h.rb*a.h.ec;if(-.999999999>d){var c=a.h.pb,f=a.h.qb,h=a.h.rb,k=c*c,g=f*f,l=h*h;if(k<g)if(k<
l){var m=1/Math.sqrt(g+l);var n=0;var q=h*m;var p=-f*m}else m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0;else g<l?(m=1/Math.sqrt(l+k),n=-h*m,q=0,p=c*m):(m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0);var r=n;var t=q;var x=p;var v=0}else{var B=a.h.qb*a.h.ec-a.h.rb*a.h.dc;var H=a.h.rb*a.h.cc-a.h.pb*a.h.ec;var C=a.h.pb*a.h.dc-a.h.qb*a.h.cc;var N=Math.sqrt(.5*(1+d));d=.5/N;B*=d;H*=d;C*=d;r=B;t=H;x=C;v=N}var y,A;var E=A=y=0;var L=1;var G=r;var P=t;var K=x;var pa=v;var M=y*G+A*P+E*K+L*pa;0>M&&(M=-M,G=-G,P=-P,K=-K,pa=-pa);
if(.999999<M){var Sa=G-y;var Pa=P-A;var Ca=K-E;var Ra=pa-L;G=y+b/(b+e)*Sa;P=A+b/(b+e)*Pa;K=E+b/(b+e)*Ca;pa=L+b/(b+e)*Ra;var wa=G*G+P*P+K*K+pa*pa;1E-32<wa&&(wa=1/Math.sqrt(wa));var La=G*wa;var Ea=P*wa;var O=K*wa;var ma=pa*wa}else{var Y=b/(b+e)*Math.acos(M);G+=y*-M;P+=A*-M;K+=E*-M;pa+=L*-M;var ta=G*G+P*P+K*K+pa*pa;1E-32<ta&&(ta=1/Math.sqrt(ta));G*=ta;P*=ta;K*=ta;pa*=ta;var Va=Math.sin(Y),D=Math.cos(Y);y*=D;A*=D;E*=D;L*=D;La=y+G*Va;Ea=A+P*Va;O=E+K*Va;ma=L+pa*Va}var Aa=La,aa=Ea,Ua=O,xa=ma,Ja=2*Aa,S=2*
aa,la=2*Ua,qa=Aa*Ja,Da=aa*S,X=Ua*la,fa=Aa*S,w=aa*la,ja=Aa*la,ea=xa*Ja,U=xa*S,ba=xa*la;var Fa=1-Da-X;var ka=fa-ba;var Qa=ja+U;var Ka=fa+ba;var V=1-qa-X;var ob=w-ea;var Za=ja-U;var W=w+ea;var ha=1-qa-Da;var I=Fa*a.h.pb+ka*a.h.qb+Qa*a.h.rb;var na=Ka*a.h.pb+V*a.h.qb+ob*a.h.rb;var ca=Za*a.h.pb+W*a.h.qb+ha*a.h.rb;var da=a.i;var Z=a.C;var oa=a.I;var xb=a.M;var hb=a.V;var fb=a.W;var gb=da*I+Z*na+oa*ca;if(-.999999999>gb){var pb=da*da,ab=Z*Z,$a=oa*oa;if(pb<ab)if(pb<$a){var ua=1/Math.sqrt(ab+$a);var Ya=0;var Fb=
oa*ua;var Xa=-Z*ua}else ua=1/Math.sqrt(pb+ab),Ya=Z*ua,Fb=-da*ua,Xa=0;else ab<$a?(ua=1/Math.sqrt($a+pb),Ya=-oa*ua,Fb=0,Xa=da*ua):(ua=1/Math.sqrt(pb+ab),Ya=Z*ua,Fb=-da*ua,Xa=0);La=Ya;Ea=Fb;O=Xa;ma=0}else{var Bb=Z*ca-oa*na;var Wa=oa*I-da*ca;var Cb=da*na-Z*I;var qb=Math.sqrt(.5*(1+gb));gb=.5/qb;Bb*=gb;Wa*=gb;Cb*=gb;La=Bb;Ea=Wa;O=Cb;ma=qb}var bb=La,ib=Ea,rb=O,db=ma,Db=2*bb,jb=2*ib,nb=2*rb,cb=bb*Db,Jb=ib*jb,Kb=rb*nb,F=bb*jb,ub=ib*nb,lb=bb*nb,yb=db*Db,vb=db*jb,eb=db*nb;Fa=1-Jb-Kb;ka=F-eb;Qa=lb+vb;Ka=F+eb;
V=1-cb-Kb;ob=ub-yb;Za=lb-vb;W=ub+yb;ha=1-cb-Jb;var Lb=Fa*xb+ka*hb+Qa*fb;var mb=Ka*xb+V*hb+ob*fb;var zb=Za*xb+W*hb+ha*fb;var u=Lb;var T=mb;var R=zb;var va=na*R-ca*T;var Na=ca*u-I*R;var ya=I*T-na*u;if(1E-6<va*va+Na*Na+ya*ya){var Oa=va*va+Na*Na+ya*ya;0<Oa&&(Oa=1/Math.sqrt(Oa));va*=Oa;Na*=Oa;ya*=Oa}else{var kb=I*I,sb=na*na,Hb=ca*ca;if(kb<sb)if(kb<Hb){var Ba=1/Math.sqrt(sb+Hb);va=0;Na=ca*Ba;ya=-na*Ba}else Ba=1/Math.sqrt(kb+sb),va=na*Ba,Na=-I*Ba,ya=0;else sb<Hb?(Ba=1/Math.sqrt(Hb+kb),va=-ca*Ba,Na=0,ya=
I*Ba):(Ba=1/Math.sqrt(kb+sb),va=na*Ba,Na=-I*Ba,ya=0)}u=Na*ca-ya*na;T=ya*I-va*ca;R=va*na-Na*I;a.i=I;a.C=na;a.I=ca;a.M=u;a.V=T;a.W=R;a.Y=va;a.aa=Na;a.qa=ya;var Ta=this.pb;var sa=this.Bc;var Ga=this.Id;var Q=this.qb;var Ma=this.Cc;var Ia=this.Jd;var Eb=this.rb;var wb=this.Dc;var Mb=this.Kd;var Ib=this.cc;var Tb=this.Fd;var Rb=this.se;var Wb=this.dc;var mc=this.Gd;var Xb=this.te;var ic=this.ec;var bc=this.Hd;var $b=this.ue;var Zb=Ib*Ta+Tb*sa+Rb*Ga;var Qb=Ib*Q+Tb*Ma+Rb*Ia;var jc=Ib*Eb+Tb*wb+Rb*Mb;var ac=
Wb*Ta+mc*sa+Xb*Ga;var ec=Wb*Q+mc*Ma+Xb*Ia;var Ub=Wb*Eb+mc*wb+Xb*Mb;var kc=ic*Ta+bc*sa+$b*Ga;var uc=ic*Q+bc*Ma+$b*Ia;var fc=ic*Eb+bc*wb+$b*Mb,dd=Zb+ec+fc;if(0<dd){var Nb=Math.sqrt(dd+1);var nc=.5*Nb;Nb=.5/Nb;var gc=(uc-Ub)*Nb;var Vb=(jc-kc)*Nb;var lc=(ac-Qb)*Nb}else Zb>ec?Zb>fc?(Nb=Math.sqrt(Zb-ec-fc+1),gc=.5*Nb,Nb=.5/Nb,Vb=(Qb+ac)*Nb,lc=(jc+kc)*Nb,nc=(uc-Ub)*Nb):(Nb=Math.sqrt(fc-Zb-ec+1),lc=.5*Nb,Nb=.5/Nb,gc=(jc+kc)*Nb,Vb=(Ub+uc)*Nb,nc=(ac-Qb)*Nb):ec>fc?(Nb=Math.sqrt(ec-fc-Zb+1),Vb=.5*Nb,Nb=.5/Nb,
gc=(Qb+ac)*Nb,lc=(Ub+uc)*Nb,nc=(jc-kc)*Nb):(Nb=Math.sqrt(fc-Zb-ec+1),lc=.5*Nb,Nb=.5/Nb,gc=(jc+kc)*Nb,Vb=(Ub+uc)*Nb,nc=(ac-Qb)*Nb);var ed=nc,Bc=2*(-1>=ed?3.14159265358979:1<=ed?0:Math.acos(ed));this.tb=gc;this.Va=Vb;this.Xa=lc;var Kc=this.tb*this.tb+this.Va*this.Va+this.Xa*this.Xa;0<Kc&&(Kc=1/Math.sqrt(Kc));this.tb*=Kc;this.Va*=Kc;this.Xa*=Kc;this.tb*=Bc;this.Va*=Bc;this.Xa*=Bc;var zc=this.ne-this.ke;var Cc=this.oe-this.le;var sc=this.pe-this.me;this.Gb=zc*this.h.i+Cc*this.h.C+sc*this.h.I;this.ac=
zc*this.h.M+Cc*this.h.V+sc*this.h.W;this.bc=zc*this.h.Y+Cc*this.h.aa+sc*this.h.qa};rc.prototype.nd=function(a,b){za.prototype.nd.call(this,a,b);this.tc(b,a,!1)};rc.prototype.Ec=function(a){za.prototype.Ec.call(this,a);this.tc(a,null,!0)};rc.prototype.vd=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;return a};rc.prototype.gd=function(){var a=new z;a.x=this.cc;a.y=this.dc;a.z=this.ec;return a};rc.prototype.yc=function(a){a.x=this.pb;a.y=this.qb;a.z=this.rb};rc.prototype.hd=function(a){a.x=
this.cc;a.y=this.dc;a.z=this.ec};rc.prototype.wd=function(){var a=new z;a.x=this.i;a.y=this.C;a.z=this.I;return a};rc.prototype.ae=function(){var a=new z;a.x=this.V;a.y=this.W;a.z=this.Y;return a};rc.prototype.$d=function(a){a.x=this.i;a.y=this.C;a.z=this.I};rc.prototype.be=function(a){a.x=this.V;a.y=this.W;a.z=this.Y};rc.prototype.Qd=function(){return this.Fb};rc.prototype.jd=function(){return this.cg};rc.prototype.Rd=function(){return this.Gb};rl(Wj,qf);Wj.prototype.Ia=function(a,b,e,d){this.h(a,
b,e);e=this.localAxis1;var c=d.x;var f=d.y;var h=d.z;var k=a.g.A*c+a.g.o*f+a.g.u*h;var g=a.g.j*c+a.g.v*f+a.g.l*h;a=a.g.m*c+a.g.s*f+a.g.B*h;e.x=k;e.y=g;e.z=a;a=this.localAxis2;e=d.x;k=d.y;c=d.z;d=b.g.A*e+b.g.o*k+b.g.u*c;g=b.g.j*e+b.g.v*k+b.g.l*c;b=b.g.m*e+b.g.s*k+b.g.B*c;a.x=d;a.y=g;a.z=b;return this};rl(Yb,za);Yb.prototype.wd=function(a,b,e){var d=this.ce(b,e);var c=this.vd*d;var f=this.ac*d;var h=this.bc*d;var k=-this.Ma;var g=this.qa;var l=this.Ma;var m=-this.aa;var n=-this.qa;var q=this.aa;var p=
-this.Wa;var r=this.Sa;var t=this.Wa;var x=-this.Oa;var v=-this.Sa;var B=this.Oa;var H=this.Sc(this.h,this.Va,this.Xa);d=this.Sc(this.cc,this.dc,this.ec);var C=this.M[0],N=a.rows[a.La++],y=N.Ea;y.Ba=0;y.Ca=0;y.Da=0;y.Fa=0;y.Ga=0;y.Ha=0;y.ka=0;y.la=0;y.ma=0;y.na=0;y.oa=0;y.pa=0;N.Na=0;N.Ua=0;N.Qa=0;N.Pa=0;N.motorSpeed=0;N.Db=0;N.Aa=C;N.Na=c;N.Ua=0;N.Qa=-Infinity;N.Pa=Infinity;c=N.Ea;c.Ba=1;c.Ca=0;c.Da=0;c.Fa=1;c.Ga=0;c.Ha=0;c.ka=-0;c.la=-k;c.ma=-g;c.na=-0;c.oa=-p;c.pa=-r;c=this.M[1];k=a.rows[a.La++];
g=k.Ea;g.Ba=0;g.Ca=0;g.Da=0;g.Fa=0;g.Ga=0;g.Ha=0;g.ka=0;g.la=0;g.ma=0;g.na=0;g.oa=0;g.pa=0;k.Na=0;k.Ua=0;k.Qa=0;k.Pa=0;k.motorSpeed=0;k.Db=0;k.Aa=c;k.Na=f;k.Ua=0;k.Qa=-Infinity;k.Pa=Infinity;c=k.Ea;c.Ba=0;c.Ca=1;c.Da=0;c.Fa=0;c.Ga=1;c.Ha=0;c.ka=-l;c.la=-0;c.ma=-m;c.na=-t;c.oa=-0;c.pa=-x;f=this.M[2];l=a.rows[a.La++];m=l.Ea;m.Ba=0;m.Ca=0;m.Da=0;m.Fa=0;m.Ga=0;m.Ha=0;m.ka=0;m.la=0;m.ma=0;m.na=0;m.oa=0;m.pa=0;l.Na=0;l.Ua=0;l.Qa=0;l.Pa=0;l.motorSpeed=0;l.Db=0;l.Aa=f;l.Na=h;l.Ua=0;l.Qa=-Infinity;l.Pa=Infinity;
c=l.Ea;c.Ba=0;c.Ca=0;c.Da=1;c.Fa=0;c.Ga=0;c.Ha=1;c.ka=-n;c.la=-q;c.ma=-0;c.na=-v;c.oa=-B;c.pa=-0;0<this.yc&&(0>=this.gd.frequency||!e)&&(h=this.M[3],n=a.rows[a.La++],q=n.Ea,q.Ba=0,q.Ca=0,q.Da=0,q.Fa=0,q.Ga=0,q.Ha=0,q.ka=0,q.la=0,q.ma=0,q.na=0,q.oa=0,q.pa=0,n.Na=0,n.Ua=0,n.Qa=0,n.Pa=0,n.motorSpeed=0,n.Db=0,n.Aa=h,this.Ed(n,this.yc,this.jd,H,this.gd,b,e),c=n.Ea,c.ka=this.h,c.la=this.Va,c.ma=this.Xa,c.na=this.h,c.oa=this.Va,c.pa=this.Xa);if(0>=this.hd.frequency||!e)H=this.M[4],a=a.rows[a.La++],h=a.Ea,
h.Ba=0,h.Ca=0,h.Da=0,h.Fa=0,h.Ga=0,h.Ha=0,h.ka=0,h.la=0,h.ma=0,h.na=0,h.oa=0,h.pa=0,a.Na=0,a.Ua=0,a.Qa=0,a.Pa=0,a.motorSpeed=0,a.Db=0,a.Aa=H,this.Ed(a,this.Mg,this.Zh,d,this.hd,b,e),c=a.Ea,c.ka=this.tb,c.la=this.Fb,c.ma=this.Gb,c.na=this.tb,c.oa=this.Fb,c.pa=this.Gb};Yb.prototype.Gc=function(){za.prototype.Gc.call(this);var a=this.pb;var b=this.qb;var e=this.rb;var d=this.cc;var c=this.dc;var f=this.ec;var h=this.pb;var k=this.Bc;var g=this.Id;var l=this.qb;var m=this.Cc;var n=this.Jd;var q=this.rb;
var p=this.Dc;var r=this.Kd;var t=a*d+b*c+e*f;if(-.999999999>t){var x=a*a;d=b*b;c=e*e;x<d?x<c?(d=1/Math.sqrt(d+c),x=0,e*=d,a=-b*d):(d=1/Math.sqrt(x+d),x=b*d,e=-a*d,a=0):d<c?(d=1/Math.sqrt(c+x),x=-e*d,e=0,a*=d):(d=1/Math.sqrt(x+d),x=b*d,e=-a*d,a=0);var v=x;var B=e;var H=a;var C=0}else x=Math.sqrt(.5*(1+t)),t=.5/x,v=(b*f-e*c)*t,B=(e*d-a*f)*t,H=(a*c-b*d)*t,C=x;t=v;f=B;x=H;a=C;c=2*t;e=2*f;b=2*x;var N=t*c;var y=f*e;d=x*b;x=t*e;f*=b;t*=b;var A=a*c,E=a*e;c=a*b;a=1-y-d;b=x-c;e=t+E;x+=c;d=1-N-d;c=f-A;t-=E;
f+=A;N=1-N-y;this.tc=2*(-1>=C?3.14159265358979:1<=C?0:Math.acos(C));C=v;y=H;H=a*this.Fd+x*this.Gd+t*this.Hd;A=b*this.Fd+d*this.Gd+f*this.Hd;v=e*this.Fd+c*this.Gd+N*this.Hd;this.Mg=Math.atan2(this.Id*H+this.Jd*A+this.Kd*v,this.Bc*H+this.Cc*A+this.Dc*v);this.tb=this.pb+this.cc;this.Fb=this.qb+this.dc;this.Gb=this.rb+this.ec;v=this.tb*this.tb+this.Fb*this.Fb+this.Gb*this.Gb;0<v&&(v=1/Math.sqrt(v));this.tb*=v;this.Fb*=v;this.Gb*=v;H=Math.sqrt(C*C+B*B+y*y);0<H&&(H=1/H);C*=H*this.tc;B*=H*this.tc;y*=H*this.tc;
v=k*C+m*B+p*y;B=g*C+n*B+r*y;H=this.hh;C=this.ih;H=1/(H*H);y=1/(C*C);C=v*v*H+B*B*y;0==C?this.yc=this.Xa=this.Va=this.h=0:(A=Math.sqrt(1/C),C=v*A,A*=B,E=C*H,y*=A,H=1/Math.sqrt(E*E+y*y),E*=H,y*=H,v=(v-C)*E+(B-A)*y,0<v?(this.yc=v,this.h=0,this.Va=E,this.Xa=y,h=h*this.h+k*this.Va+g*this.Xa,l=l*this.h+m*this.Va+n*this.Xa,q=q*this.h+p*this.Va+r*this.Xa,this.h=h,this.Va=l,this.Xa=q,q=a*this.h+b*this.Va+e*this.Xa,p=x*this.h+d*this.Va+c*this.Xa,r=t*this.h+f*this.Va+N*this.Xa,this.h=q,this.Va=p,this.Xa=r):this.yc=
0);this.vd=this.ne-this.ke;this.ac=this.oe-this.le;this.bc=this.pe-this.me};Yb.prototype.nd=function(a,b){za.prototype.nd.call(this,a,b);this.wd(b,a,!1)};Yb.prototype.Ec=function(a){za.prototype.Ec.call(this,a);this.wd(a,null,!0)};Yb.prototype.$d=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;return a};Yb.prototype.be=function(){var a=new z;a.x=this.cc;a.y=this.dc;a.z=this.ec;return a};Yb.prototype.ae=function(a){a.x=this.pb;a.y=this.qb;a.z=this.rb};Yb.prototype.Qd=function(a){a.x=this.cc;
a.y=this.dc;a.z=this.ec};Yb.prototype.Rd=function(){var a=new z;a.x=this.i;a.y=this.C;a.z=this.I;return a};Yb.prototype.Xe=function(){var a=new z;a.x=this.V;a.y=this.W;a.z=this.Y;return a};Yb.prototype.We=function(a){a.x=this.i;a.y=this.C;a.z=this.I};Yb.prototype.Ye=function(a){a.x=this.V;a.y=this.W;a.z=this.Y};Yb.prototype.Ni=function(){return this.hd};Yb.prototype.hi=function(){return this.Zh};Yb.prototype.ug=function(){return this.gd};Yb.prototype.sg=function(){var a=new z;a.x=this.h;a.y=this.Va;
a.z=this.Xa;return a};Yb.prototype.tg=function(a){a.x=this.h;a.y=this.Va;a.z=this.Xa};Yb.prototype.Ze=function(){return this.tc};Yb.prototype.gi=function(){return this.Mg};rl(Vj,qf);Vj.prototype.Ia=function(a,b,e,d,c){this.h(a,b,e);e=this.localTwistAxis1;var f=d.x;var h=d.y;var k=d.z;var g=a.g.A*f+a.g.o*h+a.g.u*k;var l=a.g.j*f+a.g.v*h+a.g.l*k;f=a.g.m*f+a.g.s*h+a.g.B*k;e.x=g;e.y=l;e.z=f;e=this.localTwistAxis2;g=d.x;l=d.y;h=d.z;d=b.g.A*g+b.g.o*l+b.g.u*h;f=b.g.j*g+b.g.v*l+b.g.l*h;b=b.g.m*g+b.g.s*l+b.g.B*
h;e.x=d;e.y=f;e.z=b;b=this.localSwingAxis1;d=c.x;e=c.y;l=c.z;c=a.g.A*d+a.g.o*e+a.g.u*l;g=a.g.j*d+a.g.v*e+a.g.l*l;a=a.g.m*d+a.g.s*e+a.g.B*l;b.x=c;b.y=g;b.z=a;return this};rl(qc,za);qc.prototype.tb=function(a,b,e){var d=this.ce(b,e);var c=this.vd*d;var f=this.ac*d;var h=this.bc*d;var k=this.Fb*d;d=this.Gb*d;var g=-this.Ma;var l=this.qa;var m=this.Ma;var n=-this.aa;var q=-this.qa;var p=this.aa;var r=-this.Wa;var t=this.Sa;var x=this.Wa;var v=-this.Oa;var B=-this.Sa;var H=this.Oa;var C=this.Sc(this.h.i,
this.h.C,this.h.I),N=this.M[0],y=a.rows[a.La++],A=y.Ea;A.Ba=0;A.Ca=0;A.Da=0;A.Fa=0;A.Ga=0;A.Ha=0;A.ka=0;A.la=0;A.ma=0;A.na=0;A.oa=0;A.pa=0;y.Na=0;y.Ua=0;y.Qa=0;y.Pa=0;y.motorSpeed=0;y.Db=0;y.Aa=N;y.Na=c;y.Ua=0;y.Qa=-Infinity;y.Pa=Infinity;c=y.Ea;c.Ba=1;c.Ca=0;c.Da=0;c.Fa=1;c.Ga=0;c.Ha=0;c.ka=-0;c.la=-g;c.ma=-l;c.na=-0;c.oa=-r;c.pa=-t;c=this.M[1];g=a.rows[a.La++];l=g.Ea;l.Ba=0;l.Ca=0;l.Da=0;l.Fa=0;l.Ga=0;l.Ha=0;l.ka=0;l.la=0;l.ma=0;l.na=0;l.oa=0;l.pa=0;g.Na=0;g.Ua=0;g.Qa=0;g.Pa=0;g.motorSpeed=0;g.Db=
0;g.Aa=c;g.Na=f;g.Ua=0;g.Qa=-Infinity;g.Pa=Infinity;c=g.Ea;c.Ba=0;c.Ca=1;c.Da=0;c.Fa=0;c.Ga=1;c.Ha=0;c.ka=-m;c.la=-0;c.ma=-n;c.na=-x;c.oa=-0;c.pa=-v;f=this.M[2];m=a.rows[a.La++];n=m.Ea;n.Ba=0;n.Ca=0;n.Da=0;n.Fa=0;n.Ga=0;n.Ha=0;n.ka=0;n.la=0;n.ma=0;n.na=0;n.oa=0;n.pa=0;m.Na=0;m.Ua=0;m.Qa=0;m.Pa=0;m.motorSpeed=0;m.Db=0;m.Aa=f;m.Na=h;m.Ua=0;m.Qa=-Infinity;m.Pa=Infinity;c=m.Ea;c.Ba=0;c.Ca=0;c.Da=1;c.Fa=0;c.Ga=0;c.Ha=1;c.ka=-q;c.la=-p;c.ma=-0;c.na=-B;c.oa=-H;c.pa=-0;if(0>=this.Xa.frequency||!e)h=this.M[3],
q=a.rows[a.La++],p=q.Ea,p.Ba=0,p.Ca=0,p.Da=0,p.Fa=0,p.Ga=0,p.Ha=0,p.ka=0,p.la=0,p.ma=0,p.na=0,p.oa=0,p.pa=0,q.Na=0,q.Ua=0,q.Qa=0,q.Pa=0,q.motorSpeed=0,q.Db=0,q.Aa=h,this.Ed(q,this.Va,this.cg,C,this.Xa,b,e),c=q.Ea,c.ka=this.h.i,c.la=this.h.C,c.ma=this.h.I,c.na=this.h.i,c.oa=this.h.C,c.pa=this.h.I;b=this.M[4];e=a.rows[a.La++];C=e.Ea;C.Ba=0;C.Ca=0;C.Da=0;C.Fa=0;C.Ga=0;C.Ha=0;C.ka=0;C.la=0;C.ma=0;C.na=0;C.oa=0;C.pa=0;e.Na=0;e.Ua=0;e.Qa=0;e.Pa=0;e.motorSpeed=0;e.Db=0;e.Aa=b;e.Na=k;e.Ua=0;e.Qa=-Infinity;
e.Pa=Infinity;c=e.Ea;c.ka=this.h.M;c.la=this.h.V;c.ma=this.h.W;c.na=this.h.M;c.oa=this.h.V;c.pa=this.h.W;k=this.M[5];a=a.rows[a.La++];b=a.Ea;b.Ba=0;b.Ca=0;b.Da=0;b.Fa=0;b.Ga=0;b.Ha=0;b.ka=0;b.la=0;b.ma=0;b.na=0;b.oa=0;b.pa=0;a.Na=0;a.Ua=0;a.Qa=0;a.Pa=0;a.motorSpeed=0;a.Db=0;a.Aa=k;a.Na=d;a.Ua=0;a.Qa=-Infinity;a.Pa=Infinity;c=a.Ea;c.ka=this.h.Y;c.la=this.h.aa;c.ma=this.h.qa;c.na=this.h.Y;c.oa=this.h.aa;c.pa=this.h.qa};qc.prototype.Gc=function(){za.prototype.Gc.call(this);var a=this.h,b=a.h.J.Ab,e=
a.h.K.Ab,d=a.h.pb*a.h.cc+a.h.qb*a.h.dc+a.h.rb*a.h.ec;if(-.999999999>d){var c=a.h.pb,f=a.h.qb,h=a.h.rb,k=c*c,g=f*f,l=h*h;if(k<g)if(k<l){var m=1/Math.sqrt(g+l);var n=0;var q=h*m;var p=-f*m}else m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0;else g<l?(m=1/Math.sqrt(l+k),n=-h*m,q=0,p=c*m):(m=1/Math.sqrt(k+g),n=f*m,q=-c*m,p=0);var r=n;var t=q;var x=p;var v=0}else{var B=a.h.qb*a.h.ec-a.h.rb*a.h.dc;var H=a.h.rb*a.h.cc-a.h.pb*a.h.ec;var C=a.h.pb*a.h.dc-a.h.qb*a.h.cc;var N=Math.sqrt(.5*(1+d));d=.5/N;B*=d;H*=d;C*=d;r=
B;t=H;x=C;v=N}var y,A;var E=A=y=0;var L=1;var G=r;var P=t;var K=x;var pa=v;var M=y*G+A*P+E*K+L*pa;0>M&&(M=-M,G=-G,P=-P,K=-K,pa=-pa);if(.999999<M){var Sa=G-y;var Pa=P-A;var Ca=K-E;var Ra=pa-L;G=y+b/(b+e)*Sa;P=A+b/(b+e)*Pa;K=E+b/(b+e)*Ca;pa=L+b/(b+e)*Ra;var wa=G*G+P*P+K*K+pa*pa;1E-32<wa&&(wa=1/Math.sqrt(wa));var La=G*wa;var Ea=P*wa;var O=K*wa;var ma=pa*wa}else{var Y=b/(b+e)*Math.acos(M);G+=y*-M;P+=A*-M;K+=E*-M;pa+=L*-M;var ta=G*G+P*P+K*K+pa*pa;1E-32<ta&&(ta=1/Math.sqrt(ta));G*=ta;P*=ta;K*=ta;pa*=ta;
var Va=Math.sin(Y),D=Math.cos(Y);y*=D;A*=D;E*=D;L*=D;La=y+G*Va;Ea=A+P*Va;O=E+K*Va;ma=L+pa*Va}var Aa=La,aa=Ea,Ua=O,xa=ma,Ja=2*Aa,S=2*aa,la=2*Ua,qa=Aa*Ja,Da=aa*S,X=Ua*la,fa=Aa*S,w=aa*la,ja=Aa*la,ea=xa*Ja,U=xa*S,ba=xa*la;var Fa=1-Da-X;var ka=fa-ba;var Qa=ja+U;var Ka=fa+ba;var V=1-qa-X;var ob=w-ea;var Za=ja-U;var W=w+ea;var ha=1-qa-Da;var I=Fa*a.h.pb+ka*a.h.qb+Qa*a.h.rb;var na=Ka*a.h.pb+V*a.h.qb+ob*a.h.rb;var ca=Za*a.h.pb+W*a.h.qb+ha*a.h.rb;var da=a.i;var Z=a.C;var oa=a.I;var xb=a.M;var hb=a.V;var fb=
a.W;var gb=da*I+Z*na+oa*ca;if(-.999999999>gb){var pb=da*da,ab=Z*Z,$a=oa*oa;if(pb<ab)if(pb<$a){var ua=1/Math.sqrt(ab+$a);var Ya=0;var Fb=oa*ua;var Xa=-Z*ua}else ua=1/Math.sqrt(pb+ab),Ya=Z*ua,Fb=-da*ua,Xa=0;else ab<$a?(ua=1/Math.sqrt($a+pb),Ya=-oa*ua,Fb=0,Xa=da*ua):(ua=1/Math.sqrt(pb+ab),Ya=Z*ua,Fb=-da*ua,Xa=0);La=Ya;Ea=Fb;O=Xa;ma=0}else{var Bb=Z*ca-oa*na;var Wa=oa*I-da*ca;var Cb=da*na-Z*I;var qb=Math.sqrt(.5*(1+gb));gb=.5/qb;Bb*=gb;Wa*=gb;Cb*=gb;La=Bb;Ea=Wa;O=Cb;ma=qb}var bb=La,ib=Ea,rb=O,db=ma,Db=
2*bb,jb=2*ib,nb=2*rb,cb=bb*Db,Jb=ib*jb,Kb=rb*nb,F=bb*jb,ub=ib*nb,lb=bb*nb,yb=db*Db,vb=db*jb,eb=db*nb;Fa=1-Jb-Kb;ka=F-eb;Qa=lb+vb;Ka=F+eb;V=1-cb-Kb;ob=ub-yb;Za=lb-vb;W=ub+yb;ha=1-cb-Jb;var Lb=Fa*xb+ka*hb+Qa*fb;var mb=Ka*xb+V*hb+ob*fb;var zb=Za*xb+W*hb+ha*fb;var u=Lb;var T=mb;var R=zb;var va=na*R-ca*T;var Na=ca*u-I*R;var ya=I*T-na*u;if(1E-6<va*va+Na*Na+ya*ya){var Oa=va*va+Na*Na+ya*ya;0<Oa&&(Oa=1/Math.sqrt(Oa));va*=Oa;Na*=Oa;ya*=Oa}else{var kb=I*I,sb=na*na,Hb=ca*ca;if(kb<sb)if(kb<Hb){var Ba=1/Math.sqrt(sb+
Hb);va=0;Na=ca*Ba;ya=-na*Ba}else Ba=1/Math.sqrt(kb+sb),va=na*Ba,Na=-I*Ba,ya=0;else sb<Hb?(Ba=1/Math.sqrt(Hb+kb),va=-ca*Ba,Na=0,ya=I*Ba):(Ba=1/Math.sqrt(kb+sb),va=na*Ba,Na=-I*Ba,ya=0)}u=Na*ca-ya*na;T=ya*I-va*ca;R=va*na-Na*I;a.i=I;a.C=na;a.I=ca;a.M=u;a.V=T;a.W=R;a.Y=va;a.aa=Na;a.qa=ya;var Ta=this.qb*this.ec-this.rb*this.dc;var sa=this.rb*this.cc-this.pb*this.ec;var Ga=this.pb*this.dc-this.qb*this.cc;var Q=this.pb*this.cc+this.qb*this.dc+this.rb*this.ec,Ma=-1>=Q?3.14159265358979:1<=Q?0:Math.acos(Q),
Ia=Ta*Ta+sa*sa+Ga*Ga;0<Ia&&(Ia=1/Math.sqrt(Ia));Ta*=Ia;sa*=Ia;Ga*=Ia;Ta*=Ma;sa*=Ma;Ga*=Ma;this.Fb=Ta*this.h.M+sa*this.h.V+Ga*this.h.W;this.Gb=Ta*this.h.Y+sa*this.h.aa+Ga*this.h.qa;var Eb=this.Cc*this.Hd-this.Dc*this.Gd;var wb=this.Dc*this.Fd-this.Bc*this.Hd;var Mb=this.Bc*this.Gd-this.Cc*this.Fd;Q=this.Bc*this.Fd+this.Cc*this.Gd+this.Dc*this.Hd;this.Va=-1>=Q?3.14159265358979:1<=Q?0:Math.acos(Q);0>Eb*this.h.i+wb*this.h.C+Mb*this.h.I&&(this.Va=-this.Va);this.vd=this.ne-this.ke;this.ac=this.oe-this.le;
this.bc=this.pe-this.me};qc.prototype.nd=function(a,b){za.prototype.nd.call(this,a,b);this.tb(b,a,!1)};qc.prototype.Ec=function(a){za.prototype.Ec.call(this,a);this.tb(a,null,!0)};qc.prototype.yc=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;return a};qc.prototype.hd=function(){var a=new z;a.x=this.cc;a.y=this.dc;a.z=this.ec;return a};qc.prototype.gd=function(a){a.x=this.pb;a.y=this.qb;a.z=this.rb};qc.prototype.jd=function(a){a.x=this.cc;a.y=this.dc;a.z=this.ec};qc.prototype.$d=function(){var a=
new z;a.x=this.i;a.y=this.C;a.z=this.I;return a};qc.prototype.be=function(){var a=new z;a.x=this.V;a.y=this.W;a.z=this.Y;return a};qc.prototype.ae=function(a){a.x=this.i;a.y=this.C;a.z=this.I};qc.prototype.Qd=function(a){a.x=this.V;a.y=this.W;a.z=this.Y};qc.prototype.Rd=function(){return this.Xa};qc.prototype.wd=function(){return this.cg};qc.prototype.tc=function(){return this.Va};rl(Uj,qf);Uj.prototype.Ia=function(a,b,e,d){this.h(a,b,e);e=this.localAxis1;var c=d.x;var f=d.y;var h=d.z;var k=a.g.A*
c+a.g.o*f+a.g.u*h;var g=a.g.j*c+a.g.v*f+a.g.l*h;a=a.g.m*c+a.g.s*f+a.g.B*h;e.x=k;e.y=g;e.z=a;a=this.localAxis2;e=d.x;k=d.y;c=d.z;d=b.g.A*e+b.g.o*k+b.g.u*c;g=b.g.j*e+b.g.v*k+b.g.l*c;b=b.g.m*e+b.g.s*k+b.g.B*c;a.x=d;a.y=g;a.z=b;return this};te.prototype.h=function(a,b){this.lowerLimit=a;this.upperLimit=b;return this};te.prototype.i=function(a,b){this.motorSpeed=a;this.motorTorque=b;return this};te.prototype.clone=function(){var a=new te;a.lowerLimit=this.lowerLimit;a.upperLimit=this.upperLimit;a.motorSpeed=
this.motorSpeed;a.motorTorque=this.motorTorque;return a};rl(Zi,za);Zi.prototype.Va=function(a,b,e){if(!(0<this.h.frequency&&e)){var d=this.ne-this.ke;var c=this.oe-this.le;var f=this.pe-this.me;if(0<this.h.frequency){var h=6.28318530717958*this.h.frequency;e=this.h.dampingRatio;e<ra.minSpringDamperDampingRatio&&(e=ra.minSpringDamperDampingRatio);b=b.dt;e=2*e*h;var k=h*h;this.h.useSymplecticEuler?(h=1/(b*e),b=k/e):(h=1/(b*(b*k+e)),b=k/(b*k+e));h*=this.J.Ab+this.K.Ab}else h=0,b=this.ce(b,e);var g=-this.Ma;
var l=this.qa;var m=this.Ma;var n=-this.aa;e=-this.qa;k=this.aa;var q=-this.Wa;var p=this.Sa;var r=this.Wa;var t=-this.Oa;var x=-this.Sa;var v=this.Oa;var B=this.M[0],H=a.rows[a.La++],C=H.Ea;C.Ba=0;C.Ca=0;C.Da=0;C.Fa=0;C.Ga=0;C.Ha=0;C.ka=0;C.la=0;C.ma=0;C.na=0;C.oa=0;C.pa=0;H.Na=0;H.Ua=0;H.Qa=0;H.Pa=0;H.motorSpeed=0;H.Db=0;H.Aa=B;H.Na=d*b;H.Ua=h;H.Qa=-Infinity;H.Pa=Infinity;d=H.Ea;d.Ba=1;d.Ca=0;d.Da=0;d.Fa=1;d.Ga=0;d.Ha=0;d.ka=-0;d.la=-g;d.ma=-l;d.na=-0;d.oa=-q;d.pa=-p;d=this.M[1];g=a.rows[a.La++];
l=g.Ea;l.Ba=0;l.Ca=0;l.Da=0;l.Fa=0;l.Ga=0;l.Ha=0;l.ka=0;l.la=0;l.ma=0;l.na=0;l.oa=0;l.pa=0;g.Na=0;g.Ua=0;g.Qa=0;g.Pa=0;g.motorSpeed=0;g.Db=0;g.Aa=d;g.Na=c*b;g.Ua=h;g.Qa=-Infinity;g.Pa=Infinity;d=g.Ea;d.Ba=0;d.Ca=1;d.Da=0;d.Fa=0;d.Ga=1;d.Ha=0;d.ka=-m;d.la=-0;d.ma=-n;d.na=-r;d.oa=-0;d.pa=-t;c=this.M[2];a=a.rows[a.La++];d=a.Ea;d.Ba=0;d.Ca=0;d.Da=0;d.Fa=0;d.Ga=0;d.Ha=0;d.ka=0;d.la=0;d.ma=0;d.na=0;d.oa=0;d.pa=0;a.Na=0;a.Ua=0;a.Qa=0;a.Pa=0;a.motorSpeed=0;a.Db=0;a.Aa=c;a.Na=f*b;a.Ua=h;a.Qa=-Infinity;a.Pa=
Infinity;d=a.Ea;d.Ba=0;d.Ca=0;d.Da=1;d.Fa=0;d.Ga=0;d.Ha=1;d.ka=-e;d.la=-k;d.ma=-0;d.na=-x;d.oa=-v;d.pa=-0}};Zi.prototype.nd=function(a,b){za.prototype.nd.call(this,a,b);this.Va(b,a,!1)};Zi.prototype.Ec=function(a){za.prototype.Ec.call(this,a);this.Va(a,null,!0)};Zi.prototype.Xa=function(){return this.h};rl(Tj,qf);Tj.prototype.Ia=function(a,b,e){this.h(a,b,e);return this};Fd.prototype.h=function(a,b){this.frequency=a;this.dampingRatio=b;return this};Fd.prototype.i=function(a){this.useSymplecticEuler=
a;return this};Fd.prototype.clone=function(){var a=new Fd;a.frequency=this.frequency;a.dampingRatio=this.dampingRatio;a.useSymplecticEuler=this.useSymplecticEuler;return a};rf.prototype.h=function(a,b){this.lowerLimit=a;this.upperLimit=b;return this};rf.prototype.i=function(a,b){this.motorSpeed=a;this.motorForce=b;return this};rf.prototype.clone=function(){var a=new rf;a.lowerLimit=this.lowerLimit;a.upperLimit=this.upperLimit;a.motorSpeed=this.motorSpeed;a.motorForce=this.motorForce;return a};rl(cc,
za);cc.prototype.gd=function(a,b,e){var d=this.ce(b,e);var c=this.vd*d;var f=this.ac*d;var h=this.bc*d;var k=this.Df*d;var g=-this.Ma;var l=this.qa;var m=this.Ma;var n=-this.aa;var q=-this.qa;var p=this.aa;var r=-this.Wa;var t=this.Sa;var x=this.Wa;var v=-this.Oa;var B=-this.Sa;var H=this.Oa;var C=this.Sc(this.h,this.Va,this.Xa);d=this.Sc(this.tb,this.Fb,this.Gb);var N=this.M[0],y=a.rows[a.La++],A=y.Ea;A.Ba=0;A.Ca=0;A.Da=0;A.Fa=0;A.Ga=0;A.Ha=0;A.ka=0;A.la=0;A.ma=0;A.na=0;A.oa=0;A.pa=0;y.Na=0;y.Ua=
0;y.Qa=0;y.Pa=0;y.motorSpeed=0;y.Db=0;y.Aa=N;y.Na=c;y.Ua=0;y.Qa=-Infinity;y.Pa=Infinity;c=y.Ea;c.Ba=1;c.Ca=0;c.Da=0;c.Fa=1;c.Ga=0;c.Ha=0;c.ka=-0;c.la=-g;c.ma=-l;c.na=-0;c.oa=-r;c.pa=-t;c=this.M[1];g=a.rows[a.La++];l=g.Ea;l.Ba=0;l.Ca=0;l.Da=0;l.Fa=0;l.Ga=0;l.Ha=0;l.ka=0;l.la=0;l.ma=0;l.na=0;l.oa=0;l.pa=0;g.Na=0;g.Ua=0;g.Qa=0;g.Pa=0;g.motorSpeed=0;g.Db=0;g.Aa=c;g.Na=f;g.Ua=0;g.Qa=-Infinity;g.Pa=Infinity;c=g.Ea;c.Ba=0;c.Ca=1;c.Da=0;c.Fa=0;c.Ga=1;c.Ha=0;c.ka=-m;c.la=-0;c.ma=-n;c.na=-x;c.oa=-0;c.pa=-v;
f=this.M[2];m=a.rows[a.La++];n=m.Ea;n.Ba=0;n.Ca=0;n.Da=0;n.Fa=0;n.Ga=0;n.Ha=0;n.ka=0;n.la=0;n.ma=0;n.na=0;n.oa=0;n.pa=0;m.Na=0;m.Ua=0;m.Qa=0;m.Pa=0;m.motorSpeed=0;m.Db=0;m.Aa=f;m.Na=h;m.Ua=0;m.Qa=-Infinity;m.Pa=Infinity;c=m.Ea;c.Ba=0;c.Ca=0;c.Da=1;c.Fa=0;c.Ga=0;c.Ha=1;c.ka=-q;c.la=-p;c.ma=-0;c.na=-B;c.oa=-H;c.pa=-0;this.hd||!(0>=this.tc.frequency)&&e||(h=this.M[3],q=a.rows[a.La++],p=q.Ea,p.Ba=0,p.Ca=0,p.Da=0,p.Fa=0,p.Ga=0,p.Ha=0,p.ka=0,p.la=0,p.ma=0,p.na=0,p.oa=0,p.pa=0,q.Na=0,q.Ua=0,q.Qa=0,q.Pa=
0,q.motorSpeed=0,q.Db=0,q.Aa=h,this.Ed(q,this.qe,this.Sh,C,this.tc,b,e),c=q.Ea,c.ka=this.h,c.la=this.Va,c.ma=this.Xa,c.na=this.h,c.oa=this.Va,c.pa=this.Xa);this.jd||(C=this.M[4],h=a.rows[a.La++],q=h.Ea,q.Ba=0,q.Ca=0,q.Da=0,q.Fa=0,q.Ga=0,q.Ha=0,q.ka=0,q.la=0,q.ma=0,q.na=0,q.oa=0,q.pa=0,h.Na=0,h.Ua=0,h.Qa=0,h.Pa=0,h.motorSpeed=0,h.Db=0,h.Aa=C,h.Na=k,h.Ua=0,h.Qa=-Infinity,h.Pa=Infinity,c=h.Ea,c.ka=this.Mc,c.la=this.Nc,c.ma=this.Oc,c.na=this.Mc,c.oa=this.Nc,c.pa=this.Oc);this.wd||!(0>=this.yc.frequency)&&
e||(k=this.M[5],a=a.rows[a.La++],C=a.Ea,C.Ba=0,C.Ca=0,C.Da=0,C.Fa=0,C.Ga=0,C.Ha=0,C.ka=0,C.la=0,C.ma=0,C.na=0,C.oa=0,C.pa=0,a.Na=0,a.Ua=0,a.Qa=0,a.Pa=0,a.motorSpeed=0,a.Db=0,a.Aa=k,this.Ed(a,this.re,this.Th,d,this.yc,b,e),c=a.Ea,c.ka=this.tb,c.la=this.Fb,c.ma=this.Gb,c.na=this.tb,c.oa=this.Fb,c.pa=this.Gb)};cc.prototype.Gc=function(){za.prototype.Gc.call(this);var a=this.pb;var b=this.qb;var e=this.rb;var d=this.se;var c=this.te;var f=this.ue;var h=c*e-f*b;var k=f*a-d*e;var g=d*b-c*a;this.h=k*f-g*
c;this.Va=g*d-h*f;this.Xa=h*c-k*d;this.Mc=h;this.Nc=k;this.Oc=g;this.tb=b*g-e*k;this.Fb=e*h-a*g;this.Gb=a*k-b*h;a=this.h*this.h+this.Va*this.Va+this.Xa*this.Xa;0<a&&(a=1/Math.sqrt(a));this.h*=a;this.Va*=a;this.Xa*=a;a=this.Mc*this.Mc+this.Nc*this.Nc+this.Oc*this.Oc;0<a&&(a=1/Math.sqrt(a));this.Mc*=a;this.Nc*=a;this.Oc*=a;a=this.tb*this.tb+this.Fb*this.Fb+this.Gb*this.Gb;0<a&&(a=1/Math.sqrt(a));this.tb*=a;this.Fb*=a;this.Gb*=a;this.hd=0==this.h*this.h+this.Va*this.Va+this.Xa*this.Xa;this.jd=0==this.Mc*
this.Mc+this.Nc*this.Nc+this.Oc*this.Oc;this.wd=0==this.tb*this.tb+this.Fb*this.Fb+this.Gb*this.Gb;a=this.pb;var l=this.Bc;var m=this.Id;b=this.qb;var n=this.Cc;var q=this.Jd;e=this.rb;var p=this.Dc;var r=this.Kd;h=this.cc;k=this.Fd;var t=this.se;g=this.dc;d=this.Gd;var x=this.te;c=this.ec;f=this.Hd;var v=this.ue;var B=a*t+b*x+e*v;var H=l*k+n*d+p*f;var C=m*k+q*d+r*f;-1>=B?(a=Math.atan2(C,H),l=.5*a,B=-1.570796326794895,a=.5*-a):1<=B?(a=Math.atan2(C,H),l=.5*a,B=1.570796326794895,a*=.5):(l=Math.atan2(-(l*
t+n*x+p*v),m*t+q*x+r*v),B=Math.asin(B),a=Math.atan2(-(a*k+b*d+e*f),a*h+b*g+e*c));this.qe=l;this.Df=B;this.re=a;this.vd=this.ne-this.ke;this.ac=this.oe-this.le;this.bc=this.pe-this.me};cc.prototype.nd=function(a,b){za.prototype.nd.call(this,a,b);this.gd(b,a,!1)};cc.prototype.Ec=function(a){za.prototype.Ec.call(this,a);this.gd(a,null,!0)};cc.prototype.$d=function(){var a=new z;a.x=this.pb;a.y=this.qb;a.z=this.rb;return a};cc.prototype.be=function(){var a=new z;a.x=this.se;a.y=this.te;a.z=this.ue;return a};
cc.prototype.ae=function(a){a.x=this.pb;a.y=this.qb;a.z=this.rb};cc.prototype.Qd=function(a){a.x=this.se;a.y=this.te;a.z=this.ue};cc.prototype.Rd=function(){var a=new z;a.x=this.i;a.y=this.C;a.z=this.I;return a};cc.prototype.Xe=function(){var a=new z;a.x=this.Rb;a.y=this.Sb;a.z=this.Wb;return a};cc.prototype.We=function(a){a.x=this.i;a.y=this.C;a.z=this.I};cc.prototype.Ye=function(a){a.x=this.Rb;a.y=this.Sb;a.z=this.Wb};cc.prototype.gi=function(){return this.tc};cc.prototype.hi=function(){return this.yc};
cc.prototype.tg=function(){return this.Sh};cc.prototype.ug=function(){return this.Th};cc.prototype.Ze=function(){return this.qe};cc.prototype.sg=function(){return this.re};rl(Sj,qf);Sj.prototype.Ia=function(a,b,e,d,c){this.h(a,b,e);e=this.localAxis1;var f=d.x;var h=d.y;var k=d.z;d=a.g.A*f+a.g.o*h+a.g.u*k;var g=a.g.j*f+a.g.v*h+a.g.l*k;a=a.g.m*f+a.g.s*h+a.g.B*k;e.x=d;e.y=g;e.z=a;a=this.localAxis2;e=c.x;f=c.y;d=c.z;c=b.g.A*e+b.g.o*f+b.g.u*d;h=b.g.j*e+b.g.v*f+b.g.l*d;b=b.g.m*e+b.g.s*f+b.g.B*d;a.x=c;a.y=
h;a.z=b;return this};Bk.prototype.Ia=function(a){this.Ic=a.Ic;for(var b=0,e=this.Ic;b<e;){var d=b++;this.Qf[d]=a.Qf[d];this.Sf[d]=a.Sf[d]}this.Md=a.Md;b=0;for(e=this.Md;b<e;)d=b++,this.xf[d]=a.xf[d]};Bk.prototype.ci=function(a,b,e,d,c,f){for(var h=0,k=this.Md;h<k;){var g=this.xf[h++],l=a.rows[g];this.b[g]=l.Na*f-e[g]-l.Ua*d[g]}h=b.Fg;k=0;for(g=this.Ic;k<g;){var m=k++;l=this.Qf[m];m=this.Sf[m];var n=a.rows[l];m=(0>m?n.Qa:0<m?n.Pa:0)-d[l];c[l]=m;if(0!=m){n=0;for(var q=this.Md;n<q;){var p=this.xf[n++];
this.b[p]-=h[l][p]*m}}}k=this.xf;g=this.Md;for(m=l=0;m<g;)l|=1<<k[m++];b.Zg[l]||(b.Mi(l,k,g),b.Zg[l]=!0);k=b.Ph[l];b=!0;g=0;for(l=this.Md;g<l;){m=g++;n=this.xf[m];q=a.rows[n];for(var r=p=d[n],t=0,x=this.Md;t<x;){var v=t++;r+=this.b[this.xf[v]]*k[m][v]}if(r<q.Qa-ra.directMlcpSolverEps||r>q.Pa+ra.directMlcpSolverEps){b=!1;break}c[n]=r-p}if(!b)return!1;k=0;for(g=this.Ic;k<g;){n=k++;l=this.Qf[n];m=a.rows[l];n=this.Sf[n];q=d[l]+c[l];p=e[l];r=0;for(t=a.La;r<t;)x=r++,p+=h[l][x]*c[x];l=m.Na*f-p-m.Ua*q;if(0>
n&&l>ra.directMlcpSolverEps||0<n&&l<-ra.directMlcpSolverEps){b=!1;break}}return b};Yk.prototype.I=function(a,b){if(b==a.La)null==this.C[this.i]&&(this.C[this.i]=new Bk(this.M)),this.C[this.i++].Ia(this.h);else{var e=a.rows[b],d=-Infinity<e.Qa,c=Infinity>e.Pa;0==e.Qa&&0==e.Pa?(c=this.h,c.Qf[c.Ic]=b,c.Sf[c.Ic]=0,c.Ic++,this.I(a,b+1),this.h.Ic--):(e=this.h,e.xf[e.Md]=b,e.Md++,this.I(a,b+1),this.h.Md--,d&&(d=this.h,d.Qf[d.Ic]=b,d.Sf[d.Ic]=-1,d.Ic++,this.I(a,b+1),this.h.Ic--),c&&(c=this.h,c.Qf[c.Ic]=b,
c.Sf[c.Ic]=1,c.Ic++,this.I(a,b+1),this.h.Ic--))}};rl(yd,bd);yd.prototype.Rf=function(a){this.h.Gc();this.h.nd(a,this.info);this.J=this.info.Yd;this.K=this.info.Zd;this.W.I(this.info,this.I);a=this.i;a.i=0;var b=a.h;b.Ic=0;b.Md=0;a.I(this.info,0);a=this.qa;b=this.i.i;for(var e=0,d=0,c=0,f=a.C;c<f;){var h=a.h[c++];h<b?(a.i[e]=h,++e):(a.i[b+d]=h,++d)}b=a.h;a.h=a.i;a.i=b};yd.prototype.Wf=function(a){var b=this.h.pf==Fh.BAUMGARTE?ra.jointWarmStartingFactorForBaungarte:ra.jointWarmStartingFactor;b*=a.dtRatio;
if(0>=b)for(b=0,a=this.info.La;b<a;){var e=this.info.rows[b++].Aa;e.Aa=0;e.Tc=0;e.Hb=0}else{a=0;for(e=this.info.La;a<e;){var d=a++,c=this.info.rows[d],f=c.Aa,h=f.Aa*b;h<c.Qa?h=c.Qa:h>c.Pa&&(h=c.Pa);f.Aa=h;0<c.Db?(h=f.Tc*b,c=c.Db,h<-c?h=-c:h>c&&(h=c),f.Tc=h):f.Tc=0;this.C[d]=f.Aa+f.Tc}b=this.C;e=a=!1;d=this.J.ub;f=this.J.vb;c=this.J.wb;h=this.K.ub;var k=this.K.vb;var g=this.K.wb;var l=this.J.xb;var m=this.J.yb;var n=this.J.zb;var q=this.K.xb;var p=this.K.yb;var r=this.K.zb;for(var t=0,x=this.info.La;t<
x;){var v=t++,B=this.info.rows[v].Ea,H=this.I[v];v=b[v];0!=(B.sc&1)&&(d+=H.$c*v,f+=H.ad*v,c+=H.bd*v,h+=H.cd*-v,k+=H.dd*-v,g+=H.ed*-v,a=!0);0!=(B.sc&2)&&(l+=H.Uc*v,m+=H.Vc*v,n+=H.Wc*v,q+=H.Xc*-v,p+=H.Yc*-v,r+=H.Zc*-v,e=!0)}a&&(this.J.ub=d,this.J.vb=f,this.J.wb=c,this.K.ub=h,this.K.vb=k,this.K.wb=g);e&&(this.J.xb=l,this.J.yb=m,this.J.zb=n,this.K.xb=q,this.K.yb=p,this.K.zb=r)}};yd.prototype.Vf=function(){var a=this.info.La;var b=this.J.ub;var e=this.J.vb;var d=this.J.wb;var c=this.K.ub;var f=this.K.vb;
var h=this.K.wb;var k=this.J.xb;var g=this.J.yb;var l=this.J.zb;var m=this.K.xb;var n=this.K.yb;var q=this.K.zb;for(var p=0;p<a;){var r=p++,t=this.info.rows[r],x=t.Ea,v=0;v+=b*x.Ba+e*x.Ca+d*x.Da;v-=c*x.Fa+f*x.Ga+h*x.Ha;v+=k*x.ka+g*x.la+l*x.ma;v-=m*x.na+n*x.oa+q*x.pa;this.M[r]=v;this.V[r]=t.Aa.Aa;this.Y[r]=0}b=this.W.Fg;for(e=0;e<a;)if(d=e++,k=this.info.rows[d],c=k.Aa,0<k.Db)for(f=c.Tc,h=f+this.I[d].Je*(-k.motorSpeed-this.M[d]),k=k.Db,h<-k?h=-k:h>k&&(h=k),c.Tc=h,c=h-f,this.Y[d]=c,f=0;f<a;)h=f++,this.M[h]+=
c*b[d][h];e=!1;d=0;for(c=this.i.i;d<c;)if(b=this.qa.h[d++],this.i.C[b].ci(this.info,this.W,this.M,this.V,this.C,1)){for(e=0;e<a;)d=e++,c=this.C[d],this.info.rows[d].Aa.Aa+=c,this.Y[d]+=c;a=this.Y;d=e=!1;c=this.J.ub;f=this.J.vb;h=this.J.wb;k=this.K.ub;g=this.K.vb;l=this.K.wb;m=this.J.xb;n=this.J.yb;q=this.J.zb;p=this.K.xb;r=this.K.yb;t=this.K.zb;x=0;for(v=this.info.La;x<v;){var B=x++,H=this.info.rows[B].Ea,C=this.I[B];B=a[B];0!=(H.sc&1)&&(c+=C.$c*B,f+=C.ad*B,h+=C.bd*B,k+=C.cd*-B,g+=C.dd*-B,l+=C.ed*
-B,e=!0);0!=(H.sc&2)&&(m+=C.Uc*B,n+=C.Vc*B,q+=C.Wc*B,p+=C.Xc*-B,r+=C.Yc*-B,t+=C.Zc*-B,d=!0)}e&&(this.J.ub=c,this.J.vb=f,this.J.wb=h,this.K.ub=k,this.K.vb=g,this.K.wb=l);d&&(this.J.xb=m,this.J.yb=n,this.J.zb=q,this.K.xb=p,this.K.yb=r,this.K.zb=t);a=this.qa;for(e=0;a.h[e]!=b;)++e;for(;0<e;)b=a.h[e],a.h[e]=a.h[e-1],a.h[e-1]=b,--e;e=!0;break}e||console.log("src/oimo/dynamics/constraint/solver/direct/DirectJointConstraintSolver.hx:335:","could not find solution. (velocity)")};yd.prototype.rg=function(a){for(var b,
e,d,c,f,h,k=h=f=c=d=e=b=0,g=this.info.La;k<g;){var l=this.info.rows[k++],m=l.Aa;l=l.Ea;0!=(l.sc&1)?(b+=l.Ba*m.Aa,e+=l.Ca*m.Aa,d+=l.Da*m.Aa):0!=(l.sc&2)&&(c+=l.ka*m.Aa,f+=l.la*m.Aa,h+=l.ma*m.Aa)}this.h.vg=b*a.invDt;this.h.wg=e*a.invDt;this.h.xg=d*a.invDt;this.h.yg=c*a.invDt;this.h.zg=f*a.invDt;this.h.Ag=h*a.invDt};yd.prototype.Bf=function(){this.h.Gc();this.h.Ec(this.info);this.J=this.info.Yd;this.K=this.info.Zd;this.W.I(this.info,this.I);var a=this.i;a.i=0;var b=a.h;b.Ic=0;b.Md=0;a.I(this.info,0);
a=this.aa;b=this.i.i;for(var e=0,d=0,c=0,f=a.C;c<f;){var h=a.h[c++];h<b?(a.i[e]=h,++e):(a.i[b+d]=h,++d)}b=a.h;a.h=a.i;a.i=b;a=0;for(b=this.info.La;a<b;)this.info.rows[a++].Aa.Hb=0};yd.prototype.Uf=function(){var a=this.info.La;var b=this.J.Pc;var e=this.J.Qc;var d=this.J.Rc;var c=this.K.Pc;var f=this.K.Qc;var h=this.K.Rc;var k=this.J.Jc;var g=this.J.Kc;var l=this.J.Lc;var m=this.K.Jc;var n=this.K.Kc;var q=this.K.Lc;for(var p=0;p<a;){var r=p++,t=this.info.rows[r],x=t.Ea,v=0;v+=b*x.Ba+e*x.Ca+d*x.Da;
v-=c*x.Fa+f*x.Ga+h*x.Ha;v+=k*x.ka+g*x.la+l*x.ma;v-=m*x.na+n*x.oa+q*x.pa;this.M[r]=v;this.V[r]=t.Aa.Hb}e=!1;d=0;for(c=this.i.i;d<c;)if(b=this.aa.h[d++],this.i.C[b].ci(this.info,this.W,this.M,this.V,this.C,ra.positionSplitImpulseBaumgarte)){for(e=0;e<a;)d=e++,this.info.rows[d].Aa.Hb+=this.C[d];a=this.C;d=e=!1;c=this.J.Pc;f=this.J.Qc;h=this.J.Rc;k=this.K.Pc;g=this.K.Qc;l=this.K.Rc;m=this.J.Jc;n=this.J.Kc;q=this.J.Lc;p=this.K.Jc;r=this.K.Kc;t=this.K.Lc;x=0;for(v=this.info.La;x<v;){var B=x++,H=this.info.rows[B].Ea,
C=this.I[B];B=a[B];0!=(H.sc&1)&&(c+=C.$c*B,f+=C.ad*B,h+=C.bd*B,k+=C.cd*-B,g+=C.dd*-B,l+=C.ed*-B,e=!0);0!=(H.sc&2)&&(m+=C.Uc*B,n+=C.Vc*B,q+=C.Wc*B,p+=C.Xc*-B,r+=C.Yc*-B,t+=C.Zc*-B,d=!0)}e&&(this.J.Pc=c,this.J.Qc=f,this.J.Rc=h,this.K.Pc=k,this.K.Qc=g,this.K.Rc=l);d&&(this.J.Jc=m,this.J.Kc=n,this.J.Lc=q,this.K.Jc=p,this.K.Kc=r,this.K.Lc=t);a=this.aa;for(e=0;a.h[e]!=b;)++e;for(;0<e;)b=a.h[e],a.h[e]=a.h[e-1],a.h[e-1]=b,--e;e=!0;break}e||console.log("src/oimo/dynamics/constraint/solver/direct/DirectJointConstraintSolver.hx:450:",
"could not find solution. (split impulse)")};yd.prototype.Tf=function(){this.h.Gc();this.h.Ec(this.info);this.J=this.info.Yd;this.K=this.info.Zd;this.W.I(this.info,this.I);var a=this.i;a.i=0;var b=a.h;b.Ic=0;b.Md=0;a.I(this.info,0);for(var e=this.aa,d=this.i.i,c=0,f=0,h=0,k=e.C;h<k;){var g=e.h[h++];g<d?(e.i[c]=g,++c):(e.i[d+f]=g,++f)}var l=e.h;e.h=e.i;e.i=l;for(var m=this.info.La,n=0;n<m;){var q=n++,p=this.info.rows[q].Aa;this.M[q]=0;this.V[q]=p.Hb}for(var r=!1,t=0,x=this.i.i;t<x;){var v=this.aa.h[t++];
if(this.i.C[v].ci(this.info,this.W,this.M,this.V,this.C,ra.positionNgsBaumgarte)){for(var B=0;B<m;){var H=B++;this.info.rows[H].Aa.Hb+=this.C[H]}for(var C=this.C,N=!1,y=!1,A=void 0,E=void 0,L=void 0,G=void 0,P=void 0,K=void 0,pa=void 0,M=void 0,Sa=void 0,Pa=void 0,Ca=void 0,Ra=void 0,wa=Ra=Ca=Pa=Sa=M=pa=K=P=G=L=E=A=0,La=this.info.La;wa<La;){var Ea=wa++,O=this.info.rows[Ea].Ea,ma=this.I[Ea],Y=C[Ea];0!=(O.sc&1)&&(A+=ma.$c*Y,E+=ma.ad*Y,L+=ma.bd*Y,G+=ma.cd*-Y,P+=ma.dd*-Y,K+=ma.ed*-Y,N=!0);0!=(O.sc&2)&&
(pa+=ma.Uc*Y,M+=ma.Vc*Y,Sa+=ma.Wc*Y,Pa+=ma.Xc*-Y,Ca+=ma.Yc*-Y,Ra+=ma.Zc*-Y,y=!0)}if(N){var ta=this.J;ta.g.F+=A;ta.g.G+=E;ta.g.H+=L;var Va=this.K;Va.g.F+=G;Va.g.G+=P;Va.g.H+=K}if(y){var D=this.J,Aa=Math.sqrt(pa*pa+M*M+Sa*Sa),aa=.5*Aa,Ua=void 0,xa=void 0;if(.5>aa){var Ja=aa*aa;Ua=.5*(1-.16666666666666666*Ja+Ja*Ja*.008333333333333333);xa=1-.5*Ja+Ja*Ja*.041666666666666664}else Ua=Math.sin(aa)/Aa,xa=Math.cos(aa);var S=void 0,la=void 0,qa=void 0;S=pa*Ua;la=M*Ua;qa=Sa*Ua;var Da=void 0,X=void 0,fa=void 0,
w=void 0;Da=S;X=la;fa=qa;w=xa;var ja=void 0,ea=void 0,U=void 0,ba=void 0,Fa=D.g.A,ka=D.g.v,Qa=D.g.B,Ka=Fa+ka+Qa,V=void 0;0<Ka?(V=Math.sqrt(Ka+1),ba=.5*V,V=.5/V,ja=(D.g.l-D.g.s)*V,ea=(D.g.m-D.g.u)*V,U=(D.g.o-D.g.j)*V):Fa>ka?Fa>Qa?(V=Math.sqrt(Fa-ka-Qa+1),ja=.5*V,V=.5/V,ea=(D.g.j+D.g.o)*V,U=(D.g.m+D.g.u)*V,ba=(D.g.l-D.g.s)*V):(V=Math.sqrt(Qa-Fa-ka+1),U=.5*V,V=.5/V,ja=(D.g.m+D.g.u)*V,ea=(D.g.s+D.g.l)*V,ba=(D.g.o-D.g.j)*V):ka>Qa?(V=Math.sqrt(ka-Qa-Fa+1),ea=.5*V,V=.5/V,ja=(D.g.j+D.g.o)*V,U=(D.g.s+D.g.l)*
V,ba=(D.g.m-D.g.u)*V):(V=Math.sqrt(Qa-Fa-ka+1),U=.5*V,V=.5/V,ja=(D.g.m+D.g.u)*V,ea=(D.g.s+D.g.l)*V,ba=(D.g.o-D.g.j)*V);ja=w*ja+Da*ba+X*U-fa*ea;ea=w*ea-Da*U+X*ba+fa*ja;U=w*U+Da*ea-X*ja+fa*ba;ba=w*ba-Da*ja-X*ea-fa*U;var ob=ja*ja+ea*ea+U*U+ba*ba;1E-32<ob&&(ob=1/Math.sqrt(ob));ja*=ob;ea*=ob;U*=ob;ba*=ob;var Za=ja,W=ea,ha=U,I=ba,na=2*Za,ca=2*W,da=2*ha,Z=Za*na,oa=W*ca,xb=ha*da,hb=Za*ca,fb=W*da,gb=Za*da,pb=I*na,ab=I*ca,$a=I*da;D.g.A=1-oa-xb;D.g.j=hb-$a;D.g.m=gb+ab;D.g.o=hb+$a;D.g.v=1-Z-xb;D.g.s=fb-pb;D.g.u=
gb-ab;D.g.l=fb+pb;D.g.B=1-Z-oa;var ua=void 0,Ya=void 0,Fb=void 0,Xa=void 0,Bb=void 0,Wa=void 0,Cb=void 0,qb=void 0,bb=void 0;ua=D.g.A*D.bb+D.g.j*D.fb+D.g.m*D.ib;Ya=D.g.A*D.cb+D.g.j*D.gb+D.g.m*D.jb;Fb=D.g.A*D.eb+D.g.j*D.hb+D.g.m*D.kb;Xa=D.g.o*D.bb+D.g.v*D.fb+D.g.s*D.ib;Bb=D.g.o*D.cb+D.g.v*D.gb+D.g.s*D.jb;Wa=D.g.o*D.eb+D.g.v*D.hb+D.g.s*D.kb;Cb=D.g.u*D.bb+D.g.l*D.fb+D.g.B*D.ib;qb=D.g.u*D.cb+D.g.l*D.gb+D.g.B*D.jb;bb=D.g.u*D.eb+D.g.l*D.hb+D.g.B*D.kb;D.ba=ua;D.ca=Ya;D.da=Fb;D.ea=Xa;D.fa=Bb;D.ga=Wa;D.ha=
Cb;D.ia=qb;D.ja=bb;var ib=void 0,rb=void 0,db=void 0,Db=void 0,jb=void 0,nb=void 0,cb=void 0,Jb=void 0,Kb=void 0;ib=D.ba*D.g.A+D.ca*D.g.j+D.da*D.g.m;rb=D.ba*D.g.o+D.ca*D.g.v+D.da*D.g.s;db=D.ba*D.g.u+D.ca*D.g.l+D.da*D.g.B;Db=D.ea*D.g.A+D.fa*D.g.j+D.ga*D.g.m;jb=D.ea*D.g.o+D.fa*D.g.v+D.ga*D.g.s;nb=D.ea*D.g.u+D.fa*D.g.l+D.ga*D.g.B;cb=D.ha*D.g.A+D.ia*D.g.j+D.ja*D.g.m;Jb=D.ha*D.g.o+D.ia*D.g.v+D.ja*D.g.s;Kb=D.ha*D.g.u+D.ia*D.g.l+D.ja*D.g.B;D.ba=ib;D.ca=rb;D.da=db;D.ea=Db;D.fa=jb;D.ga=nb;D.ha=cb;D.ia=Jb;
D.ja=Kb;D.ba*=D.X.x;D.ca*=D.X.x;D.da*=D.X.x;D.ea*=D.X.y;D.fa*=D.X.y;D.ga*=D.X.y;D.ha*=D.X.z;D.ia*=D.X.z;D.ja*=D.X.z;var F=this.K,ub=Math.sqrt(Pa*Pa+Ca*Ca+Ra*Ra),lb=.5*ub,yb=void 0,vb=void 0;if(.5>lb){var eb=lb*lb;yb=.5*(1-.16666666666666666*eb+eb*eb*.008333333333333333);vb=1-.5*eb+eb*eb*.041666666666666664}else yb=Math.sin(lb)/ub,vb=Math.cos(lb);var Lb=void 0,mb=void 0,zb=void 0;Lb=Pa*yb;mb=Ca*yb;zb=Ra*yb;var u=void 0,T=void 0,R=void 0,va=void 0;u=Lb;T=mb;R=zb;va=vb;var Na=void 0,ya=void 0,Oa=void 0,
kb=void 0,sb=F.g.A,Hb=F.g.v,Ba=F.g.B,Ta=sb+Hb+Ba,sa=void 0;0<Ta?(sa=Math.sqrt(Ta+1),kb=.5*sa,sa=.5/sa,Na=(F.g.l-F.g.s)*sa,ya=(F.g.m-F.g.u)*sa,Oa=(F.g.o-F.g.j)*sa):sb>Hb?sb>Ba?(sa=Math.sqrt(sb-Hb-Ba+1),Na=.5*sa,sa=.5/sa,ya=(F.g.j+F.g.o)*sa,Oa=(F.g.m+F.g.u)*sa,kb=(F.g.l-F.g.s)*sa):(sa=Math.sqrt(Ba-sb-Hb+1),Oa=.5*sa,sa=.5/sa,Na=(F.g.m+F.g.u)*sa,ya=(F.g.s+F.g.l)*sa,kb=(F.g.o-F.g.j)*sa):Hb>Ba?(sa=Math.sqrt(Hb-Ba-sb+1),ya=.5*sa,sa=.5/sa,Na=(F.g.j+F.g.o)*sa,Oa=(F.g.s+F.g.l)*sa,kb=(F.g.m-F.g.u)*sa):(sa=Math.sqrt(Ba-
sb-Hb+1),Oa=.5*sa,sa=.5/sa,Na=(F.g.m+F.g.u)*sa,ya=(F.g.s+F.g.l)*sa,kb=(F.g.o-F.g.j)*sa);Na=va*Na+u*kb+T*Oa-R*ya;ya=va*ya-u*Oa+T*kb+R*Na;Oa=va*Oa+u*ya-T*Na+R*kb;kb=va*kb-u*Na-T*ya-R*Oa;var Ga=Na*Na+ya*ya+Oa*Oa+kb*kb;1E-32<Ga&&(Ga=1/Math.sqrt(Ga));Na*=Ga;ya*=Ga;Oa*=Ga;kb*=Ga;var Q=Na,Ma=ya,Ia=Oa,Eb=kb,wb=2*Q,Mb=2*Ma,Ib=2*Ia,Tb=Q*wb,Rb=Ma*Mb,Wb=Ia*Ib,mc=Q*Mb,Xb=Ma*Ib,ic=Q*Ib,bc=Eb*wb,$b=Eb*Mb,Zb=Eb*Ib;F.g.A=1-Rb-Wb;F.g.j=mc-Zb;F.g.m=ic+$b;F.g.o=mc+Zb;F.g.v=1-Tb-Wb;F.g.s=Xb-bc;F.g.u=ic-$b;F.g.l=Xb+bc;
F.g.B=1-Tb-Rb;var Qb=void 0,jc=void 0,ac=void 0,ec=void 0,Ub=void 0,kc=void 0,uc=void 0,fc=void 0,dd=void 0;Qb=F.g.A*F.bb+F.g.j*F.fb+F.g.m*F.ib;jc=F.g.A*F.cb+F.g.j*F.gb+F.g.m*F.jb;ac=F.g.A*F.eb+F.g.j*F.hb+F.g.m*F.kb;ec=F.g.o*F.bb+F.g.v*F.fb+F.g.s*F.ib;Ub=F.g.o*F.cb+F.g.v*F.gb+F.g.s*F.jb;kc=F.g.o*F.eb+F.g.v*F.hb+F.g.s*F.kb;uc=F.g.u*F.bb+F.g.l*F.fb+F.g.B*F.ib;fc=F.g.u*F.cb+F.g.l*F.gb+F.g.B*F.jb;dd=F.g.u*F.eb+F.g.l*F.hb+F.g.B*F.kb;F.ba=Qb;F.ca=jc;F.da=ac;F.ea=ec;F.fa=Ub;F.ga=kc;F.ha=uc;F.ia=fc;F.ja=
dd;var Nb=void 0,nc=void 0,gc=void 0,Vb=void 0,lc=void 0,ed=void 0,Bc=void 0,Kc=void 0,zc=void 0;Nb=F.ba*F.g.A+F.ca*F.g.j+F.da*F.g.m;nc=F.ba*F.g.o+F.ca*F.g.v+F.da*F.g.s;gc=F.ba*F.g.u+F.ca*F.g.l+F.da*F.g.B;Vb=F.ea*F.g.A+F.fa*F.g.j+F.ga*F.g.m;lc=F.ea*F.g.o+F.fa*F.g.v+F.ga*F.g.s;ed=F.ea*F.g.u+F.fa*F.g.l+F.ga*F.g.B;Bc=F.ha*F.g.A+F.ia*F.g.j+F.ja*F.g.m;Kc=F.ha*F.g.o+F.ia*F.g.v+F.ja*F.g.s;zc=F.ha*F.g.u+F.ia*F.g.l+F.ja*F.g.B;F.ba=Nb;F.ca=nc;F.da=gc;F.ea=Vb;F.fa=lc;F.ga=ed;F.ha=Bc;F.ia=Kc;F.ja=zc;F.ba*=F.X.x;
F.ca*=F.X.x;F.da*=F.X.x;F.ea*=F.X.y;F.fa*=F.X.y;F.ga*=F.X.y;F.ha*=F.X.z;F.ia*=F.X.z;F.ja*=F.X.z}for(var Cc=this.aa,sc=0;Cc.h[sc]!=v;)++sc;for(;0<sc;){var Lc=Cc.h[sc];Cc.h[sc]=Cc.h[sc-1];Cc.h[sc-1]=Lc;--sc}r=!0;break}}r||console.log("src/oimo/dynamics/constraint/solver/direct/DirectJointConstraintSolver.hx:502:","could not find solution. (NGS)")};yd.prototype.postSolve=function(){this.h.Gc();this.h.zi()};Ak.prototype.Mi=function(a,b,e){for(var d=0;d<e;)for(var c=d++,f=b[c],h=0;h<e;){var k=h++;this.C[c][k]=
this.Ab[f][b[k]]}d=this.C;a=this.Ph[a];switch(e){case 4:c=d[0];b=a[0];e=1/c[0];b[0]=e;c[1]*=e;c[2]*=e;c[3]*=e;var g=d[1];var l=a[1];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g=d[2];l=a[2];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g=d[3];l=a[3];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];c=d[1];b=a[1];e=1/c[1];b[1]=e;b[0]*=e;c[2]*=e;c[3]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g=d[2];l=a[2];l[0]-=b[0]*g[1];l[1]=-e*g[1];
g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g=d[3];l=a[3];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];c=d[2];b=a[2];e=1/c[2];b[2]=e;b[0]*=e;b[1]*=e;c[3]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[2];g[3]-=c[3]*g[2];g=d[1];l=a[1];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];g[3]-=c[3]*g[2];g=d[3];l=a[3];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];c=d[3];b=a[3];e=1/c[3];b[3]=e;b[0]*=e;b[1]*=e;b[2]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[3];g=d[1];l=a[1];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];g=d[2];l=a[2];l[0]-=b[0]*g[3];
l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];b=a[1];a[0][1]=b[0];b=a[2];a[0][2]=b[0];a[1][2]=b[1];b=a[3];a[0][3]=b[0];a[1][3]=b[1];a[2][3]=b[2];break;case 5:c=d[0];b=a[0];e=1/c[0];b[0]=e;c[1]*=e;c[2]*=e;c[3]*=e;c[4]*=e;g=d[1];l=a[1];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g=d[2];l=a[2];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g=d[3];l=a[3];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g=d[4];l=a[4];l[0]=-e*
g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];c=d[1];b=a[1];e=1/c[1];b[1]=e;b[0]*=e;c[2]*=e;c[3]*=e;c[4]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g=d[2];l=a[2];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g=d[3];l=a[3];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g=d[4];l=a[4];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];c=d[2];b=a[2];e=1/c[2];
b[2]=e;b[0]*=e;b[1]*=e;c[3]*=e;c[4]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g=d[1];l=a[1];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g=d[3];l=a[3];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g=d[4];l=a[4];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];c=d[3];b=a[3];e=1/c[3];b[3]=e;b[0]*=e;b[1]*=e;b[2]*=e;c[4]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[3];g[4]-=c[4]*g[3];g=d[1];l=a[1];l[0]-=b[0]*g[3];l[1]-=
b[1]*g[3];g[4]-=c[4]*g[3];g=d[2];l=a[2];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];g[4]-=c[4]*g[3];g=d[4];l=a[4];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];l[3]=-e*g[3];g[4]-=c[4]*g[3];c=d[4];b=a[4];e=1/c[4];b[4]=e;b[0]*=e;b[1]*=e;b[2]*=e;b[3]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[4];g=d[1];l=a[1];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];g=d[2];l=a[2];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];l[2]-=b[2]*g[4];g=d[3];l=a[3];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];l[2]-=b[2]*g[4];l[3]-=b[3]*g[4];b=a[1];a[0][1]=b[0];b=a[2];a[0][2]=
b[0];a[1][2]=b[1];b=a[3];a[0][3]=b[0];a[1][3]=b[1];a[2][3]=b[2];b=a[4];a[0][4]=b[0];a[1][4]=b[1];a[2][4]=b[2];a[3][4]=b[3];break;case 6:c=d[0];b=a[0];e=1/c[0];b[0]=e;c[1]*=e;c[2]*=e;c[3]*=e;c[4]*=e;c[5]*=e;g=d[1];l=a[1];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g[5]-=c[5]*g[0];g=d[2];l=a[2];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g[5]-=c[5]*g[0];g=d[3];l=a[3];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=
c[4]*g[0];g[5]-=c[5]*g[0];g=d[4];l=a[4];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g[5]-=c[5]*g[0];g=d[5];l=a[5];l[0]=-e*g[0];g[1]-=c[1]*g[0];g[2]-=c[2]*g[0];g[3]-=c[3]*g[0];g[4]-=c[4]*g[0];g[5]-=c[5]*g[0];c=d[1];b=a[1];e=1/c[1];b[1]=e;b[0]*=e;c[2]*=e;c[3]*=e;c[4]*=e;c[5]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g[5]-=c[5]*g[1];g=d[2];l=a[2];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g[5]-=
c[5]*g[1];g=d[3];l=a[3];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g[5]-=c[5]*g[1];g=d[4];l=a[4];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g[5]-=c[5]*g[1];g=d[5];l=a[5];l[0]-=b[0]*g[1];l[1]=-e*g[1];g[2]-=c[2]*g[1];g[3]-=c[3]*g[1];g[4]-=c[4]*g[1];g[5]-=c[5]*g[1];c=d[2];b=a[2];e=1/c[2];b[2]=e;b[0]*=e;b[1]*=e;c[3]*=e;c[4]*=e;c[5]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g[5]-=c[5]*g[2];g=d[1];l=a[1];l[0]-=b[0]*
g[2];l[1]-=b[1]*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g[5]-=c[5]*g[2];g=d[3];l=a[3];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g[5]-=c[5]*g[2];g=d[4];l=a[4];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g[5]-=c[5]*g[2];g=d[5];l=a[5];l[0]-=b[0]*g[2];l[1]-=b[1]*g[2];l[2]=-e*g[2];g[3]-=c[3]*g[2];g[4]-=c[4]*g[2];g[5]-=c[5]*g[2];c=d[3];b=a[3];e=1/c[3];b[3]=e;b[0]*=e;b[1]*=e;b[2]*=e;c[4]*=e;c[5]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[3];g[4]-=c[4]*
g[3];g[5]-=c[5]*g[3];g=d[1];l=a[1];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];g[4]-=c[4]*g[3];g[5]-=c[5]*g[3];g=d[2];l=a[2];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];g[4]-=c[4]*g[3];g[5]-=c[5]*g[3];g=d[4];l=a[4];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];l[3]=-e*g[3];g[4]-=c[4]*g[3];g[5]-=c[5]*g[3];g=d[5];l=a[5];l[0]-=b[0]*g[3];l[1]-=b[1]*g[3];l[2]-=b[2]*g[3];l[3]=-e*g[3];g[4]-=c[4]*g[3];g[5]-=c[5]*g[3];c=d[4];b=a[4];e=1/c[4];b[4]=e;b[0]*=e;b[1]*=e;b[2]*=e;b[3]*=e;c[5]*=e;g=d[0];l=a[0];l[0]-=b[0]*
g[4];g[5]-=c[5]*g[4];g=d[1];l=a[1];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];g[5]-=c[5]*g[4];g=d[2];l=a[2];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];l[2]-=b[2]*g[4];g[5]-=c[5]*g[4];g=d[3];l=a[3];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];l[2]-=b[2]*g[4];l[3]-=b[3]*g[4];g[5]-=c[5]*g[4];g=d[5];l=a[5];l[0]-=b[0]*g[4];l[1]-=b[1]*g[4];l[2]-=b[2]*g[4];l[3]-=b[3]*g[4];l[4]=-e*g[4];g[5]-=c[5]*g[4];c=d[5];b=a[5];e=1/c[5];b[5]=e;b[0]*=e;b[1]*=e;b[2]*=e;b[3]*=e;b[4]*=e;g=d[0];l=a[0];l[0]-=b[0]*g[5];g=d[1];l=a[1];l[0]-=b[0]*g[5];l[1]-=b[1]*
g[5];g=d[2];l=a[2];l[0]-=b[0]*g[5];l[1]-=b[1]*g[5];l[2]-=b[2]*g[5];g=d[3];l=a[3];l[0]-=b[0]*g[5];l[1]-=b[1]*g[5];l[2]-=b[2]*g[5];l[3]-=b[3]*g[5];g=d[4];l=a[4];l[0]-=b[0]*g[5];l[1]-=b[1]*g[5];l[2]-=b[2]*g[5];l[3]-=b[3]*g[5];l[4]-=b[4]*g[5];b=a[1];a[0][1]=b[0];b=a[2];a[0][2]=b[0];a[1][2]=b[1];b=a[3];a[0][3]=b[0];a[1][3]=b[1];a[2][3]=b[2];b=a[4];a[0][4]=b[0];a[1][4]=b[1];a[2][4]=b[2];a[3][4]=b[3];b=a[5];a[0][5]=b[0];a[1][5]=b[1];a[2][5]=b[2];a[3][5]=b[3];a[4][5]=b[4];break;default:for(f=0;f<e;){h=f++;
c=d[h];b=a[h];k=1/c[h];b[h]=k;for(g=0;g<h;)b[g++]*=k;for(g=h+1;g<e;)c[g++]*=k;for(var m=0;m<h;){var n=m++;g=d[n];l=a[n];var q=0;for(n+=1;q<n;){var p=q++;l[p]-=b[p]*g[h]}for(l=h+1;l<e;)q=l++,g[q]-=c[q]*g[h]}for(m=h+1;m<e;){l=m++;g=d[l];l=a[l];for(q=0;q<h;)n=q++,l[n]-=b[n]*g[h];l[h]=-k*g[h];for(l=h+1;l<e;)q=l++,g[q]-=c[q]*g[h]}}for(d=1;d<e;)for(c=d++,b=a[c],f=0;f<c;)h=f++,a[h][c]=b[h]}};Ak.prototype.I=function(a,b){var e=this.Ab,d=this.Fg,c=a.La,f=a.Yd,h=a.Zd,k=f.Ab,g=h.Ab;var l=f.ba;var m=f.ca;var n=
f.da;var q=f.ea;var p=f.fa;var r=f.ga;var t=f.ha;var x=f.ia;f=f.ja;var v=h.ba;var B=h.ca;var H=h.da;var C=h.ea;var N=h.fa;var y=h.ga;var A=h.ha;var E=h.ia;h=h.ja;for(var L=0;L<c;){var G=L++,P=a.rows[G].Ea;G=b[G];P.Ji();0!=(P.sc&1)?(G.$c=P.Ba*k,G.ad=P.Ca*k,G.bd=P.Da*k,G.cd=P.Fa*g,G.dd=P.Ga*g,G.ed=P.Ha*g):(G.$c=0,G.ad=0,G.bd=0,G.cd=0,G.dd=0,G.ed=0);if(0!=(P.sc&2)){var K=l*P.ka+m*P.la+n*P.ma;var pa=q*P.ka+p*P.la+r*P.ma;var M=t*P.ka+x*P.la+f*P.ma;G.Uc=K;G.Vc=pa;G.Wc=M;K=v*P.na+B*P.oa+H*P.pa;pa=C*P.na+
N*P.oa+y*P.pa;P=A*P.na+E*P.oa+h*P.pa;G.Xc=K;G.Yc=pa;G.Zc=P}else G.Uc=0,G.Vc=0,G.Wc=0,G.Xc=0,G.Yc=0,G.Zc=0}for(k=0;k<c;)for(g=k++,l=a.rows[g].Ea,m=g;m<c;)n=m++,q=b[n],p=l.Ba*q.$c+l.Ca*q.ad+l.Da*q.bd+(l.ka*q.Uc+l.la*q.Vc+l.ma*q.Wc)+(l.Fa*q.cd+l.Ga*q.dd+l.Ha*q.ed)+(l.na*q.Xc+l.oa*q.Yc+l.pa*q.Zc),g==n?(e[g][n]=p+a.rows[g].Ua,d[g][n]=p,q.mass=p+a.rows[g].Ua,q.Je=p,0!=q.mass&&(q.mass=1/q.mass),0!=q.Je&&(q.Je=1/q.Je)):(e[g][n]=p,e[n][g]=p,d[g][n]=p,d[n][g]=p);a=0;for(b=this.i;a<b;)this.Zg[a++]=!1};rl(Nd,
bd);Nd.prototype.Rf=function(a){this.i.nd(a,this.info);this.J=this.info.Yd;this.K=this.info.Zd;a=this.J.Ab;var b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,N=this.info.La;C<N;){var y=C++,A=this.info.rows[y];y=this.h[y];var E=A.Ve;y.gg=
E.Ba*a;y.hg=E.Ca*a;y.ig=E.Da*a;y.jg=E.Fa*b;y.kg=E.Ga*b;y.lg=E.Ha*b;var L=e*E.ka+d*E.la+c*E.ma;var G=f*E.ka+h*E.la+k*E.ma;var P=g*E.ka+l*E.la+m*E.ma;y.Pe=L;y.Qe=G;y.Re=P;L=n*E.na+q*E.oa+p*E.pa;G=r*E.na+t*E.oa+x*E.pa;P=v*E.na+B*E.oa+H*E.pa;y.Se=L;y.Te=G;y.Ue=P;y.Ld=a+b+(y.Pe*E.ka+y.Qe*E.la+y.Re*E.ma)+(y.Se*E.na+y.Te*E.oa+y.Ue*E.pa);0!=y.Ld&&(y.Ld=1/y.Ld);E=A.Ug;A=A.Tg;y.oi=E.Ba*a;y.pi=E.Ca*a;y.ri=E.Da*a;y.si=E.Fa*b;y.ti=E.Ga*b;y.ui=E.Ha*b;y.ii=A.Ba*a;y.ji=A.Ca*a;y.ki=A.Da*a;y.li=A.Fa*b;y.mi=A.Ga*b;
y.ni=A.Ha*b;L=e*E.ka+d*E.la+c*E.ma;G=f*E.ka+h*E.la+k*E.ma;P=g*E.ka+l*E.la+m*E.ma;y.Ng=L;y.Og=G;y.Pg=P;L=n*E.na+q*E.oa+p*E.pa;G=r*E.na+t*E.oa+x*E.pa;P=v*E.na+B*E.oa+H*E.pa;y.Qg=L;y.Rg=G;y.Sg=P;L=e*A.ka+d*A.la+c*A.ma;G=f*A.ka+h*A.la+k*A.ma;P=g*A.ka+l*A.la+m*A.ma;y.nh=L;y.oh=G;y.ph=P;L=n*A.na+q*A.oa+p*A.pa;G=r*A.na+t*A.oa+x*A.pa;P=v*A.na+B*A.oa+H*A.pa;y.qh=L;y.rh=G;y.sh=P;E=a+b+(y.Ng*E.ka+y.Og*E.la+y.Pg*E.ma)+(y.Qg*E.na+y.Rg*E.oa+y.Sg*E.pa);L=y.Ng*A.ka+y.Og*A.la+y.Pg*A.ma+(y.Qg*A.na+y.Rg*A.oa+y.Sg*A.pa);
A=a+b+(y.nh*A.ka+y.oh*A.la+y.ph*A.ma)+(y.qh*A.na+y.rh*A.oa+y.sh*A.pa);G=E*A-L*L;0!=G&&(G=1/G);y.Fi=A*G;y.Gi=-L*G;y.Hi=-L*G;y.Ii=E*G}};Nd.prototype.Wf=function(a){var b=this.J.ub;var e=this.J.vb;var d=this.J.wb;var c=this.K.ub;var f=this.K.vb;var h=this.K.wb;var k=this.J.xb;var g=this.J.yb;var l=this.J.zb;var m=this.K.xb;var n=this.K.yb;var q=this.K.zb;for(var p=0,r=this.info.La;p<r;){var t=p++,x=this.info.rows[t],v=x.Aa;t=this.h[t];var B=x.Ug,H=x.Tg;x=v.Hc;B=v.ge*B.Ba+v.he*B.Ca+v.ie*B.Da;H=v.ge*H.Ba+
v.he*H.Ca+v.ie*H.Da;v.xc=B;v.wc=H;v.Hc*=a.dtRatio;v.xc*=a.dtRatio;v.wc*=a.dtRatio;b+=t.gg*x;e+=t.hg*x;d+=t.ig*x;b+=t.oi*B;e+=t.pi*B;d+=t.ri*B;b+=t.ii*H;e+=t.ji*H;d+=t.ki*H;c+=t.jg*-x;f+=t.kg*-x;h+=t.lg*-x;c+=t.si*-B;f+=t.ti*-B;h+=t.ui*-B;c+=t.li*-H;f+=t.mi*-H;h+=t.ni*-H;k+=t.Pe*x;g+=t.Qe*x;l+=t.Re*x;k+=t.Ng*B;g+=t.Og*B;l+=t.Pg*B;k+=t.nh*H;g+=t.oh*H;l+=t.ph*H;m+=t.Se*-x;n+=t.Te*-x;q+=t.Ue*-x;m+=t.Qg*-B;n+=t.Rg*-B;q+=t.Sg*-B;m+=t.qh*-H;n+=t.rh*-H;q+=t.sh*-H}this.J.ub=b;this.J.vb=e;this.J.wb=d;this.K.ub=
c;this.K.vb=f;this.K.wb=h;this.J.xb=k;this.J.yb=g;this.J.zb=l;this.K.xb=m;this.K.yb=n;this.K.zb=q};Nd.prototype.Vf=function(){var a=this.J.ub;var b=this.J.vb;var e=this.J.wb;var d=this.K.ub;var c=this.K.vb;var f=this.K.wb;var h=this.J.xb;var k=this.J.yb;var g=this.J.zb;var l=this.K.xb;var m=this.K.yb;var n=this.K.zb;for(var q=0,p=this.info.La;q<p;){var r=q++,t=this.info.rows[r];r=this.h[r];var x=t.Aa,v=0,B=t.Ug;v+=a*B.Ba+b*B.Ca+e*B.Da;v-=d*B.Fa+c*B.Ga+f*B.Ha;v+=h*B.ka+k*B.la+g*B.ma;v-=l*B.na+m*B.oa+
n*B.pa;var H=0;B=t.Tg;H+=a*B.Ba+b*B.Ca+e*B.Da;H-=d*B.Fa+c*B.Ga+f*B.Ha;H+=h*B.ka+k*B.la+g*B.ma;H-=l*B.na+m*B.oa+n*B.pa;B=-(v*r.Fi+H*r.Gi);var C=-(v*r.Hi+H*r.Ii);v=x.xc;H=x.wc;x.xc+=B;x.wc+=C;t=t.friction*x.Hc;0==t?(x.xc=0,x.wc=0):(B=x.xc*x.xc+x.wc*x.wc,B>t*t&&(t/=Math.sqrt(B),x.xc*=t,x.wc*=t));B=x.xc-v;C=x.wc-H;a+=r.oi*B;b+=r.pi*B;e+=r.ri*B;a+=r.ii*C;b+=r.ji*C;e+=r.ki*C;d+=r.si*-B;c+=r.ti*-B;f+=r.ui*-B;d+=r.li*-C;c+=r.mi*-C;f+=r.ni*-C;h+=r.Ng*B;k+=r.Og*B;g+=r.Pg*B;h+=r.nh*C;k+=r.oh*C;g+=r.ph*C;l+=
r.Qg*-B;m+=r.Rg*-B;n+=r.Sg*-B;l+=r.qh*-C;m+=r.rh*-C;n+=r.sh*-C}q=0;for(p=this.info.La;q<p;)r=q++,t=this.info.rows[r],r=this.h[r],x=t.Aa,v=0,H=t.Ve,v+=a*H.Ba+b*H.Ca+e*H.Da,v-=d*H.Fa+c*H.Ga+f*H.Ha,v+=h*H.ka+k*H.la+g*H.ma,v-=l*H.na+m*H.oa+n*H.pa,t=(t.Na-v)*r.Ld,v=x.Hc,x.Hc+=t,0>x.Hc&&(x.Hc=0),t=x.Hc-v,a+=r.gg*t,b+=r.hg*t,e+=r.ig*t,d+=r.jg*-t,c+=r.kg*-t,f+=r.lg*-t,h+=r.Pe*t,k+=r.Qe*t,g+=r.Re*t,l+=r.Se*-t,m+=r.Te*-t,n+=r.Ue*-t;this.J.ub=a;this.J.vb=b;this.J.wb=e;this.K.ub=d;this.K.vb=c;this.K.wb=f;this.J.xb=
h;this.J.yb=k;this.J.zb=g;this.K.xb=l;this.K.yb=m;this.K.zb=n};Nd.prototype.Bf=function(){this.i.Wh();this.i.Ec(this.info);var a=this.J.Ab,b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,N=this.info.La;C<N;){var y=C++,A=this.h[y];y=this.info.rows[y].Ve;
A.gg=y.Ba*a;A.hg=y.Ca*a;A.ig=y.Da*a;A.jg=y.Fa*b;A.kg=y.Ga*b;A.lg=y.Ha*b;var E=e*y.ka+d*y.la+c*y.ma;var L=f*y.ka+h*y.la+k*y.ma;var G=g*y.ka+l*y.la+m*y.ma;A.Pe=E;A.Qe=L;A.Re=G;E=n*y.na+q*y.oa+p*y.pa;L=r*y.na+t*y.oa+x*y.pa;G=v*y.na+B*y.oa+H*y.pa;A.Se=E;A.Te=L;A.Ue=G;A.Ld=a+b+(A.Pe*y.ka+A.Qe*y.la+A.Re*y.ma)+(A.Se*y.na+A.Te*y.oa+A.Ue*y.pa);0!=A.Ld&&(A.Ld=1/A.Ld)}a=0;for(b=this.info.La;a<b;)this.info.rows[a++].Aa.Hb=0};Nd.prototype.Uf=function(){var a=this.J.Pc;var b=this.J.Qc;var e=this.J.Rc;var d=this.K.Pc;
var c=this.K.Qc;var f=this.K.Rc;var h=this.J.Jc;var k=this.J.Kc;var g=this.J.Lc;var l=this.K.Jc;var m=this.K.Kc;var n=this.K.Lc;for(var q=0,p=this.info.La;q<p;){var r=q++,t=this.info.rows[r];r=this.h[r];var x=t.Aa,v=t.Ve,B=0;B+=a*v.Ba+b*v.Ca+e*v.Da;B-=d*v.Fa+c*v.Ga+f*v.Ha;B+=h*v.ka+k*v.la+g*v.ma;B-=l*v.na+m*v.oa+n*v.pa;t=(t.Na-B)*r.Ld*ra.positionSplitImpulseBaumgarte;v=x.Hb;x.Hb+=t;0>x.Hb&&(x.Hb=0);t=x.Hb-v;a+=r.gg*t;b+=r.hg*t;e+=r.ig*t;d+=r.jg*-t;c+=r.kg*-t;f+=r.lg*-t;h+=r.Pe*t;k+=r.Qe*t;g+=r.Re*
t;l+=r.Se*-t;m+=r.Te*-t;n+=r.Ue*-t}this.J.Pc=a;this.J.Qc=b;this.J.Rc=e;this.K.Pc=d;this.K.Qc=c;this.K.Rc=f;this.J.Jc=h;this.J.Kc=k;this.J.Lc=g;this.K.Jc=l;this.K.Kc=m;this.K.Lc=n};Nd.prototype.Tf=function(){this.i.Wh();this.i.Ec(this.info);var a=this.J.Ab,b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;
var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,N=this.info.La;C<N;){var y=C++,A=this.h[y],E=this.info.rows[y].Ve;A.gg=E.Ba*a;A.hg=E.Ca*a;A.ig=E.Da*a;A.jg=E.Fa*b;A.kg=E.Ga*b;A.lg=E.Ha*b;var L=void 0,G=void 0,P=void 0;L=e*E.ka+d*E.la+c*E.ma;G=f*E.ka+h*E.la+k*E.ma;P=g*E.ka+l*E.la+m*E.ma;A.Pe=L;A.Qe=G;A.Re=P;var K=void 0,pa=void 0,M=void 0;K=n*E.na+q*E.oa+p*E.pa;pa=r*E.na+t*E.oa+x*E.pa;M=v*E.na+B*E.oa+H*E.pa;A.Se=K;A.Te=pa;A.Ue=M;A.Ld=a+b+(A.Pe*E.ka+A.Qe*E.la+A.Re*E.ma)+(A.Se*E.na+A.Te*E.oa+
A.Ue*E.pa);0!=A.Ld&&(A.Ld=1/A.Ld)}for(var Sa,Pa,Ca,Ra,wa,La,Ea,O,ma,Y,ta,Va,D=Va=ta=Y=ma=O=Ea=La=wa=Ra=Ca=Pa=Sa=0,Aa=this.info.La;D<Aa;){var aa=D++,Ua=this.info.rows[aa],xa=this.h[aa],Ja=Ua.Aa,S=Ua.Ve,la=0;la+=Sa*S.Ba+Pa*S.Ca+Ca*S.Da;la-=Ra*S.Fa+wa*S.Ga+La*S.Ha;la+=Ea*S.ka+O*S.la+ma*S.ma;la-=Y*S.na+ta*S.oa+Va*S.pa;var qa=(Ua.Na-la)*xa.Ld*ra.positionNgsBaumgarte,Da=Ja.Hb;Ja.Hb+=qa;0>Ja.Hb&&(Ja.Hb=0);qa=Ja.Hb-Da;Sa+=xa.gg*qa;Pa+=xa.hg*qa;Ca+=xa.ig*qa;Ra+=xa.jg*-qa;wa+=xa.kg*-qa;La+=xa.lg*-qa;Ea+=xa.Pe*
qa;O+=xa.Qe*qa;ma+=xa.Re*qa;Y+=xa.Se*-qa;ta+=xa.Te*-qa;Va+=xa.Ue*-qa}var X=this.J;X.g.F+=Sa;X.g.G+=Pa;X.g.H+=Ca;var fa=this.K;fa.g.F+=Ra;fa.g.G+=wa;fa.g.H+=La;var w=this.J,ja=Math.sqrt(Ea*Ea+O*O+ma*ma),ea=.5*ja;if(.5>ea){var U=ea*ea;var ba=.5*(1-.16666666666666666*U+U*U*.008333333333333333);var Fa=1-.5*U+U*U*.041666666666666664}else ba=Math.sin(ea)/ja,Fa=Math.cos(ea);var ka=Ea*ba;var Qa=O*ba;var Ka=ma*ba;var V=Fa;var ob=w.g.A,Za=w.g.v,W=w.g.B,ha=ob+Za+W;if(0<ha){var I=Math.sqrt(ha+1);var na=.5*I;
I=.5/I;var ca=(w.g.l-w.g.s)*I;var da=(w.g.m-w.g.u)*I;var Z=(w.g.o-w.g.j)*I}else ob>Za?ob>W?(I=Math.sqrt(ob-Za-W+1),ca=.5*I,I=.5/I,da=(w.g.j+w.g.o)*I,Z=(w.g.m+w.g.u)*I,na=(w.g.l-w.g.s)*I):(I=Math.sqrt(W-ob-Za+1),Z=.5*I,I=.5/I,ca=(w.g.m+w.g.u)*I,da=(w.g.s+w.g.l)*I,na=(w.g.o-w.g.j)*I):Za>W?(I=Math.sqrt(Za-W-ob+1),da=.5*I,I=.5/I,ca=(w.g.j+w.g.o)*I,Z=(w.g.s+w.g.l)*I,na=(w.g.m-w.g.u)*I):(I=Math.sqrt(W-ob-Za+1),Z=.5*I,I=.5/I,ca=(w.g.m+w.g.u)*I,da=(w.g.s+w.g.l)*I,na=(w.g.o-w.g.j)*I);ca=V*ca+ka*na+Qa*Z-Ka*
da;da=V*da-ka*Z+Qa*na+Ka*ca;Z=V*Z+ka*da-Qa*ca+Ka*na;na=V*na-ka*ca-Qa*da-Ka*Z;var oa=ca*ca+da*da+Z*Z+na*na;1E-32<oa&&(oa=1/Math.sqrt(oa));ca*=oa;da*=oa;Z*=oa;na*=oa;var xb=ca,hb=da,fb=Z,gb=na,pb=2*xb,ab=2*hb,$a=2*fb,ua=xb*pb,Ya=hb*ab,Fb=fb*$a,Xa=xb*ab,Bb=hb*$a,Wa=xb*$a,Cb=gb*pb,qb=gb*ab,bb=gb*$a;w.g.A=1-Ya-Fb;w.g.j=Xa-bb;w.g.m=Wa+qb;w.g.o=Xa+bb;w.g.v=1-ua-Fb;w.g.s=Bb-Cb;w.g.u=Wa-qb;w.g.l=Bb+Cb;w.g.B=1-ua-Ya;var ib=w.g.A*w.bb+w.g.j*w.fb+w.g.m*w.ib;var rb=w.g.A*w.cb+w.g.j*w.gb+w.g.m*w.jb;var db=w.g.A*
w.eb+w.g.j*w.hb+w.g.m*w.kb;var Db=w.g.o*w.bb+w.g.v*w.fb+w.g.s*w.ib;var jb=w.g.o*w.cb+w.g.v*w.gb+w.g.s*w.jb;var nb=w.g.o*w.eb+w.g.v*w.hb+w.g.s*w.kb;var cb=w.g.u*w.bb+w.g.l*w.fb+w.g.B*w.ib;var Jb=w.g.u*w.cb+w.g.l*w.gb+w.g.B*w.jb;var Kb=w.g.u*w.eb+w.g.l*w.hb+w.g.B*w.kb;w.ba=ib;w.ca=rb;w.da=db;w.ea=Db;w.fa=jb;w.ga=nb;w.ha=cb;w.ia=Jb;w.ja=Kb;var F=w.ba*w.g.A+w.ca*w.g.j+w.da*w.g.m;var ub=w.ba*w.g.o+w.ca*w.g.v+w.da*w.g.s;var lb=w.ba*w.g.u+w.ca*w.g.l+w.da*w.g.B;var yb=w.ea*w.g.A+w.fa*w.g.j+w.ga*w.g.m;var vb=
w.ea*w.g.o+w.fa*w.g.v+w.ga*w.g.s;var eb=w.ea*w.g.u+w.fa*w.g.l+w.ga*w.g.B;var Lb=w.ha*w.g.A+w.ia*w.g.j+w.ja*w.g.m;var mb=w.ha*w.g.o+w.ia*w.g.v+w.ja*w.g.s;var zb=w.ha*w.g.u+w.ia*w.g.l+w.ja*w.g.B;w.ba=F;w.ca=ub;w.da=lb;w.ea=yb;w.fa=vb;w.ga=eb;w.ha=Lb;w.ia=mb;w.ja=zb;w.ba*=w.X.x;w.ca*=w.X.x;w.da*=w.X.x;w.ea*=w.X.y;w.fa*=w.X.y;w.ga*=w.X.y;w.ha*=w.X.z;w.ia*=w.X.z;w.ja*=w.X.z;var u=this.K,T=Math.sqrt(Y*Y+ta*ta+Va*Va),R=.5*T;if(.5>R){var va=R*R;var Na=.5*(1-.16666666666666666*va+va*va*.008333333333333333);
var ya=1-.5*va+va*va*.041666666666666664}else Na=Math.sin(R)/T,ya=Math.cos(R);var Oa=Y*Na;var kb=ta*Na;var sb=Va*Na;var Hb=ya;var Ba=u.g.A,Ta=u.g.v,sa=u.g.B,Ga=Ba+Ta+sa;if(0<Ga){var Q=Math.sqrt(Ga+1);var Ma=.5*Q;Q=.5/Q;var Ia=(u.g.l-u.g.s)*Q;var Eb=(u.g.m-u.g.u)*Q;var wb=(u.g.o-u.g.j)*Q}else Ba>Ta?Ba>sa?(Q=Math.sqrt(Ba-Ta-sa+1),Ia=.5*Q,Q=.5/Q,Eb=(u.g.j+u.g.o)*Q,wb=(u.g.m+u.g.u)*Q,Ma=(u.g.l-u.g.s)*Q):(Q=Math.sqrt(sa-Ba-Ta+1),wb=.5*Q,Q=.5/Q,Ia=(u.g.m+u.g.u)*Q,Eb=(u.g.s+u.g.l)*Q,Ma=(u.g.o-u.g.j)*Q):
Ta>sa?(Q=Math.sqrt(Ta-sa-Ba+1),Eb=.5*Q,Q=.5/Q,Ia=(u.g.j+u.g.o)*Q,wb=(u.g.s+u.g.l)*Q,Ma=(u.g.m-u.g.u)*Q):(Q=Math.sqrt(sa-Ba-Ta+1),wb=.5*Q,Q=.5/Q,Ia=(u.g.m+u.g.u)*Q,Eb=(u.g.s+u.g.l)*Q,Ma=(u.g.o-u.g.j)*Q);Ia=Hb*Ia+Oa*Ma+kb*wb-sb*Eb;Eb=Hb*Eb-Oa*wb+kb*Ma+sb*Ia;wb=Hb*wb+Oa*Eb-kb*Ia+sb*Ma;Ma=Hb*Ma-Oa*Ia-kb*Eb-sb*wb;var Mb=Ia*Ia+Eb*Eb+wb*wb+Ma*Ma;1E-32<Mb&&(Mb=1/Math.sqrt(Mb));Ia*=Mb;Eb*=Mb;wb*=Mb;Ma*=Mb;var Ib=Ia,Tb=Eb,Rb=wb,Wb=Ma,mc=2*Ib,Xb=2*Tb,ic=2*Rb,bc=Ib*mc,$b=Tb*Xb,Zb=Rb*ic,Qb=Ib*Xb,jc=Tb*ic,ac=Ib*
ic,ec=Wb*mc,Ub=Wb*Xb,kc=Wb*ic;u.g.A=1-$b-Zb;u.g.j=Qb-kc;u.g.m=ac+Ub;u.g.o=Qb+kc;u.g.v=1-bc-Zb;u.g.s=jc-ec;u.g.u=ac-Ub;u.g.l=jc+ec;u.g.B=1-bc-$b;var uc=u.g.A*u.bb+u.g.j*u.fb+u.g.m*u.ib;var fc=u.g.A*u.cb+u.g.j*u.gb+u.g.m*u.jb;var dd=u.g.A*u.eb+u.g.j*u.hb+u.g.m*u.kb;var Nb=u.g.o*u.bb+u.g.v*u.fb+u.g.s*u.ib;var nc=u.g.o*u.cb+u.g.v*u.gb+u.g.s*u.jb;var gc=u.g.o*u.eb+u.g.v*u.hb+u.g.s*u.kb;var Vb=u.g.u*u.bb+u.g.l*u.fb+u.g.B*u.ib;var lc=u.g.u*u.cb+u.g.l*u.gb+u.g.B*u.jb;var ed=u.g.u*u.eb+u.g.l*u.hb+u.g.B*u.kb;
u.ba=uc;u.ca=fc;u.da=dd;u.ea=Nb;u.fa=nc;u.ga=gc;u.ha=Vb;u.ia=lc;u.ja=ed;var Bc=u.ba*u.g.A+u.ca*u.g.j+u.da*u.g.m;var Kc=u.ba*u.g.o+u.ca*u.g.v+u.da*u.g.s;var zc=u.ba*u.g.u+u.ca*u.g.l+u.da*u.g.B;var Cc=u.ea*u.g.A+u.fa*u.g.j+u.ga*u.g.m;var sc=u.ea*u.g.o+u.fa*u.g.v+u.ga*u.g.s;var Lc=u.ea*u.g.u+u.fa*u.g.l+u.ga*u.g.B;var zd=u.ha*u.g.A+u.ia*u.g.j+u.ja*u.g.m;var Rc=u.ha*u.g.o+u.ia*u.g.v+u.ja*u.g.s;var Wc=u.ha*u.g.u+u.ia*u.g.l+u.ja*u.g.B;u.ba=Bc;u.ca=Kc;u.da=zc;u.ea=Cc;u.fa=sc;u.ga=Lc;u.ha=zd;u.ia=Rc;u.ja=
Wc;u.ba*=u.X.x;u.ca*=u.X.x;u.da*=u.X.x;u.ea*=u.X.y;u.fa*=u.X.y;u.ga*=u.X.y;u.ha*=u.X.z;u.ia*=u.X.z;u.ja*=u.X.z};Nd.prototype.postSolve=function(){for(var a,b,e,d,c,f,h,k,g,l=g=k=h=f=c=d=e=b=a=0,m=this.info.La;l<m;){var n=this.info.rows[l++],q=n.Aa,p=n.Ve,r=n.Ug;n=n.Tg;var t=q.Hc,x=q.xc,v=q.wc,B,H;var C=H=B=0;B+=r.Ba*x;H+=r.Ca*x;C+=r.Da*x;B+=n.Ba*v;H+=n.Ca*v;C+=n.Da*v;q.ge=B;q.he=H;q.ie=C;a+=p.Ba*t;b+=p.Ca*t;e+=p.Da*t;d+=p.ka*t;c+=p.la*t;f+=p.ma*t;h+=p.na*t;k+=p.oa*t;g+=p.pa*t;a+=r.Ba*x;b+=r.Ca*x;
e+=r.Da*x;d+=r.ka*x;c+=r.la*x;f+=r.ma*x;h+=r.na*x;k+=r.oa*x;g+=r.pa*x;a+=n.Ba*v;b+=n.Ca*v;e+=n.Da*v;d+=n.ka*v;c+=n.la*v;f+=n.ma*v;h+=n.na*v;k+=n.oa*v;g+=n.pa*v}this.J.If+=a;this.J.Jf+=b;this.J.Kf+=e;this.J.Ef+=d;this.J.Ff+=c;this.J.Gf+=f;this.K.If-=a;this.K.Jf-=b;this.K.Kf-=e;this.K.Ef-=h;this.K.Ff-=k;this.K.Gf-=g;this.i.Wh()};rl(xd,bd);xd.prototype.Rf=function(a){this.h.Gc();this.h.nd(a,this.info);this.J=this.info.Yd;this.K=this.info.Zd;a=this.J.Ab;var b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;
var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,N=this.info.La;C<N;){var y=C++,A=this.info.rows[y];y=this.i[y];var E=A.Ea;E.Ji();0!=(E.sc&1)?(y.$c=E.Ba*a,y.ad=E.Ca*a,y.bd=E.Da*a,y.cd=E.Fa*b,y.dd=E.Ga*b,y.ed=E.Ha*b):(y.$c=0,y.ad=0,y.bd=0,y.cd=0,y.dd=0,y.ed=0);if(0!=(E.sc&2)){var L=
e*E.ka+d*E.la+c*E.ma;var G=f*E.ka+h*E.la+k*E.ma;var P=g*E.ka+l*E.la+m*E.ma;y.Uc=L;y.Vc=G;y.Wc=P;L=n*E.na+q*E.oa+p*E.pa;G=r*E.na+t*E.oa+x*E.pa;P=v*E.na+B*E.oa+H*E.pa;y.Xc=L;y.Yc=G;y.Zc=P}else y.Uc=0,y.Vc=0,y.Wc=0,y.Xc=0,y.Yc=0,y.Zc=0;y.Je=y.$c*E.Ba+y.ad*E.Ca+y.bd*E.Da+(y.cd*E.Fa+y.dd*E.Ga+y.ed*E.Ha)+(y.Uc*E.ka+y.Vc*E.la+y.Wc*E.ma)+(y.Xc*E.na+y.Yc*E.oa+y.Zc*E.pa);y.mass=y.Je+A.Ua;0!=y.Je&&(y.Je=1/y.Je);0!=y.mass&&(y.mass=1/y.mass)}};xd.prototype.Wf=function(a){var b=this.h.pf==Fh.BAUMGARTE?ra.jointWarmStartingFactorForBaungarte:
ra.jointWarmStartingFactor;b*=a.dtRatio;if(0>=b)for(b=0,a=this.info.La;b<a;){var e=this.info.rows[b++].Aa;e.Aa=0;e.Tc=0;e.Hb=0}else{a=this.J.ub;e=this.J.vb;var d=this.J.wb;var c=this.K.ub;var f=this.K.vb;var h=this.K.wb;var k=this.J.xb;var g=this.J.yb;var l=this.J.zb;var m=this.K.xb;var n=this.K.yb;var q=this.K.zb;for(var p=0,r=this.info.La;p<r;){var t=p++,x=this.i[t];t=this.info.rows[t].Aa;t.Aa*=b;t.Tc*=b;t=t.Aa+t.Tc;a+=x.$c*t;e+=x.ad*t;d+=x.bd*t;c+=x.cd*-t;f+=x.dd*-t;h+=x.ed*-t;k+=x.Uc*t;g+=x.Vc*
t;l+=x.Wc*t;m+=x.Xc*-t;n+=x.Yc*-t;q+=x.Zc*-t}this.J.ub=a;this.J.vb=e;this.J.wb=d;this.K.ub=c;this.K.vb=f;this.K.wb=h;this.J.xb=k;this.J.yb=g;this.J.zb=l;this.K.xb=m;this.K.yb=n;this.K.zb=q}};xd.prototype.Vf=function(){var a=this.J.ub;var b=this.J.vb;var e=this.J.wb;var d=this.K.ub;var c=this.K.vb;var f=this.K.wb;var h=this.J.xb;var k=this.J.yb;var g=this.J.zb;var l=this.K.xb;var m=this.K.yb;var n=this.K.zb;for(var q=0,p=this.info.La;q<p;){var r=q++,t=this.info.rows[r];r=this.i[r];var x=t.Aa,v=t.Ea;
if(0!=t.Db){var B=0;B+=a*v.Ba+b*v.Ca+e*v.Da;B-=d*v.Fa+c*v.Ga+f*v.Ha;B+=h*v.ka+k*v.la+g*v.ma;B-=l*v.na+m*v.oa+n*v.pa;B=(-t.motorSpeed-B)*r.Je;var H=x.Tc;x.Tc+=B;x.Tc<-t.Db?x.Tc=-t.Db:x.Tc>t.Db&&(x.Tc=t.Db);B=x.Tc-H;0!=(v.sc&1)&&(a+=r.$c*B,b+=r.ad*B,e+=r.bd*B,d+=r.cd*-B,c+=r.dd*-B,f+=r.ed*-B);0!=(v.sc&2)&&(h+=r.Uc*B,k+=r.Vc*B,g+=r.Wc*B,l+=r.Xc*-B,m+=r.Yc*-B,n+=r.Zc*-B)}}q=0;for(p=this.info.La;q<p;)r=q++,t=this.info.rows[r],r=this.i[r],x=t.Aa,v=t.Ea,B=0,B+=a*v.Ba+b*v.Ca+e*v.Da,B-=d*v.Fa+c*v.Ga+f*v.Ha,
B+=h*v.ka+k*v.la+g*v.ma,B-=l*v.na+m*v.oa+n*v.pa,B=(t.Na-B-x.Aa*t.Ua)*r.mass,H=x.Aa,x.Aa+=B,x.Aa<t.Qa?x.Aa=t.Qa:x.Aa>t.Pa&&(x.Aa=t.Pa),B=x.Aa-H,0!=(v.sc&1)&&(a+=r.$c*B,b+=r.ad*B,e+=r.bd*B,d+=r.cd*-B,c+=r.dd*-B,f+=r.ed*-B),0!=(v.sc&2)&&(h+=r.Uc*B,k+=r.Vc*B,g+=r.Wc*B,l+=r.Xc*-B,m+=r.Yc*-B,n+=r.Zc*-B);this.J.ub=a;this.J.vb=b;this.J.wb=e;this.K.ub=d;this.K.vb=c;this.K.wb=f;this.J.xb=h;this.J.yb=k;this.J.zb=g;this.K.xb=l;this.K.yb=m;this.K.zb=n};xd.prototype.rg=function(a){for(var b,e,d,c,f,h,k=h=f=c=d=
e=b=0,g=this.info.La;k<g;){var l=this.info.rows[k++],m=l.Aa;l=l.Ea;0!=(l.sc&1)?(b+=l.Ba*m.Aa,e+=l.Ca*m.Aa,d+=l.Da*m.Aa):0!=(l.sc&2)&&(c+=l.ka*m.Aa,f+=l.la*m.Aa,h+=l.ma*m.Aa)}this.h.vg=b*a.invDt;this.h.wg=e*a.invDt;this.h.xg=d*a.invDt;this.h.yg=c*a.invDt;this.h.zg=f*a.invDt;this.h.Ag=h*a.invDt};xd.prototype.Bf=function(){this.h.Gc();this.h.Ec(this.info);this.J=this.info.Yd;this.K=this.info.Zd;var a=this.J.Ab,b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;
var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,N=this.info.La;C<N;){var y=C++,A=this.i[y];y=this.info.rows[y].Ea;A.$c=y.Ba*a;A.ad=y.Ca*a;A.bd=y.Da*a;A.cd=y.Fa*b;A.dd=y.Ga*b;A.ed=y.Ha*b;var E=e*y.ka+d*y.la+c*y.ma;var L=f*y.ka+h*y.la+k*y.ma;var G=g*y.ka+l*y.la+m*y.ma;A.Uc=E;A.Vc=L;A.Wc=G;E=n*y.na+q*y.oa+p*y.pa;L=r*y.na+t*y.oa+x*
y.pa;G=v*y.na+B*y.oa+H*y.pa;A.Xc=E;A.Yc=L;A.Zc=G;A.mass=A.$c*y.Ba+A.ad*y.Ca+A.bd*y.Da+(A.cd*y.Fa+A.dd*y.Ga+A.ed*y.Ha)+(A.Uc*y.ka+A.Vc*y.la+A.Wc*y.ma)+(A.Xc*y.na+A.Yc*y.oa+A.Zc*y.pa);0!=A.mass&&(A.mass=1/A.mass)}a=0;for(b=this.info.La;a<b;)this.info.rows[a++].Aa.Hb=0};xd.prototype.Uf=function(){var a=this.J.Pc;var b=this.J.Qc;var e=this.J.Rc;var d=this.K.Pc;var c=this.K.Qc;var f=this.K.Rc;var h=this.J.Jc;var k=this.J.Kc;var g=this.J.Lc;var l=this.K.Jc;var m=this.K.Kc;var n=this.K.Lc;for(var q=0,p=
this.info.La;q<p;){var r=q++,t=this.info.rows[r];r=this.i[r];var x=t.Aa,v=t.Ea,B=0;B+=a*v.Ba+b*v.Ca+e*v.Da;B-=d*v.Fa+c*v.Ga+f*v.Ha;B+=h*v.ka+k*v.la+g*v.ma;B-=l*v.na+m*v.oa+n*v.pa;v=(t.Na*ra.positionSplitImpulseBaumgarte-B)*r.mass;B=x.Hb;x.Hb+=v;x.Hb<t.Qa?x.Hb=t.Qa:x.Hb>t.Pa&&(x.Hb=t.Pa);v=x.Hb-B;a+=r.$c*v;b+=r.ad*v;e+=r.bd*v;d+=r.cd*-v;c+=r.dd*-v;f+=r.ed*-v;h+=r.Uc*v;k+=r.Vc*v;g+=r.Wc*v;l+=r.Xc*-v;m+=r.Yc*-v;n+=r.Zc*-v}this.J.Pc=a;this.J.Qc=b;this.J.Rc=e;this.K.Pc=d;this.K.Qc=c;this.K.Rc=f;this.J.Jc=
h;this.J.Kc=k;this.J.Lc=g;this.K.Jc=l;this.K.Kc=m;this.K.Lc=n};xd.prototype.Tf=function(){this.h.Gc();this.h.Ec(this.info);this.J=this.info.Yd;this.K=this.info.Zd;var a=this.J.Ab,b=this.K.Ab;var e=this.J.ba;var d=this.J.ca;var c=this.J.da;var f=this.J.ea;var h=this.J.fa;var k=this.J.ga;var g=this.J.ha;var l=this.J.ia;var m=this.J.ja;var n=this.K.ba;var q=this.K.ca;var p=this.K.da;var r=this.K.ea;var t=this.K.fa;var x=this.K.ga;var v=this.K.ha;var B=this.K.ia;var H=this.K.ja;for(var C=0,N=this.info.La;C<
N;){var y=C++,A=this.i[y],E=this.info.rows[y].Ea;A.$c=E.Ba*a;A.ad=E.Ca*a;A.bd=E.Da*a;A.cd=E.Fa*b;A.dd=E.Ga*b;A.ed=E.Ha*b;var L=void 0,G=void 0,P=void 0;L=e*E.ka+d*E.la+c*E.ma;G=f*E.ka+h*E.la+k*E.ma;P=g*E.ka+l*E.la+m*E.ma;A.Uc=L;A.Vc=G;A.Wc=P;var K=void 0,pa=void 0,M=void 0;K=n*E.na+q*E.oa+p*E.pa;pa=r*E.na+t*E.oa+x*E.pa;M=v*E.na+B*E.oa+H*E.pa;A.Xc=K;A.Yc=pa;A.Zc=M;A.mass=A.$c*E.Ba+A.ad*E.Ca+A.bd*E.Da+(A.cd*E.Fa+A.dd*E.Ga+A.ed*E.Ha)+(A.Uc*E.ka+A.Vc*E.la+A.Wc*E.ma)+(A.Xc*E.na+A.Yc*E.oa+A.Zc*E.pa);0!=
A.mass&&(A.mass=1/A.mass)}for(var Sa,Pa,Ca,Ra,wa,La,Ea,O,ma,Y,ta,Va,D=Va=ta=Y=ma=O=Ea=La=wa=Ra=Ca=Pa=Sa=0,Aa=this.info.La;D<Aa;){var aa=D++,Ua=this.info.rows[aa],xa=this.i[aa],Ja=Ua.Aa,S=Ua.Ea,la=0;la+=Sa*S.Ba+Pa*S.Ca+Ca*S.Da;la-=Ra*S.Fa+wa*S.Ga+La*S.Ha;la+=Ea*S.ka+O*S.la+ma*S.ma;la-=Y*S.na+ta*S.oa+Va*S.pa;var qa=(Ua.Na*ra.positionNgsBaumgarte-la)*xa.mass,Da=Ja.Hb;Ja.Hb+=qa;Ja.Hb<Ua.Qa?Ja.Hb=Ua.Qa:Ja.Hb>Ua.Pa&&(Ja.Hb=Ua.Pa);qa=Ja.Hb-Da;Sa+=xa.$c*qa;Pa+=xa.ad*qa;Ca+=xa.bd*qa;Ra+=xa.cd*-qa;wa+=xa.dd*
-qa;La+=xa.ed*-qa;Ea+=xa.Uc*qa;O+=xa.Vc*qa;ma+=xa.Wc*qa;Y+=xa.Xc*-qa;ta+=xa.Yc*-qa;Va+=xa.Zc*-qa}var X=this.J;X.g.F+=Sa;X.g.G+=Pa;X.g.H+=Ca;var fa=this.K;fa.g.F+=Ra;fa.g.G+=wa;fa.g.H+=La;var w=this.J,ja=Math.sqrt(Ea*Ea+O*O+ma*ma),ea=.5*ja;if(.5>ea){var U=ea*ea;var ba=.5*(1-.16666666666666666*U+U*U*.008333333333333333);var Fa=1-.5*U+U*U*.041666666666666664}else ba=Math.sin(ea)/ja,Fa=Math.cos(ea);var ka=Ea*ba;var Qa=O*ba;var Ka=ma*ba;var V=Fa;var ob=w.g.A,Za=w.g.v,W=w.g.B,ha=ob+Za+W;if(0<ha){var I=
Math.sqrt(ha+1);var na=.5*I;I=.5/I;var ca=(w.g.l-w.g.s)*I;var da=(w.g.m-w.g.u)*I;var Z=(w.g.o-w.g.j)*I}else ob>Za?ob>W?(I=Math.sqrt(ob-Za-W+1),ca=.5*I,I=.5/I,da=(w.g.j+w.g.o)*I,Z=(w.g.m+w.g.u)*I,na=(w.g.l-w.g.s)*I):(I=Math.sqrt(W-ob-Za+1),Z=.5*I,I=.5/I,ca=(w.g.m+w.g.u)*I,da=(w.g.s+w.g.l)*I,na=(w.g.o-w.g.j)*I):Za>W?(I=Math.sqrt(Za-W-ob+1),da=.5*I,I=.5/I,ca=(w.g.j+w.g.o)*I,Z=(w.g.s+w.g.l)*I,na=(w.g.m-w.g.u)*I):(I=Math.sqrt(W-ob-Za+1),Z=.5*I,I=.5/I,ca=(w.g.m+w.g.u)*I,da=(w.g.s+w.g.l)*I,na=(w.g.o-w.g.j)*
I);ca=V*ca+ka*na+Qa*Z-Ka*da;da=V*da-ka*Z+Qa*na+Ka*ca;Z=V*Z+ka*da-Qa*ca+Ka*na;na=V*na-ka*ca-Qa*da-Ka*Z;var oa=ca*ca+da*da+Z*Z+na*na;1E-32<oa&&(oa=1/Math.sqrt(oa));ca*=oa;da*=oa;Z*=oa;na*=oa;var xb=ca,hb=da,fb=Z,gb=na,pb=2*xb,ab=2*hb,$a=2*fb,ua=xb*pb,Ya=hb*ab,Fb=fb*$a,Xa=xb*ab,Bb=hb*$a,Wa=xb*$a,Cb=gb*pb,qb=gb*ab,bb=gb*$a;w.g.A=1-Ya-Fb;w.g.j=Xa-bb;w.g.m=Wa+qb;w.g.o=Xa+bb;w.g.v=1-ua-Fb;w.g.s=Bb-Cb;w.g.u=Wa-qb;w.g.l=Bb+Cb;w.g.B=1-ua-Ya;var ib=w.g.A*w.bb+w.g.j*w.fb+w.g.m*w.ib;var rb=w.g.A*w.cb+w.g.j*w.gb+
w.g.m*w.jb;var db=w.g.A*w.eb+w.g.j*w.hb+w.g.m*w.kb;var Db=w.g.o*w.bb+w.g.v*w.fb+w.g.s*w.ib;var jb=w.g.o*w.cb+w.g.v*w.gb+w.g.s*w.jb;var nb=w.g.o*w.eb+w.g.v*w.hb+w.g.s*w.kb;var cb=w.g.u*w.bb+w.g.l*w.fb+w.g.B*w.ib;var Jb=w.g.u*w.cb+w.g.l*w.gb+w.g.B*w.jb;var Kb=w.g.u*w.eb+w.g.l*w.hb+w.g.B*w.kb;w.ba=ib;w.ca=rb;w.da=db;w.ea=Db;w.fa=jb;w.ga=nb;w.ha=cb;w.ia=Jb;w.ja=Kb;var F=w.ba*w.g.A+w.ca*w.g.j+w.da*w.g.m;var ub=w.ba*w.g.o+w.ca*w.g.v+w.da*w.g.s;var lb=w.ba*w.g.u+w.ca*w.g.l+w.da*w.g.B;var yb=w.ea*w.g.A+w.fa*
w.g.j+w.ga*w.g.m;var vb=w.ea*w.g.o+w.fa*w.g.v+w.ga*w.g.s;var eb=w.ea*w.g.u+w.fa*w.g.l+w.ga*w.g.B;var Lb=w.ha*w.g.A+w.ia*w.g.j+w.ja*w.g.m;var mb=w.ha*w.g.o+w.ia*w.g.v+w.ja*w.g.s;var zb=w.ha*w.g.u+w.ia*w.g.l+w.ja*w.g.B;w.ba=F;w.ca=ub;w.da=lb;w.ea=yb;w.fa=vb;w.ga=eb;w.ha=Lb;w.ia=mb;w.ja=zb;w.ba*=w.X.x;w.ca*=w.X.x;w.da*=w.X.x;w.ea*=w.X.y;w.fa*=w.X.y;w.ga*=w.X.y;w.ha*=w.X.z;w.ia*=w.X.z;w.ja*=w.X.z;var u=this.K,T=Math.sqrt(Y*Y+ta*ta+Va*Va),R=.5*T;if(.5>R){var va=R*R;var Na=.5*(1-.16666666666666666*va+va*
va*.008333333333333333);var ya=1-.5*va+va*va*.041666666666666664}else Na=Math.sin(R)/T,ya=Math.cos(R);var Oa=Y*Na;var kb=ta*Na;var sb=Va*Na;var Hb=ya;var Ba=u.g.A,Ta=u.g.v,sa=u.g.B,Ga=Ba+Ta+sa;if(0<Ga){var Q=Math.sqrt(Ga+1);var Ma=.5*Q;Q=.5/Q;var Ia=(u.g.l-u.g.s)*Q;var Eb=(u.g.m-u.g.u)*Q;var wb=(u.g.o-u.g.j)*Q}else Ba>Ta?Ba>sa?(Q=Math.sqrt(Ba-Ta-sa+1),Ia=.5*Q,Q=.5/Q,Eb=(u.g.j+u.g.o)*Q,wb=(u.g.m+u.g.u)*Q,Ma=(u.g.l-u.g.s)*Q):(Q=Math.sqrt(sa-Ba-Ta+1),wb=.5*Q,Q=.5/Q,Ia=(u.g.m+u.g.u)*Q,Eb=(u.g.s+u.g.l)*
Q,Ma=(u.g.o-u.g.j)*Q):Ta>sa?(Q=Math.sqrt(Ta-sa-Ba+1),Eb=.5*Q,Q=.5/Q,Ia=(u.g.j+u.g.o)*Q,wb=(u.g.s+u.g.l)*Q,Ma=(u.g.m-u.g.u)*Q):(Q=Math.sqrt(sa-Ba-Ta+1),wb=.5*Q,Q=.5/Q,Ia=(u.g.m+u.g.u)*Q,Eb=(u.g.s+u.g.l)*Q,Ma=(u.g.o-u.g.j)*Q);Ia=Hb*Ia+Oa*Ma+kb*wb-sb*Eb;Eb=Hb*Eb-Oa*wb+kb*Ma+sb*Ia;wb=Hb*wb+Oa*Eb-kb*Ia+sb*Ma;Ma=Hb*Ma-Oa*Ia-kb*Eb-sb*wb;var Mb=Ia*Ia+Eb*Eb+wb*wb+Ma*Ma;1E-32<Mb&&(Mb=1/Math.sqrt(Mb));Ia*=Mb;Eb*=Mb;wb*=Mb;Ma*=Mb;var Ib=Ia,Tb=Eb,Rb=wb,Wb=Ma,mc=2*Ib,Xb=2*Tb,ic=2*Rb,bc=Ib*mc,$b=Tb*Xb,Zb=Rb*ic,
Qb=Ib*Xb,jc=Tb*ic,ac=Ib*ic,ec=Wb*mc,Ub=Wb*Xb,kc=Wb*ic;u.g.A=1-$b-Zb;u.g.j=Qb-kc;u.g.m=ac+Ub;u.g.o=Qb+kc;u.g.v=1-bc-Zb;u.g.s=jc-ec;u.g.u=ac-Ub;u.g.l=jc+ec;u.g.B=1-bc-$b;var uc=u.g.A*u.bb+u.g.j*u.fb+u.g.m*u.ib;var fc=u.g.A*u.cb+u.g.j*u.gb+u.g.m*u.jb;var dd=u.g.A*u.eb+u.g.j*u.hb+u.g.m*u.kb;var Nb=u.g.o*u.bb+u.g.v*u.fb+u.g.s*u.ib;var nc=u.g.o*u.cb+u.g.v*u.gb+u.g.s*u.jb;var gc=u.g.o*u.eb+u.g.v*u.hb+u.g.s*u.kb;var Vb=u.g.u*u.bb+u.g.l*u.fb+u.g.B*u.ib;var lc=u.g.u*u.cb+u.g.l*u.gb+u.g.B*u.jb;var ed=u.g.u*
u.eb+u.g.l*u.hb+u.g.B*u.kb;u.ba=uc;u.ca=fc;u.da=dd;u.ea=Nb;u.fa=nc;u.ga=gc;u.ha=Vb;u.ia=lc;u.ja=ed;var Bc=u.ba*u.g.A+u.ca*u.g.j+u.da*u.g.m;var Kc=u.ba*u.g.o+u.ca*u.g.v+u.da*u.g.s;var zc=u.ba*u.g.u+u.ca*u.g.l+u.da*u.g.B;var Cc=u.ea*u.g.A+u.fa*u.g.j+u.ga*u.g.m;var sc=u.ea*u.g.o+u.fa*u.g.v+u.ga*u.g.s;var Lc=u.ea*u.g.u+u.fa*u.g.l+u.ga*u.g.B;var zd=u.ha*u.g.A+u.ia*u.g.j+u.ja*u.g.m;var Rc=u.ha*u.g.o+u.ia*u.g.v+u.ja*u.g.s;var Wc=u.ha*u.g.u+u.ia*u.g.l+u.ja*u.g.B;u.ba=Bc;u.ca=Kc;u.da=zc;u.ea=Cc;u.fa=sc;u.ga=
Lc;u.ha=zd;u.ia=Rc;u.ja=Wc;u.ba*=u.X.x;u.ca*=u.X.x;u.da*=u.X.x;u.ea*=u.X.y;u.fa*=u.X.y;u.ga*=u.X.y;u.ha*=u.X.z;u.ia*=u.X.z;u.ja*=u.X.z};xd.prototype.postSolve=function(){this.h.Gc();this.h.zi()};J.prototype.Bi=function(a){switch(this.Xb){case 1:this.Lc=this.Kc=this.Jc=this.Rc=this.Qc=this.Pc=this.zb=this.yb=this.xb=this.wb=this.vb=this.ub=0;break;case 0:case 2:var b=this.ub*a;var e=this.vb*a;var d=this.wb*a;var c=this.xb*a;var f=this.yb*a;a=this.zb*a;var h=b*b+e*e+d*d,k=c*c+f*f+a*a;if(0!=h||0!=k){h>
ra.maxTranslationPerStep*ra.maxTranslationPerStep&&(h=ra.maxTranslationPerStep/Math.sqrt(h),this.ub*=h,this.vb*=h,this.wb*=h,b*=h,e*=h,d*=h);k>ra.maxRotationPerStep*ra.maxRotationPerStep&&(k=ra.maxRotationPerStep/Math.sqrt(k),this.xb*=k,this.yb*=k,this.zb*=k,c*=k,f*=k,a*=k);this.g.F+=b;this.g.G+=e;this.g.H+=d;b=Math.sqrt(c*c+f*f+a*a);e=.5*b;.5>e?(e*=e,b=.5*(1-.16666666666666666*e+e*e*.008333333333333333),e=1-.5*e+e*e*.041666666666666664):(b=Math.sin(e)/b,e=Math.cos(e));c*=b;f*=b;a*=b;b=e;e=this.g.A;
d=this.g.v;k=this.g.B;h=e+d+k;if(0<h){var g=Math.sqrt(h+1);e=.5*g;g=.5/g;h=(this.g.l-this.g.s)*g;k=(this.g.m-this.g.u)*g;d=(this.g.o-this.g.j)*g}else e>d?e>k?(g=Math.sqrt(e-d-k+1),h=.5*g,g=.5/g,k=(this.g.j+this.g.o)*g,d=(this.g.m+this.g.u)*g,e=(this.g.l-this.g.s)*g):(g=Math.sqrt(k-e-d+1),d=.5*g,g=.5/g,h=(this.g.m+this.g.u)*g,k=(this.g.s+this.g.l)*g,e=(this.g.o-this.g.j)*g):d>k?(g=Math.sqrt(d-k-e+1),k=.5*g,g=.5/g,h=(this.g.j+this.g.o)*g,d=(this.g.s+this.g.l)*g,e=(this.g.m-this.g.u)*g):(g=Math.sqrt(k-
e-d+1),d=.5*g,g=.5/g,h=(this.g.m+this.g.u)*g,k=(this.g.s+this.g.l)*g,e=(this.g.o-this.g.j)*g);h=b*h+c*e+f*d-a*k;k=b*k-c*d+f*e+a*h;d=b*d+c*k-f*h+a*e;e=b*e-c*h-f*k-a*d;a=h*h+k*k+d*d+e*e;1E-32<a&&(a=1/Math.sqrt(a));f=h*a;h=k*a;d*=a;b=e*a;var l=2*f;g=2*h;e=2*d;a=f*l;c=h*g;d*=e;k=f*g;h*=e;f*=e;l*=b;g*=b;b*=e;this.g.A=1-c-d;this.g.j=k-b;this.g.m=f+g;this.g.o=k+b;this.g.v=1-a-d;this.g.s=h-l;this.g.u=f-g;this.g.l=h+l;this.g.B=1-a-c;f=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;a=this.g.A*this.cb+this.g.j*
this.gb+this.g.m*this.jb;c=this.g.A*this.eb+this.g.j*this.hb+this.g.m*this.kb;b=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;e=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;d=this.g.o*this.eb+this.g.v*this.hb+this.g.s*this.kb;k=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;h=this.g.u*this.cb+this.g.l*this.gb+this.g.B*this.jb;g=this.g.u*this.eb+this.g.l*this.hb+this.g.B*this.kb;this.ba=f;this.ca=a;this.da=c;this.ea=b;this.fa=e;this.ga=d;this.ha=k;this.ia=h;this.ja=g;f=this.ba*this.g.A+
this.ca*this.g.j+this.da*this.g.m;a=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;c=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;b=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;e=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;d=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;k=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;h=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=f;this.ca=a;this.da=c;this.ea=b;this.fa=
e;this.ga=d;this.ha=k;this.ia=h;this.ja=g;this.ba*=this.X.x;this.ca*=this.X.x;this.da*=this.X.x;this.ea*=this.X.y;this.fa*=this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z}}};J.prototype.Ki=function(){if(0!=this.Pc*this.Pc+this.Qc*this.Qc+this.Rc*this.Rc||0!=this.Jc*this.Jc+this.Kc*this.Kc+this.Lc*this.Lc)switch(this.Xb){case 1:this.Lc=this.Kc=this.Jc=this.Rc=this.Qc=this.Pc=0;break;case 0:case 2:var a=this.Pc;var b=this.Qc;var e=this.Rc;var d=this.Jc;var c=this.Kc;
var f=this.Lc;this.Lc=this.Kc=this.Jc=this.Rc=this.Qc=this.Pc=0;this.g.F+=a;this.g.G+=b;this.g.H+=e;a=Math.sqrt(d*d+c*c+f*f);b=.5*a;.5>b?(b*=b,a=.5*(1-.16666666666666666*b+b*b*.008333333333333333),b=1-.5*b+b*b*.041666666666666664):(a=Math.sin(b)/a,b=Math.cos(b));d*=a;c*=a;f*=a;a=b;b=this.g.A;e=this.g.v;var h=this.g.B;var k=b+e+h;if(0<k){var g=Math.sqrt(k+1);b=.5*g;g=.5/g;k=(this.g.l-this.g.s)*g;h=(this.g.m-this.g.u)*g;e=(this.g.o-this.g.j)*g}else b>e?b>h?(g=Math.sqrt(b-e-h+1),k=.5*g,g=.5/g,h=(this.g.j+
this.g.o)*g,e=(this.g.m+this.g.u)*g,b=(this.g.l-this.g.s)*g):(g=Math.sqrt(h-b-e+1),e=.5*g,g=.5/g,k=(this.g.m+this.g.u)*g,h=(this.g.s+this.g.l)*g,b=(this.g.o-this.g.j)*g):e>h?(g=Math.sqrt(e-h-b+1),h=.5*g,g=.5/g,k=(this.g.j+this.g.o)*g,e=(this.g.s+this.g.l)*g,b=(this.g.m-this.g.u)*g):(g=Math.sqrt(h-b-e+1),e=.5*g,g=.5/g,k=(this.g.m+this.g.u)*g,h=(this.g.s+this.g.l)*g,b=(this.g.o-this.g.j)*g);k=a*k+d*b+c*e-f*h;h=a*h-d*e+c*b+f*k;e=a*e+d*h-c*k+f*b;b=a*b-d*k-c*h-f*e;c=k*k+h*h+e*e+b*b;1E-32<c&&(c=1/Math.sqrt(c));
d=k*c;k=h*c;e*=c;a=b*c;var l=2*d;g=2*k;b=2*e;c=d*l;f=k*g;e*=b;h=d*g;k*=b;d*=b;l*=a;g*=a;a*=b;this.g.A=1-f-e;this.g.j=h-a;this.g.m=d+g;this.g.o=h+a;this.g.v=1-c-e;this.g.s=k-l;this.g.u=d-g;this.g.l=k+l;this.g.B=1-c-f;d=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;c=this.g.A*this.cb+this.g.j*this.gb+this.g.m*this.jb;f=this.g.A*this.eb+this.g.j*this.hb+this.g.m*this.kb;a=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;b=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;e=this.g.o*this.eb+this.g.v*
this.hb+this.g.s*this.kb;h=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;k=this.g.u*this.cb+this.g.l*this.gb+this.g.B*this.jb;g=this.g.u*this.eb+this.g.l*this.hb+this.g.B*this.kb;this.ba=d;this.ca=c;this.da=f;this.ea=a;this.fa=b;this.ga=e;this.ha=h;this.ia=k;this.ja=g;d=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;c=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;f=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;a=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;b=this.ea*this.g.o+
this.fa*this.g.v+this.ga*this.g.s;e=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=d;this.ca=c;this.da=f;this.ea=a;this.fa=b;this.ga=e;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.X.x;this.ca*=this.X.x;this.da*=this.X.x;this.ea*=this.X.y;this.fa*=this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z}};J.prototype.Wg=
function(){for(var a,b,e,d,c,f,h,k,g,l=g=k=h=f=c=d=e=b=a=0,m=this.vc;null!=m;){var n=m.U,q=m.Tb;q.Wd();var p=m.Qh*q.Ge;var r=m.ra.A*q.af+m.ra.j*q.df+m.ra.m*q.gf;var t=m.ra.A*q.bf+m.ra.j*q.ef+m.ra.m*q.hf;var x=m.ra.A*q.cf+m.ra.j*q.ff+m.ra.m*q.jf;var v=m.ra.o*q.af+m.ra.v*q.df+m.ra.s*q.gf;var B=m.ra.o*q.bf+m.ra.v*q.ef+m.ra.s*q.hf;var H=m.ra.o*q.cf+m.ra.v*q.ff+m.ra.s*q.jf;var C=m.ra.u*q.af+m.ra.l*q.df+m.ra.B*q.gf;var N=m.ra.u*q.bf+m.ra.l*q.ef+m.ra.B*q.hf;q=m.ra.u*q.cf+m.ra.l*q.ff+m.ra.B*q.jf;var y=r*
m.ra.A+t*m.ra.j+x*m.ra.m;var A=r*m.ra.o+t*m.ra.v+x*m.ra.s;x=r*m.ra.u+t*m.ra.l+x*m.ra.B;var E=v*m.ra.A+B*m.ra.j+H*m.ra.m;var L=v*m.ra.o+B*m.ra.v+H*m.ra.s;H=v*m.ra.u+B*m.ra.l+H*m.ra.B;var G=C*m.ra.A+N*m.ra.j+q*m.ra.m;var P=C*m.ra.o+N*m.ra.v+q*m.ra.s;q=C*m.ra.u+N*m.ra.l+q*m.ra.B;r=y;t=A;v=E;B=L;C=G;N=P;r*=p;t*=p;x*=p;v*=p;B*=p;H*=p;C*=p;N*=p;q*=p;E=m.ra.F*m.ra.F;L=m.ra.G*m.ra.G;var K=m.ra.H*m.ra.H;G=-m.ra.F*m.ra.G;P=-m.ra.G*m.ra.H;var pa=-m.ra.H*m.ra.F;m=L+K;y=G;A=pa;K=E+K;var M=P;E+=L;r+=m*p;t+=y*p;
x+=A*p;v+=G*p;B+=K*p;H+=M*p;C+=pa*p;N+=P*p;q+=E*p;l+=p;a+=r;b+=t;e+=x;d+=v;c+=B;f+=H;h+=C;k+=N;g+=q;m=n}this.Ce=l;this.h=a;this.i=b;this.C=e;this.I=d;this.M=c;this.V=f;this.W=h;this.Y=k;this.aa=g;if(0<this.Ce&&0<this.h*(this.M*this.aa-this.V*this.Y)-this.i*(this.I*this.aa-this.V*this.W)+this.C*(this.I*this.Y-this.M*this.W)&&0==this.Xb){this.Ab=1/this.Ce;a=this.M*this.aa-this.V*this.Y;b=this.I*this.aa-this.V*this.W;e=this.I*this.Y-this.M*this.W;d=this.h*a-this.i*b+this.C*e;if(-1E-32>d||1E-32<d)d=1/
d;this.bb=a*d;this.cb=-(this.i*this.aa-this.C*this.Y)*d;this.eb=(this.i*this.V-this.C*this.M)*d;this.fb=-b*d;this.gb=(this.h*this.aa-this.C*this.W)*d;this.hb=-(this.h*this.V-this.C*this.I)*d;this.ib=e*d;this.jb=-(this.h*this.Y-this.i*this.W)*d;this.kb=(this.h*this.M-this.i*this.I)*d;this.qa=this.bb;this.Ma=this.cb;this.Oa=this.eb;this.Sa=this.fb;this.Wa=this.gb;this.Ya=this.hb;this.nb=this.ib;this.ob=this.jb;this.Ib=this.kb;this.bb=this.qa*this.X.x;this.cb=this.Ma*this.X.x;this.eb=this.Oa*this.X.x;
this.fb=this.Sa*this.X.y;this.gb=this.Wa*this.X.y;this.hb=this.Ya*this.X.y;this.ib=this.nb*this.X.z;this.jb=this.ob*this.X.z;this.kb=this.Ib*this.X.z}else this.Ib=this.ob=this.nb=this.Ya=this.Wa=this.Sa=this.Oa=this.Ma=this.qa=this.kb=this.jb=this.ib=this.hb=this.gb=this.fb=this.eb=this.cb=this.bb=this.Ab=0,0==this.Xb&&(this.Xb=1);a=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;b=this.g.A*this.cb+this.g.j*this.gb+this.g.m*this.jb;e=this.g.A*this.eb+this.g.j*this.hb+this.g.m*this.kb;d=this.g.o*
this.bb+this.g.v*this.fb+this.g.s*this.ib;c=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;f=this.g.o*this.eb+this.g.v*this.hb+this.g.s*this.kb;h=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;k=this.g.u*this.cb+this.g.l*this.gb+this.g.B*this.jb;g=this.g.u*this.eb+this.g.l*this.hb+this.g.B*this.kb;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;b=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;
e=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;d=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;c=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;f=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.X.x;this.ca*=this.X.x;this.da*=
this.X.x;this.ea*=this.X.y;this.fa*=this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z;this.Ob=!1;this.Kb=0};J.prototype.Va=function(){var a=new z;a.x=this.g.F;a.y=this.g.G;a.z=this.g.H;return a};J.prototype.Xa=function(a){a.x=this.g.F;a.y=this.g.G;a.z=this.g.H};J.prototype.He=function(a){this.g.F=a.x;this.g.G=a.y;this.g.H=a.z;a=this.za;var b=this.g;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B;for(a=this.vc;null!=a;){b=
a.U;var e=this.za,d=this.g,c=a.za,f=a.ra;var h=e.A*f.A+e.j*f.o+e.m*f.u;var k=e.A*f.j+e.j*f.v+e.m*f.l;var g=e.A*f.m+e.j*f.s+e.m*f.B;var l=e.o*f.A+e.v*f.o+e.s*f.u;var m=e.o*f.j+e.v*f.v+e.s*f.l;var n=e.o*f.m+e.v*f.s+e.s*f.B;var q=e.u*f.A+e.l*f.o+e.B*f.u;var p=e.u*f.j+e.l*f.v+e.B*f.l;var r=e.u*f.m+e.l*f.s+e.B*f.B;c.A=h;c.j=k;c.m=g;c.o=l;c.v=m;c.s=n;c.u=q;c.l=p;c.B=r;h=e.A*f.F+e.j*f.G+e.m*f.H;k=e.o*f.F+e.v*f.G+e.s*f.H;f=e.u*f.F+e.l*f.G+e.B*f.H;c.F=h;c.G=k;c.H=f;c.F+=e.F;c.G+=e.G;c.H+=e.H;e=a.g;c=a.ra;
f=d.A*c.A+d.j*c.o+d.m*c.u;h=d.A*c.j+d.j*c.v+d.m*c.l;k=d.A*c.m+d.j*c.s+d.m*c.B;g=d.o*c.A+d.v*c.o+d.s*c.u;l=d.o*c.j+d.v*c.v+d.s*c.l;m=d.o*c.m+d.v*c.s+d.s*c.B;n=d.u*c.A+d.l*c.o+d.B*c.u;q=d.u*c.j+d.l*c.v+d.B*c.l;p=d.u*c.m+d.l*c.s+d.B*c.B;e.A=f;e.j=h;e.m=k;e.o=g;e.v=l;e.s=m;e.u=n;e.l=q;e.B=p;f=d.A*c.F+d.j*c.G+d.m*c.H;h=d.o*c.F+d.v*c.G+d.s*c.H;c=d.u*c.F+d.l*c.G+d.B*c.H;e.F=f;e.G=h;e.H=c;e.F+=d.F;e.G+=d.G;e.H+=d.H;a.Tb.Yb(a.D,a.za);d=a.D.wa;e=a.D.xa;c=a.D.ya;f=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Yb(a.D,a.g);a.D.wa=
d<a.D.wa?d:a.D.wa;a.D.xa=e<a.D.xa?e:a.D.xa;a.D.ya=c<a.D.ya?c:a.D.ya;a.D.ta=f>a.D.ta?f:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Eb&&(d=a.g.F-a.za.F,e=a.g.G-a.za.G,c=a.g.H-a.za.H,f=a.qc,f.x=d,f.y=e,f.z=c,a.hc.pc.nc.fd(a.Eb,a.D,a.qc));a=b}this.Ob=!1;this.Kb=0};J.prototype.tf=function(a){var b=a.x;var e=a.y;a=a.z;this.g.F+=b;this.g.G+=e;this.g.H+=a;b=this.za;e=this.g;b.F=e.F;b.G=e.G;b.H=e.H;b.A=e.A;b.j=e.j;b.m=e.m;b.o=e.o;b.v=e.v;b.s=e.s;b.u=e.u;b.l=e.l;b.B=e.B;for(b=this.vc;null!=
b;){e=b.U;var d=this.za;a=this.g;var c=b.za,f=b.ra;var h=d.A*f.A+d.j*f.o+d.m*f.u;var k=d.A*f.j+d.j*f.v+d.m*f.l;var g=d.A*f.m+d.j*f.s+d.m*f.B;var l=d.o*f.A+d.v*f.o+d.s*f.u;var m=d.o*f.j+d.v*f.v+d.s*f.l;var n=d.o*f.m+d.v*f.s+d.s*f.B;var q=d.u*f.A+d.l*f.o+d.B*f.u;var p=d.u*f.j+d.l*f.v+d.B*f.l;var r=d.u*f.m+d.l*f.s+d.B*f.B;c.A=h;c.j=k;c.m=g;c.o=l;c.v=m;c.s=n;c.u=q;c.l=p;c.B=r;h=d.A*f.F+d.j*f.G+d.m*f.H;k=d.o*f.F+d.v*f.G+d.s*f.H;f=d.u*f.F+d.l*f.G+d.B*f.H;c.F=h;c.G=k;c.H=f;c.F+=d.F;c.G+=d.G;c.H+=d.H;d=b.g;
c=b.ra;f=a.A*c.A+a.j*c.o+a.m*c.u;h=a.A*c.j+a.j*c.v+a.m*c.l;k=a.A*c.m+a.j*c.s+a.m*c.B;g=a.o*c.A+a.v*c.o+a.s*c.u;l=a.o*c.j+a.v*c.v+a.s*c.l;m=a.o*c.m+a.v*c.s+a.s*c.B;n=a.u*c.A+a.l*c.o+a.B*c.u;q=a.u*c.j+a.l*c.v+a.B*c.l;p=a.u*c.m+a.l*c.s+a.B*c.B;d.A=f;d.j=h;d.m=k;d.o=g;d.v=l;d.s=m;d.u=n;d.l=q;d.B=p;f=a.A*c.F+a.j*c.G+a.m*c.H;h=a.o*c.F+a.v*c.G+a.s*c.H;c=a.u*c.F+a.l*c.G+a.B*c.H;d.F=f;d.G=h;d.H=c;d.F+=a.F;d.G+=a.G;d.H+=a.H;b.Tb.Yb(b.D,b.za);a=b.D.wa;d=b.D.xa;c=b.D.ya;f=b.D.ta;h=b.D.ua;k=b.D.va;b.Tb.Yb(b.D,
b.g);b.D.wa=a<b.D.wa?a:b.D.wa;b.D.xa=d<b.D.xa?d:b.D.xa;b.D.ya=c<b.D.ya?c:b.D.ya;b.D.ta=f>b.D.ta?f:b.D.ta;b.D.ua=h>b.D.ua?h:b.D.ua;b.D.va=k>b.D.va?k:b.D.va;null!=b.Eb&&(a=b.g.F-b.za.F,d=b.g.G-b.za.G,c=b.g.H-b.za.H,f=b.qc,f.x=a,f.y=d,f.z=c,b.hc.pc.nc.fd(b.Eb,b.D,b.qc));b=e}this.Ob=!1;this.Kb=0};J.prototype.Fb=function(){var a=new ia;a.e00=this.g.A;a.e01=this.g.j;a.e02=this.g.m;a.e10=this.g.o;a.e11=this.g.v;a.e12=this.g.s;a.e20=this.g.u;a.e21=this.g.l;a.e22=this.g.B;return a};J.prototype.Gb=function(a){a.e00=
this.g.A;a.e01=this.g.j;a.e02=this.g.m;a.e10=this.g.o;a.e11=this.g.v;a.e12=this.g.s;a.e20=this.g.u;a.e21=this.g.l;a.e22=this.g.B};J.prototype.Ie=function(a){this.g.A=a.e00;this.g.j=a.e01;this.g.m=a.e02;this.g.o=a.e10;this.g.v=a.e11;this.g.s=a.e12;this.g.u=a.e20;this.g.l=a.e21;this.g.B=a.e22;a=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;var b=this.g.A*this.cb+this.g.j*this.gb+this.g.m*this.jb;var e=this.g.A*this.eb+this.g.j*this.hb+this.g.m*this.kb;var d=this.g.o*this.bb+this.g.v*this.fb+this.g.s*
this.ib;var c=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;var f=this.g.o*this.eb+this.g.v*this.hb+this.g.s*this.kb;var h=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;var k=this.g.u*this.cb+this.g.l*this.gb+this.g.B*this.jb;var g=this.g.u*this.eb+this.g.l*this.hb+this.g.B*this.kb;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;b=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;e=this.ba*this.g.u+
this.ca*this.g.l+this.da*this.g.B;d=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;c=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;f=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.X.x;this.ca*=this.X.x;this.da*=this.X.x;this.ea*=
this.X.y;this.fa*=this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z;a=this.za;b=this.g;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B;for(a=this.vc;null!=a;){b=a.U;d=this.za;e=this.g;c=a.za;f=a.ra;h=d.A*f.A+d.j*f.o+d.m*f.u;k=d.A*f.j+d.j*f.v+d.m*f.l;g=d.A*f.m+d.j*f.s+d.m*f.B;var l=d.o*f.A+d.v*f.o+d.s*f.u;var m=d.o*f.j+d.v*f.v+d.s*f.l;var n=d.o*f.m+d.v*f.s+d.s*f.B;var q=d.u*f.A+d.l*f.o+d.B*f.u;var p=d.u*f.j+d.l*f.v+d.B*
f.l;var r=d.u*f.m+d.l*f.s+d.B*f.B;c.A=h;c.j=k;c.m=g;c.o=l;c.v=m;c.s=n;c.u=q;c.l=p;c.B=r;h=d.A*f.F+d.j*f.G+d.m*f.H;k=d.o*f.F+d.v*f.G+d.s*f.H;f=d.u*f.F+d.l*f.G+d.B*f.H;c.F=h;c.G=k;c.H=f;c.F+=d.F;c.G+=d.G;c.H+=d.H;d=a.g;c=a.ra;f=e.A*c.A+e.j*c.o+e.m*c.u;h=e.A*c.j+e.j*c.v+e.m*c.l;k=e.A*c.m+e.j*c.s+e.m*c.B;g=e.o*c.A+e.v*c.o+e.s*c.u;l=e.o*c.j+e.v*c.v+e.s*c.l;m=e.o*c.m+e.v*c.s+e.s*c.B;n=e.u*c.A+e.l*c.o+e.B*c.u;q=e.u*c.j+e.l*c.v+e.B*c.l;p=e.u*c.m+e.l*c.s+e.B*c.B;d.A=f;d.j=h;d.m=k;d.o=g;d.v=l;d.s=m;d.u=n;d.l=
q;d.B=p;f=e.A*c.F+e.j*c.G+e.m*c.H;h=e.o*c.F+e.v*c.G+e.s*c.H;c=e.u*c.F+e.l*c.G+e.B*c.H;d.F=f;d.G=h;d.H=c;d.F+=e.F;d.G+=e.G;d.H+=e.H;a.Tb.Yb(a.D,a.za);e=a.D.wa;d=a.D.xa;c=a.D.ya;f=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Yb(a.D,a.g);a.D.wa=e<a.D.wa?e:a.D.wa;a.D.xa=d<a.D.xa?d:a.D.xa;a.D.ya=c<a.D.ya?c:a.D.ya;a.D.ta=f>a.D.ta?f:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Eb&&(e=a.g.F-a.za.F,d=a.g.G-a.za.G,c=a.g.H-a.za.H,f=a.qc,f.x=e,f.y=d,f.z=c,a.hc.pc.nc.fd(a.Eb,a.D,a.qc));a=b}this.Ob=!1;this.Kb=
0};J.prototype.rf=function(a){var b=a.x;var e=a.y;var d=a.z;a=Math.sin(b);var c=Math.sin(e),f=Math.sin(d);b=Math.cos(b);e=Math.cos(e);d=Math.cos(d);this.g.A=e*d;this.g.j=-e*f;this.g.m=c;this.g.o=b*f+d*a*c;this.g.v=b*d-a*c*f;this.g.s=-e*a;this.g.u=a*f-b*d*c;this.g.l=d*a+b*c*f;this.g.B=b*e;a=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;c=this.g.A*this.cb+this.g.j*this.gb+this.g.m*this.jb;f=this.g.A*this.eb+this.g.j*this.hb+this.g.m*this.kb;e=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;
d=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;b=this.g.o*this.eb+this.g.v*this.hb+this.g.s*this.kb;var h=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;var k=this.g.u*this.cb+this.g.l*this.gb+this.g.B*this.jb;var g=this.g.u*this.eb+this.g.l*this.hb+this.g.B*this.kb;this.ba=a;this.ca=c;this.da=f;this.ea=e;this.fa=d;this.ga=b;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;c=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;f=this.ba*this.g.u+this.ca*this.g.l+
this.da*this.g.B;e=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;d=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;b=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=c;this.da=f;this.ea=e;this.fa=d;this.ga=b;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.X.x;this.ca*=this.X.x;this.da*=this.X.x;this.ea*=this.X.y;this.fa*=
this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z;a=this.za;c=this.g;a.F=c.F;a.G=c.G;a.H=c.H;a.A=c.A;a.j=c.j;a.m=c.m;a.o=c.o;a.v=c.v;a.s=c.s;a.u=c.u;a.l=c.l;a.B=c.B;for(a=this.vc;null!=a;){c=a.U;e=this.za;f=this.g;d=a.za;b=a.ra;h=e.A*b.A+e.j*b.o+e.m*b.u;k=e.A*b.j+e.j*b.v+e.m*b.l;g=e.A*b.m+e.j*b.s+e.m*b.B;var l=e.o*b.A+e.v*b.o+e.s*b.u;var m=e.o*b.j+e.v*b.v+e.s*b.l;var n=e.o*b.m+e.v*b.s+e.s*b.B;var q=e.u*b.A+e.l*b.o+e.B*b.u;var p=e.u*b.j+e.l*b.v+e.B*b.l;var r=e.u*b.m+
e.l*b.s+e.B*b.B;d.A=h;d.j=k;d.m=g;d.o=l;d.v=m;d.s=n;d.u=q;d.l=p;d.B=r;h=e.A*b.F+e.j*b.G+e.m*b.H;k=e.o*b.F+e.v*b.G+e.s*b.H;b=e.u*b.F+e.l*b.G+e.B*b.H;d.F=h;d.G=k;d.H=b;d.F+=e.F;d.G+=e.G;d.H+=e.H;e=a.g;d=a.ra;b=f.A*d.A+f.j*d.o+f.m*d.u;h=f.A*d.j+f.j*d.v+f.m*d.l;k=f.A*d.m+f.j*d.s+f.m*d.B;g=f.o*d.A+f.v*d.o+f.s*d.u;l=f.o*d.j+f.v*d.v+f.s*d.l;m=f.o*d.m+f.v*d.s+f.s*d.B;n=f.u*d.A+f.l*d.o+f.B*d.u;q=f.u*d.j+f.l*d.v+f.B*d.l;p=f.u*d.m+f.l*d.s+f.B*d.B;e.A=b;e.j=h;e.m=k;e.o=g;e.v=l;e.s=m;e.u=n;e.l=q;e.B=p;b=f.A*d.F+
f.j*d.G+f.m*d.H;h=f.o*d.F+f.v*d.G+f.s*d.H;d=f.u*d.F+f.l*d.G+f.B*d.H;e.F=b;e.G=h;e.H=d;e.F+=f.F;e.G+=f.G;e.H+=f.H;a.Tb.Yb(a.D,a.za);f=a.D.wa;e=a.D.xa;d=a.D.ya;b=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Yb(a.D,a.g);a.D.wa=f<a.D.wa?f:a.D.wa;a.D.xa=e<a.D.xa?e:a.D.xa;a.D.ya=d<a.D.ya?d:a.D.ya;a.D.ta=b>a.D.ta?b:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Eb&&(f=a.g.F-a.za.F,e=a.g.G-a.za.G,d=a.g.H-a.za.H,b=a.qc,b.x=f,b.y=e,b.z=d,a.hc.pc.nc.fd(a.Eb,a.D,a.qc));a=c}this.Ob=!1;this.Kb=0};J.prototype.Ed=
function(a){var b=a.e00;var e=a.e01;var d=a.e02;var c=a.e10;var f=a.e11;var h=a.e12;var k=a.e20;var g=a.e21;var l=a.e22;a=b*this.g.A+e*this.g.o+d*this.g.u;var m=b*this.g.j+e*this.g.v+d*this.g.l;b=b*this.g.m+e*this.g.s+d*this.g.B;e=c*this.g.A+f*this.g.o+h*this.g.u;d=c*this.g.j+f*this.g.v+h*this.g.l;c=c*this.g.m+f*this.g.s+h*this.g.B;f=k*this.g.A+g*this.g.o+l*this.g.u;h=k*this.g.j+g*this.g.v+l*this.g.l;k=k*this.g.m+g*this.g.s+l*this.g.B;this.g.A=a;this.g.j=m;this.g.m=b;this.g.o=e;this.g.v=d;this.g.s=
c;this.g.u=f;this.g.l=h;this.g.B=k;k=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;g=this.g.A*this.cb+this.g.j*this.gb+this.g.m*this.jb;a=this.g.A*this.eb+this.g.j*this.hb+this.g.m*this.kb;m=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;l=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;c=this.g.o*this.eb+this.g.v*this.hb+this.g.s*this.kb;f=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;h=this.g.u*this.cb+this.g.l*this.gb+this.g.B*this.jb;b=this.g.u*this.eb+this.g.l*this.hb+this.g.B*
this.kb;this.ba=k;this.ca=g;this.da=a;this.ea=m;this.fa=l;this.ga=c;this.ha=f;this.ia=h;this.ja=b;k=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;g=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;a=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;m=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;l=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;c=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;f=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;h=this.ha*this.g.o+this.ia*this.g.v+
this.ja*this.g.s;b=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=k;this.ca=g;this.da=a;this.ea=m;this.fa=l;this.ga=c;this.ha=f;this.ia=h;this.ja=b;this.ba*=this.X.x;this.ca*=this.X.x;this.da*=this.X.x;this.ea*=this.X.y;this.fa*=this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z;k=this.za;g=this.g;k.F=g.F;k.G=g.G;k.H=g.H;k.A=g.A;k.j=g.j;k.m=g.m;k.o=g.o;k.v=g.v;k.s=g.s;k.u=g.u;k.l=g.l;k.B=g.B;for(k=this.vc;null!=k;){g=k.U;m=this.za;a=this.g;l=k.za;c=k.ra;f=
m.A*c.A+m.j*c.o+m.m*c.u;h=m.A*c.j+m.j*c.v+m.m*c.l;b=m.A*c.m+m.j*c.s+m.m*c.B;e=m.o*c.A+m.v*c.o+m.s*c.u;d=m.o*c.j+m.v*c.v+m.s*c.l;var n=m.o*c.m+m.v*c.s+m.s*c.B;var q=m.u*c.A+m.l*c.o+m.B*c.u;var p=m.u*c.j+m.l*c.v+m.B*c.l;var r=m.u*c.m+m.l*c.s+m.B*c.B;l.A=f;l.j=h;l.m=b;l.o=e;l.v=d;l.s=n;l.u=q;l.l=p;l.B=r;f=m.A*c.F+m.j*c.G+m.m*c.H;h=m.o*c.F+m.v*c.G+m.s*c.H;c=m.u*c.F+m.l*c.G+m.B*c.H;l.F=f;l.G=h;l.H=c;l.F+=m.F;l.G+=m.G;l.H+=m.H;m=k.g;l=k.ra;c=a.A*l.A+a.j*l.o+a.m*l.u;f=a.A*l.j+a.j*l.v+a.m*l.l;h=a.A*l.m+a.j*
l.s+a.m*l.B;b=a.o*l.A+a.v*l.o+a.s*l.u;e=a.o*l.j+a.v*l.v+a.s*l.l;d=a.o*l.m+a.v*l.s+a.s*l.B;n=a.u*l.A+a.l*l.o+a.B*l.u;q=a.u*l.j+a.l*l.v+a.B*l.l;p=a.u*l.m+a.l*l.s+a.B*l.B;m.A=c;m.j=f;m.m=h;m.o=b;m.v=e;m.s=d;m.u=n;m.l=q;m.B=p;c=a.A*l.F+a.j*l.G+a.m*l.H;f=a.o*l.F+a.v*l.G+a.s*l.H;l=a.u*l.F+a.l*l.G+a.B*l.H;m.F=c;m.G=f;m.H=l;m.F+=a.F;m.G+=a.G;m.H+=a.H;k.Tb.Yb(k.D,k.za);a=k.D.wa;m=k.D.xa;l=k.D.ya;c=k.D.ta;f=k.D.ua;h=k.D.va;k.Tb.Yb(k.D,k.g);k.D.wa=a<k.D.wa?a:k.D.wa;k.D.xa=m<k.D.xa?m:k.D.xa;k.D.ya=l<k.D.ya?l:
k.D.ya;k.D.ta=c>k.D.ta?c:k.D.ta;k.D.ua=f>k.D.ua?f:k.D.ua;k.D.va=h>k.D.va?h:k.D.va;null!=k.Eb&&(a=k.g.F-k.za.F,m=k.g.G-k.za.G,l=k.g.H-k.za.H,c=k.qc,c.x=a,c.y=m,c.z=l,k.hc.pc.nc.fd(k.Eb,k.D,k.qc));k=g}this.Ob=!1;this.Kb=0};J.prototype.ce=function(a){var b=a.x;var e=a.y;a=a.z;var d=Math.sin(b);var c=Math.sin(e),f=Math.sin(a),h=Math.cos(b);var k=Math.cos(e);var g=Math.cos(a);var l=k*g;var m=-k*f;a=h*f+g*d*c;b=h*g-d*c*f;var n=-k*d;e=d*f-h*g*c;d=g*d+h*c*f;k*=h;f=l*this.g.A+m*this.g.o+c*this.g.u;h=l*this.g.j+
m*this.g.v+c*this.g.l;c=l*this.g.m+m*this.g.s+c*this.g.B;l=a*this.g.A+b*this.g.o+n*this.g.u;m=a*this.g.j+b*this.g.v+n*this.g.l;a=a*this.g.m+b*this.g.s+n*this.g.B;b=e*this.g.A+d*this.g.o+k*this.g.u;n=e*this.g.j+d*this.g.v+k*this.g.l;e=e*this.g.m+d*this.g.s+k*this.g.B;this.g.A=f;this.g.j=h;this.g.m=c;this.g.o=l;this.g.v=m;this.g.s=a;this.g.u=b;this.g.l=n;this.g.B=e;e=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;a=this.g.A*this.cb+this.g.j*this.gb+this.g.m*this.jb;b=this.g.A*this.eb+this.g.j*this.hb+
this.g.m*this.kb;n=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;d=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;c=this.g.o*this.eb+this.g.v*this.hb+this.g.s*this.kb;f=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;h=this.g.u*this.cb+this.g.l*this.gb+this.g.B*this.jb;k=this.g.u*this.eb+this.g.l*this.hb+this.g.B*this.kb;this.ba=e;this.ca=a;this.da=b;this.ea=n;this.fa=d;this.ga=c;this.ha=f;this.ia=h;this.ja=k;e=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;a=this.ba*this.g.o+this.ca*
this.g.v+this.da*this.g.s;b=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;n=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;d=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;c=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;f=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;h=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;k=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=e;this.ca=a;this.da=b;this.ea=n;this.fa=d;this.ga=c;this.ha=f;this.ia=h;this.ja=k;this.ba*=this.X.x;
this.ca*=this.X.x;this.da*=this.X.x;this.ea*=this.X.y;this.fa*=this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z;e=this.za;a=this.g;e.F=a.F;e.G=a.G;e.H=a.H;e.A=a.A;e.j=a.j;e.m=a.m;e.o=a.o;e.v=a.v;e.s=a.s;e.u=a.u;e.l=a.l;e.B=a.B;for(e=this.vc;null!=e;){a=e.U;n=this.za;b=this.g;d=e.za;c=e.ra;f=n.A*c.A+n.j*c.o+n.m*c.u;h=n.A*c.j+n.j*c.v+n.m*c.l;k=n.A*c.m+n.j*c.s+n.m*c.B;l=n.o*c.A+n.v*c.o+n.s*c.u;m=n.o*c.j+n.v*c.v+n.s*c.l;g=n.o*c.m+n.v*c.s+n.s*c.B;var q=n.u*c.A+n.l*c.o+n.B*
c.u;var p=n.u*c.j+n.l*c.v+n.B*c.l;var r=n.u*c.m+n.l*c.s+n.B*c.B;d.A=f;d.j=h;d.m=k;d.o=l;d.v=m;d.s=g;d.u=q;d.l=p;d.B=r;f=n.A*c.F+n.j*c.G+n.m*c.H;h=n.o*c.F+n.v*c.G+n.s*c.H;c=n.u*c.F+n.l*c.G+n.B*c.H;d.F=f;d.G=h;d.H=c;d.F+=n.F;d.G+=n.G;d.H+=n.H;n=e.g;d=e.ra;c=b.A*d.A+b.j*d.o+b.m*d.u;f=b.A*d.j+b.j*d.v+b.m*d.l;h=b.A*d.m+b.j*d.s+b.m*d.B;k=b.o*d.A+b.v*d.o+b.s*d.u;l=b.o*d.j+b.v*d.v+b.s*d.l;m=b.o*d.m+b.v*d.s+b.s*d.B;g=b.u*d.A+b.l*d.o+b.B*d.u;q=b.u*d.j+b.l*d.v+b.B*d.l;p=b.u*d.m+b.l*d.s+b.B*d.B;n.A=c;n.j=f;n.m=
h;n.o=k;n.v=l;n.s=m;n.u=g;n.l=q;n.B=p;c=b.A*d.F+b.j*d.G+b.m*d.H;f=b.o*d.F+b.v*d.G+b.s*d.H;d=b.u*d.F+b.l*d.G+b.B*d.H;n.F=c;n.G=f;n.H=d;n.F+=b.F;n.G+=b.G;n.H+=b.H;e.Tb.Yb(e.D,e.za);b=e.D.wa;n=e.D.xa;d=e.D.ya;c=e.D.ta;f=e.D.ua;h=e.D.va;e.Tb.Yb(e.D,e.g);e.D.wa=b<e.D.wa?b:e.D.wa;e.D.xa=n<e.D.xa?n:e.D.xa;e.D.ya=d<e.D.ya?d:e.D.ya;e.D.ta=c>e.D.ta?c:e.D.ta;e.D.ua=f>e.D.ua?f:e.D.ua;e.D.va=h>e.D.va?h:e.D.va;null!=e.Eb&&(b=e.g.F-e.za.F,n=e.g.G-e.za.G,d=e.g.H-e.za.H,c=e.qc,c.x=b,c.y=n,c.z=d,e.hc.pc.nc.fd(e.Eb,
e.D,e.qc));e=a}this.Ob=!1;this.Kb=0};J.prototype.Sb=function(){var a=new Gb;var b=this.g.A;var e=this.g.v;var d=this.g.B;var c=b+e+d;if(0<c){var f=Math.sqrt(c+1);c=.5*f;f=.5/f;b=(this.g.l-this.g.s)*f;e=(this.g.m-this.g.u)*f;d=(this.g.o-this.g.j)*f}else b>e?b>d?(f=Math.sqrt(b-e-d+1),b=.5*f,f=.5/f,e=(this.g.j+this.g.o)*f,d=(this.g.m+this.g.u)*f,c=(this.g.l-this.g.s)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.g.m+this.g.u)*f,e=(this.g.s+this.g.l)*f,c=(this.g.o-this.g.j)*f):e>d?(f=Math.sqrt(e-d-b+
1),e=.5*f,f=.5/f,b=(this.g.j+this.g.o)*f,d=(this.g.s+this.g.l)*f,c=(this.g.m-this.g.u)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.g.m+this.g.u)*f,e=(this.g.s+this.g.l)*f,c=(this.g.o-this.g.j)*f);a.x=b;a.y=e;a.z=d;a.w=c;return a};J.prototype.Wb=function(a){var b=this.g.A;var e=this.g.v;var d=this.g.B;var c=b+e+d;if(0<c){var f=Math.sqrt(c+1);c=.5*f;f=.5/f;b=(this.g.l-this.g.s)*f;e=(this.g.m-this.g.u)*f;d=(this.g.o-this.g.j)*f}else b>e?b>d?(f=Math.sqrt(b-e-d+1),b=.5*f,f=.5/f,e=(this.g.j+this.g.o)*
f,d=(this.g.m+this.g.u)*f,c=(this.g.l-this.g.s)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.g.m+this.g.u)*f,e=(this.g.s+this.g.l)*f,c=(this.g.o-this.g.j)*f):e>d?(f=Math.sqrt(e-d-b+1),e=.5*f,f=.5/f,b=(this.g.j+this.g.o)*f,d=(this.g.s+this.g.l)*f,c=(this.g.m-this.g.u)*f):(f=Math.sqrt(d-b-e+1),d=.5*f,f=.5/f,b=(this.g.m+this.g.u)*f,e=(this.g.s+this.g.l)*f,c=(this.g.o-this.g.j)*f);a.x=b;a.y=e;a.z=d;a.w=c};J.prototype.je=function(a){var b=a.x;var e=a.y;var d=a.z;var c=a.w,f=2*b,h=2*e,k=2*d;a=b*f;var g=
e*h;d*=k;var l=b*h;e*=k;b*=k;f*=c;h*=c;c*=k;this.g.A=1-g-d;this.g.j=l-c;this.g.m=b+h;this.g.o=l+c;this.g.v=1-a-d;this.g.s=e-f;this.g.u=b-h;this.g.l=e+f;this.g.B=1-a-g;a=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;g=this.g.A*this.cb+this.g.j*this.gb+this.g.m*this.jb;c=this.g.A*this.eb+this.g.j*this.hb+this.g.m*this.kb;k=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;d=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;l=this.g.o*this.eb+this.g.v*this.hb+this.g.s*this.kb;h=this.g.u*this.bb+
this.g.l*this.fb+this.g.B*this.ib;e=this.g.u*this.cb+this.g.l*this.gb+this.g.B*this.jb;b=this.g.u*this.eb+this.g.l*this.hb+this.g.B*this.kb;this.ba=a;this.ca=g;this.da=c;this.ea=k;this.fa=d;this.ga=l;this.ha=h;this.ia=e;this.ja=b;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;g=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;c=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;k=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;d=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;l=this.ea*
this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;e=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;b=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=g;this.da=c;this.ea=k;this.fa=d;this.ga=l;this.ha=h;this.ia=e;this.ja=b;this.ba*=this.X.x;this.ca*=this.X.x;this.da*=this.X.x;this.ea*=this.X.y;this.fa*=this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z;a=this.za;g=this.g;a.F=g.F;a.G=g.G;a.H=g.H;a.A=
g.A;a.j=g.j;a.m=g.m;a.o=g.o;a.v=g.v;a.s=g.s;a.u=g.u;a.l=g.l;a.B=g.B;for(a=this.vc;null!=a;){g=a.U;k=this.za;c=this.g;d=a.za;l=a.ra;h=k.A*l.A+k.j*l.o+k.m*l.u;e=k.A*l.j+k.j*l.v+k.m*l.l;b=k.A*l.m+k.j*l.s+k.m*l.B;f=k.o*l.A+k.v*l.o+k.s*l.u;var m=k.o*l.j+k.v*l.v+k.s*l.l;var n=k.o*l.m+k.v*l.s+k.s*l.B;var q=k.u*l.A+k.l*l.o+k.B*l.u;var p=k.u*l.j+k.l*l.v+k.B*l.l;var r=k.u*l.m+k.l*l.s+k.B*l.B;d.A=h;d.j=e;d.m=b;d.o=f;d.v=m;d.s=n;d.u=q;d.l=p;d.B=r;h=k.A*l.F+k.j*l.G+k.m*l.H;e=k.o*l.F+k.v*l.G+k.s*l.H;l=k.u*l.F+
k.l*l.G+k.B*l.H;d.F=h;d.G=e;d.H=l;d.F+=k.F;d.G+=k.G;d.H+=k.H;k=a.g;d=a.ra;l=c.A*d.A+c.j*d.o+c.m*d.u;h=c.A*d.j+c.j*d.v+c.m*d.l;e=c.A*d.m+c.j*d.s+c.m*d.B;b=c.o*d.A+c.v*d.o+c.s*d.u;f=c.o*d.j+c.v*d.v+c.s*d.l;m=c.o*d.m+c.v*d.s+c.s*d.B;n=c.u*d.A+c.l*d.o+c.B*d.u;q=c.u*d.j+c.l*d.v+c.B*d.l;p=c.u*d.m+c.l*d.s+c.B*d.B;k.A=l;k.j=h;k.m=e;k.o=b;k.v=f;k.s=m;k.u=n;k.l=q;k.B=p;l=c.A*d.F+c.j*d.G+c.m*d.H;h=c.o*d.F+c.v*d.G+c.s*d.H;d=c.u*d.F+c.l*d.G+c.B*d.H;k.F=l;k.G=h;k.H=d;k.F+=c.F;k.G+=c.G;k.H+=c.H;a.Tb.Yb(a.D,a.za);
c=a.D.wa;k=a.D.xa;d=a.D.ya;l=a.D.ta;h=a.D.ua;e=a.D.va;a.Tb.Yb(a.D,a.g);a.D.wa=c<a.D.wa?c:a.D.wa;a.D.xa=k<a.D.xa?k:a.D.xa;a.D.ya=d<a.D.ya?d:a.D.ya;a.D.ta=l>a.D.ta?l:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=e>a.D.va?e:a.D.va;null!=a.Eb&&(c=a.g.F-a.za.F,k=a.g.G-a.za.G,d=a.g.H-a.za.H,l=a.qc,l.x=c,l.y=k,l.z=d,a.hc.pc.nc.fd(a.Eb,a.D,a.qc));a=g}this.Ob=!1;this.Kb=0};J.prototype.ac=function(){var a=this.g,b=new Ob;b.F=a.F;b.G=a.G;b.H=a.H;b.A=a.A;b.j=a.j;b.m=a.m;b.o=a.o;b.v=a.v;b.s=a.s;b.u=a.u;b.l=a.l;b.B=a.B;
return b};J.prototype.bc=function(a){var b=this.g;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B};J.prototype.sf=function(a){this.g.F=a.F;this.g.G=a.G;this.g.H=a.H;this.g.A=a.A;this.g.j=a.j;this.g.m=a.m;this.g.o=a.o;this.g.v=a.v;this.g.s=a.s;this.g.u=a.u;this.g.l=a.l;this.g.B=a.B;a=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;var b=this.g.A*this.cb+this.g.j*this.gb+this.g.m*this.jb;var e=this.g.A*this.eb+this.g.j*this.hb+this.g.m*this.kb;var d=
this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;var c=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;var f=this.g.o*this.eb+this.g.v*this.hb+this.g.s*this.kb;var h=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;var k=this.g.u*this.cb+this.g.l*this.gb+this.g.B*this.jb;var g=this.g.u*this.eb+this.g.l*this.hb+this.g.B*this.kb;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;b=this.ba*this.g.o+this.ca*
this.g.v+this.da*this.g.s;e=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;d=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;c=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;f=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.X.x;
this.ca*=this.X.x;this.da*=this.X.x;this.ea*=this.X.y;this.fa*=this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z;a=this.za;b=this.g;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B;for(a=this.vc;null!=a;){b=a.U;d=this.za;e=this.g;c=a.za;f=a.ra;h=d.A*f.A+d.j*f.o+d.m*f.u;k=d.A*f.j+d.j*f.v+d.m*f.l;g=d.A*f.m+d.j*f.s+d.m*f.B;var l=d.o*f.A+d.v*f.o+d.s*f.u;var m=d.o*f.j+d.v*f.v+d.s*f.l;var n=d.o*f.m+d.v*f.s+d.s*f.B;var q=d.u*f.A+
d.l*f.o+d.B*f.u;var p=d.u*f.j+d.l*f.v+d.B*f.l;var r=d.u*f.m+d.l*f.s+d.B*f.B;c.A=h;c.j=k;c.m=g;c.o=l;c.v=m;c.s=n;c.u=q;c.l=p;c.B=r;h=d.A*f.F+d.j*f.G+d.m*f.H;k=d.o*f.F+d.v*f.G+d.s*f.H;f=d.u*f.F+d.l*f.G+d.B*f.H;c.F=h;c.G=k;c.H=f;c.F+=d.F;c.G+=d.G;c.H+=d.H;d=a.g;c=a.ra;f=e.A*c.A+e.j*c.o+e.m*c.u;h=e.A*c.j+e.j*c.v+e.m*c.l;k=e.A*c.m+e.j*c.s+e.m*c.B;g=e.o*c.A+e.v*c.o+e.s*c.u;l=e.o*c.j+e.v*c.v+e.s*c.l;m=e.o*c.m+e.v*c.s+e.s*c.B;n=e.u*c.A+e.l*c.o+e.B*c.u;q=e.u*c.j+e.l*c.v+e.B*c.l;p=e.u*c.m+e.l*c.s+e.B*c.B;d.A=
f;d.j=h;d.m=k;d.o=g;d.v=l;d.s=m;d.u=n;d.l=q;d.B=p;f=e.A*c.F+e.j*c.G+e.m*c.H;h=e.o*c.F+e.v*c.G+e.s*c.H;c=e.u*c.F+e.l*c.G+e.B*c.H;d.F=f;d.G=h;d.H=c;d.F+=e.F;d.G+=e.G;d.H+=e.H;a.Tb.Yb(a.D,a.za);e=a.D.wa;d=a.D.xa;c=a.D.ya;f=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Yb(a.D,a.g);a.D.wa=e<a.D.wa?e:a.D.wa;a.D.xa=d<a.D.xa?d:a.D.xa;a.D.ya=c<a.D.ya?c:a.D.ya;a.D.ta=f>a.D.ta?f:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Eb&&(e=a.g.F-a.za.F,d=a.g.G-a.za.G,c=a.g.H-a.za.H,f=a.qc,f.x=e,f.y=d,f.z=c,a.hc.pc.nc.fd(a.Eb,
a.D,a.qc));a=b}this.Ob=!1;this.Kb=0};J.prototype.zh=function(){return this.Ce};J.prototype.We=function(){var a=new ia;a.e00=this.h;a.e01=this.i;a.e02=this.C;a.e10=this.I;a.e11=this.M;a.e12=this.V;a.e20=this.W;a.e21=this.Y;a.e22=this.aa;return a};J.prototype.Xe=function(a){a.e00=this.h;a.e01=this.i;a.e02=this.C;a.e10=this.I;a.e11=this.M;a.e12=this.V;a.e20=this.W;a.e21=this.Y;a.e22=this.aa};J.prototype.Ah=function(){var a=new Vk;a.mass=this.Ce;var b=a.localInertia;b.e00=this.h;b.e01=this.i;b.e02=this.C;
b.e10=this.I;b.e11=this.M;b.e12=this.V;b.e20=this.W;b.e21=this.Y;b.e22=this.aa;return a};J.prototype.Bh=function(a){a.mass=this.Ce;a=a.localInertia;a.e00=this.h;a.e01=this.i;a.e02=this.C;a.e10=this.I;a.e11=this.M;a.e12=this.V;a.e20=this.W;a.e21=this.Y;a.e22=this.aa};J.prototype.ai=function(a){this.Ce=a.mass;a=a.localInertia;this.h=a.e00;this.i=a.e01;this.C=a.e02;this.I=a.e10;this.M=a.e11;this.V=a.e12;this.W=a.e20;this.Y=a.e21;this.aa=a.e22;if(0<this.Ce&&0<this.h*(this.M*this.aa-this.V*this.Y)-this.i*
(this.I*this.aa-this.V*this.W)+this.C*(this.I*this.Y-this.M*this.W)&&0==this.Xb){this.Ab=1/this.Ce;a=this.M*this.aa-this.V*this.Y;var b=this.I*this.aa-this.V*this.W,e=this.I*this.Y-this.M*this.W,d=this.h*a-this.i*b+this.C*e;if(-1E-32>d||1E-32<d)d=1/d;this.bb=a*d;this.cb=-(this.i*this.aa-this.C*this.Y)*d;this.eb=(this.i*this.V-this.C*this.M)*d;this.fb=-b*d;this.gb=(this.h*this.aa-this.C*this.W)*d;this.hb=-(this.h*this.V-this.C*this.I)*d;this.ib=e*d;this.jb=-(this.h*this.Y-this.i*this.W)*d;this.kb=
(this.h*this.M-this.i*this.I)*d;this.qa=this.bb;this.Ma=this.cb;this.Oa=this.eb;this.Sa=this.fb;this.Wa=this.gb;this.Ya=this.hb;this.nb=this.ib;this.ob=this.jb;this.Ib=this.kb;this.bb=this.qa*this.X.x;this.cb=this.Ma*this.X.x;this.eb=this.Oa*this.X.x;this.fb=this.Sa*this.X.y;this.gb=this.Wa*this.X.y;this.hb=this.Ya*this.X.y;this.ib=this.nb*this.X.z;this.jb=this.ob*this.X.z;this.kb=this.Ib*this.X.z}else this.Ib=this.ob=this.nb=this.Ya=this.Wa=this.Sa=this.Oa=this.Ma=this.qa=this.kb=this.jb=this.ib=
this.hb=this.gb=this.fb=this.eb=this.cb=this.bb=this.Ab=0,0==this.Xb&&(this.Xb=1);a=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;b=this.g.A*this.cb+this.g.j*this.gb+this.g.m*this.jb;e=this.g.A*this.eb+this.g.j*this.hb+this.g.m*this.kb;d=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;var c=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;var f=this.g.o*this.eb+this.g.v*this.hb+this.g.s*this.kb;var h=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;var k=this.g.u*this.cb+this.g.l*this.gb+
this.g.B*this.jb;var g=this.g.u*this.eb+this.g.l*this.hb+this.g.B*this.kb;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;b=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;e=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;d=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;c=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;f=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+
this.ia*this.g.j+this.ja*this.g.m;k=this.ha*this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.X.x;this.ca*=this.X.x;this.da*=this.X.x;this.ea*=this.X.y;this.fa*=this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z;this.Ob=!1;this.Kb=0};J.prototype.sg=function(){var a=this.X;return new z(a.x,a.y,a.z)};J.prototype.bi=function(a){var b=
this.X;b.x=a.x;b.y=a.y;b.z=a.z;a=this.g.A*this.bb+this.g.j*this.fb+this.g.m*this.ib;b=this.g.A*this.cb+this.g.j*this.gb+this.g.m*this.jb;var e=this.g.A*this.eb+this.g.j*this.hb+this.g.m*this.kb;var d=this.g.o*this.bb+this.g.v*this.fb+this.g.s*this.ib;var c=this.g.o*this.cb+this.g.v*this.gb+this.g.s*this.jb;var f=this.g.o*this.eb+this.g.v*this.hb+this.g.s*this.kb;var h=this.g.u*this.bb+this.g.l*this.fb+this.g.B*this.ib;var k=this.g.u*this.cb+this.g.l*this.gb+this.g.B*this.jb;var g=this.g.u*this.eb+
this.g.l*this.hb+this.g.B*this.kb;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;a=this.ba*this.g.A+this.ca*this.g.j+this.da*this.g.m;b=this.ba*this.g.o+this.ca*this.g.v+this.da*this.g.s;e=this.ba*this.g.u+this.ca*this.g.l+this.da*this.g.B;d=this.ea*this.g.A+this.fa*this.g.j+this.ga*this.g.m;c=this.ea*this.g.o+this.fa*this.g.v+this.ga*this.g.s;f=this.ea*this.g.u+this.fa*this.g.l+this.ga*this.g.B;h=this.ha*this.g.A+this.ia*this.g.j+this.ja*this.g.m;k=this.ha*
this.g.o+this.ia*this.g.v+this.ja*this.g.s;g=this.ha*this.g.u+this.ia*this.g.l+this.ja*this.g.B;this.ba=a;this.ca=b;this.da=e;this.ea=d;this.fa=c;this.ga=f;this.ha=h;this.ia=k;this.ja=g;this.ba*=this.X.x;this.ca*=this.X.x;this.da*=this.X.x;this.ea*=this.X.y;this.fa*=this.X.y;this.ga*=this.X.y;this.ha*=this.X.z;this.ia*=this.X.z;this.ja*=this.X.z;this.Ob=!1;this.Kb=0};J.prototype.Qd=function(){var a=new z;a.x=this.ub;a.y=this.vb;a.z=this.wb;return a};J.prototype.Rd=function(a){a.x=this.ub;a.y=this.vb;
a.z=this.wb};J.prototype.$h=function(a){1==this.Xb?this.wb=this.vb=this.ub=0:(this.ub=a.x,this.vb=a.y,this.wb=a.z);this.Ob=!1;this.Kb=0};J.prototype.jd=function(){var a=new z;a.x=this.xb;a.y=this.yb;a.z=this.zb;return a};J.prototype.wd=function(a){a.x=this.ub;a.y=this.vb;a.z=this.wb};J.prototype.Mh=function(a){1==this.Xb?this.zb=this.yb=this.xb=0:(this.xb=a.x,this.yb=a.y,this.zb=a.z);this.Ob=!1;this.Kb=0};J.prototype.vf=function(a){if(1!=this.Xb){var b=a.x;var e=a.y;a=a.z;this.ub+=b;this.vb+=e;this.wb+=
a}this.Ob=!1;this.Kb=0};J.prototype.uf=function(a){if(1!=this.Xb){var b=a.x;var e=a.y;a=a.z;this.xb+=b;this.yb+=e;this.zb+=a}this.Ob=!1;this.Kb=0};J.prototype.vd=function(a,b){var e=a.x;var d=a.y;a=a.z;this.ub+=e*this.Ab;this.vb+=d*this.Ab;this.wb+=a*this.Ab;var c=b.x;var f=b.y;var h=b.z;c-=this.g.F;f-=this.g.G;h-=this.g.H;b=f*a-h*d;a=h*e-c*a;c=c*d-f*e;e=this.ba*b+this.ca*a+this.da*c;d=this.ea*b+this.fa*a+this.ga*c;b=this.ha*b+this.ia*a+this.ja*c;this.xb+=e;this.yb+=d;this.zb+=b;this.Ob=!1;this.Kb=
0};J.prototype.Af=function(a){var b=a.x;var e=a.y;a=a.z;this.ub+=b*this.Ab;this.vb+=e*this.Ab;this.wb+=a*this.Ab;this.Ob=!1;this.Kb=0};J.prototype.yf=function(a){var b=a.x;var e=a.y;var d=a.z;a=this.ba*b+this.ca*e+this.da*d;var c=this.ea*b+this.fa*e+this.ga*d;b=this.ha*b+this.ia*e+this.ja*d;this.xb+=a;this.yb+=c;this.zb+=b;this.Ob=!1;this.Kb=0};J.prototype.zf=function(a,b){var e=a.x;var d=a.y;a=a.z;this.Zf+=e;this.$f+=d;this.ag+=a;var c=b.x;var f=b.y;b=b.z;c-=this.g.F;f-=this.g.G;b-=this.g.H;this.De+=
f*a-b*d;this.Ee+=b*e-c*a;this.Fe+=c*d-f*e;this.Ob=!1;this.Kb=0};J.prototype.tc=function(a){var b=a.x;var e=a.y;a=a.z;this.Zf+=b;this.$f+=e;this.ag+=a;this.Ob=!1;this.Kb=0};J.prototype.yc=function(a){var b=a.x;var e=a.y;a=a.z;this.De+=b;this.Ee+=e;this.Fe+=a;this.Ob=!1;this.Kb=0};J.prototype.$d=function(){var a=new z;a.x=this.If;a.y=this.Jf;a.z=this.Kf;return a};J.prototype.ae=function(a){a.x=this.If;a.y=this.Jf;a.z=this.Kf};J.prototype.gd=function(){var a=new z;a.x=this.Ef;a.y=this.Ff;a.z=this.Gf;
return a};J.prototype.hd=function(a){a.x=this.Ef;a.y=this.Ff;a.z=this.Gf};J.prototype.xi=function(){return this.Hf};J.prototype.ug=function(a){this.Hf=a;this.Ob=!1;this.Kb=0};J.prototype.Ye=function(a){var b=a.x;var e=a.y;a=a.z;b-=this.g.F;e-=this.g.G;a-=this.g.H;var d=this.g.A*b+this.g.o*e+this.g.u*a;var c=this.g.j*b+this.g.v*e+this.g.l*a;a=this.g.m*b+this.g.s*e+this.g.B*a;b=d;e=c;d=new z;d.x=b;d.y=e;d.z=a;return d};J.prototype.wh=function(a,b){var e=a.x;var d=a.y;var c=a.z;e-=this.g.F;d-=this.g.G;
c-=this.g.H;a=this.g.A*e+this.g.o*d+this.g.u*c;var f=this.g.j*e+this.g.v*d+this.g.l*c;e=this.g.m*e+this.g.s*d+this.g.B*c;b.x=a;b.y=f;b.z=e};J.prototype.xh=function(a){var b=a.x;var e=a.y;a=a.z;var d=this.g.A*b+this.g.o*e+this.g.u*a;var c=this.g.j*b+this.g.v*e+this.g.l*a;a=this.g.m*b+this.g.s*e+this.g.B*a;b=d;e=c;d=new z;d.x=b;d.y=e;d.z=a;return d};J.prototype.yh=function(a,b){var e=a.x;var d=a.y;var c=a.z;a=this.g.A*e+this.g.o*d+this.g.u*c;var f=this.g.j*e+this.g.v*d+this.g.l*c;e=this.g.m*e+this.g.s*
d+this.g.B*c;b.x=a;b.y=f;b.z=e};J.prototype.Fh=function(a){var b=a.x;var e=a.y;a=a.z;var d=this.g.A*b+this.g.j*e+this.g.m*a;var c=this.g.o*b+this.g.v*e+this.g.s*a;a=this.g.u*b+this.g.l*e+this.g.B*a;b=d+this.g.F;e=c+this.g.G;a+=this.g.H;d=new z;d.x=b;d.y=e;d.z=a;return d};J.prototype.Gh=function(a,b){var e=a.x;var d=a.y;var c=a.z;a=this.g.A*e+this.g.j*d+this.g.m*c;var f=this.g.o*e+this.g.v*d+this.g.s*c;c=this.g.u*e+this.g.l*d+this.g.B*c;e=a+this.g.F;d=f+this.g.G;c+=this.g.H;b.x=e;b.y=d;b.z=c};J.prototype.Hh=
function(a){var b=a.x;var e=a.y;a=a.z;var d=this.g.A*b+this.g.j*e+this.g.m*a;var c=this.g.o*b+this.g.v*e+this.g.s*a;a=this.g.u*b+this.g.l*e+this.g.B*a;b=d;e=c;d=new z;d.x=b;d.y=e;d.z=a;return d};J.prototype.Ih=function(a,b){var e=a.x;var d=a.y;var c=a.z;a=this.g.A*e+this.g.j*d+this.g.m*c;var f=this.g.o*e+this.g.v*d+this.g.s*c;e=this.g.u*e+this.g.l*d+this.g.B*c;b.x=a;b.y=f;b.z=e};J.prototype.Rb=function(){return this.nf};J.prototype.Dh=function(){return this.vc};J.prototype.Ch=function(){return this.Pd};
J.prototype.Vg=function(){return this.Zb};J.prototype.Ze=function(){return this.Mf};J.prototype.yi=function(){return this.Od};J.prototype.wf=function(a){null==this.vc?this.vc=a:(this.Jb.U=a,a.sa=this.Jb);this.Jb=a;this.nf++;a.hc=this;if(null!=this.pc){var b=this.pc;a.Eb=b.nc.eg(a,a.D);a.uc=b.Ci++;b.nf++}this.Wg();for(a=this.vc;null!=a;){b=a.U;var e=this.za,d=this.g,c=a.za,f=a.ra;var h=e.A*f.A+e.j*f.o+e.m*f.u;var k=e.A*f.j+e.j*f.v+e.m*f.l;var g=e.A*f.m+e.j*f.s+e.m*f.B;var l=e.o*f.A+e.v*f.o+e.s*f.u;
var m=e.o*f.j+e.v*f.v+e.s*f.l;var n=e.o*f.m+e.v*f.s+e.s*f.B;var q=e.u*f.A+e.l*f.o+e.B*f.u;var p=e.u*f.j+e.l*f.v+e.B*f.l;var r=e.u*f.m+e.l*f.s+e.B*f.B;c.A=h;c.j=k;c.m=g;c.o=l;c.v=m;c.s=n;c.u=q;c.l=p;c.B=r;h=e.A*f.F+e.j*f.G+e.m*f.H;k=e.o*f.F+e.v*f.G+e.s*f.H;f=e.u*f.F+e.l*f.G+e.B*f.H;c.F=h;c.G=k;c.H=f;c.F+=e.F;c.G+=e.G;c.H+=e.H;e=a.g;c=a.ra;f=d.A*c.A+d.j*c.o+d.m*c.u;h=d.A*c.j+d.j*c.v+d.m*c.l;k=d.A*c.m+d.j*c.s+d.m*c.B;g=d.o*c.A+d.v*c.o+d.s*c.u;l=d.o*c.j+d.v*c.v+d.s*c.l;m=d.o*c.m+d.v*c.s+d.s*c.B;n=d.u*
c.A+d.l*c.o+d.B*c.u;q=d.u*c.j+d.l*c.v+d.B*c.l;p=d.u*c.m+d.l*c.s+d.B*c.B;e.A=f;e.j=h;e.m=k;e.o=g;e.v=l;e.s=m;e.u=n;e.l=q;e.B=p;f=d.A*c.F+d.j*c.G+d.m*c.H;h=d.o*c.F+d.v*c.G+d.s*c.H;c=d.u*c.F+d.l*c.G+d.B*c.H;e.F=f;e.G=h;e.H=c;e.F+=d.F;e.G+=d.G;e.H+=d.H;a.Tb.Yb(a.D,a.za);d=a.D.wa;e=a.D.xa;c=a.D.ya;f=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Yb(a.D,a.g);a.D.wa=d<a.D.wa?d:a.D.wa;a.D.xa=e<a.D.xa?e:a.D.xa;a.D.ya=c<a.D.ya?c:a.D.ya;a.D.ta=f>a.D.ta?f:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Eb&&(d=
a.g.F-a.za.F,e=a.g.G-a.za.G,c=a.g.H-a.za.H,f=a.qc,f.x=d,f.y=e,f.z=c,a.hc.pc.nc.fd(a.Eb,a.D,a.qc));a=b}};J.prototype.Kh=function(a){var b=a.sa,e=a.U;null!=b&&(b.U=e);null!=e&&(e.sa=b);a==this.vc&&(this.vc=this.vc.U);a==this.Jb&&(this.Jb=this.Jb.sa);a.U=null;a.sa=null;this.nf--;a.hc=null;if(null!=this.pc){b=this.pc;b.nc.fg(a.Eb);a.Eb=null;a.uc=-1;for(var d=a.hc.Zb;null!=d;){e=d.U;var c=d.zd;if(c.ic==a||c.jc==a){d=d.Fc;d.Ob=!1;d.Kb=0;d=b.Xf;var f=c.sa,h=c.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c==d.md&&
(d.md=d.md.U);c==d.Nd&&(d.Nd=d.Nd.sa);c.U=null;c.sa=null;c.xd&&(f=c.ic.ld,h=c.jc.ld,f==h&&(h=null),null!=f&&f.endContact(c),null!=h&&h.endContact(c));f=c.Bb.sa;h=c.Bb.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c.Bb==c.J.Zb&&(c.J.Zb=c.J.Zb.U);c.Bb==c.J.oc&&(c.J.oc=c.J.oc.sa);c.Bb.U=null;c.Bb.sa=null;f=c.Cb.sa;h=c.Cb.U;null!=f&&(f.U=h);null!=h&&(h.sa=f);c.Cb==c.K.Zb&&(c.K.Zb=c.K.Zb.U);c.Cb==c.K.oc&&(c.K.oc=c.K.oc.sa);c.Cb.U=null;c.Cb.sa=null;c.J.Pd--;c.K.Pd--;c.Bb.Fc=null;c.Cb.Fc=null;c.Bb.zd=null;c.Cb.zd=
null;c.ic=null;c.jc=null;c.J=null;c.K=null;c.xd=!1;c.Eg.de();c.Ra.de();c.Yf=null;f=c.ee;f.ic=null;f.jc=null;f.J=null;f.K=null;f.Jg=null;f.Kg=null;c.U=d.$e;d.$e=c;d.pg--}d=e}b.nf--}this.Wg();for(a=this.vc;null!=a;){b=a.U;c=this.za;e=this.g;d=a.za;f=a.ra;h=c.A*f.A+c.j*f.o+c.m*f.u;var k=c.A*f.j+c.j*f.v+c.m*f.l;var g=c.A*f.m+c.j*f.s+c.m*f.B;var l=c.o*f.A+c.v*f.o+c.s*f.u;var m=c.o*f.j+c.v*f.v+c.s*f.l;var n=c.o*f.m+c.v*f.s+c.s*f.B;var q=c.u*f.A+c.l*f.o+c.B*f.u;var p=c.u*f.j+c.l*f.v+c.B*f.l;var r=c.u*f.m+
c.l*f.s+c.B*f.B;d.A=h;d.j=k;d.m=g;d.o=l;d.v=m;d.s=n;d.u=q;d.l=p;d.B=r;h=c.A*f.F+c.j*f.G+c.m*f.H;k=c.o*f.F+c.v*f.G+c.s*f.H;f=c.u*f.F+c.l*f.G+c.B*f.H;d.F=h;d.G=k;d.H=f;d.F+=c.F;d.G+=c.G;d.H+=c.H;c=a.g;d=a.ra;f=e.A*d.A+e.j*d.o+e.m*d.u;h=e.A*d.j+e.j*d.v+e.m*d.l;k=e.A*d.m+e.j*d.s+e.m*d.B;g=e.o*d.A+e.v*d.o+e.s*d.u;l=e.o*d.j+e.v*d.v+e.s*d.l;m=e.o*d.m+e.v*d.s+e.s*d.B;n=e.u*d.A+e.l*d.o+e.B*d.u;q=e.u*d.j+e.l*d.v+e.B*d.l;p=e.u*d.m+e.l*d.s+e.B*d.B;c.A=f;c.j=h;c.m=k;c.o=g;c.v=l;c.s=m;c.u=n;c.l=q;c.B=p;f=e.A*d.F+
e.j*d.G+e.m*d.H;h=e.o*d.F+e.v*d.G+e.s*d.H;d=e.u*d.F+e.l*d.G+e.B*d.H;c.F=f;c.G=h;c.H=d;c.F+=e.F;c.G+=e.G;c.H+=e.H;a.Tb.Yb(a.D,a.za);e=a.D.wa;c=a.D.xa;d=a.D.ya;f=a.D.ta;h=a.D.ua;k=a.D.va;a.Tb.Yb(a.D,a.g);a.D.wa=e<a.D.wa?e:a.D.wa;a.D.xa=c<a.D.xa?c:a.D.xa;a.D.ya=d<a.D.ya?d:a.D.ya;a.D.ta=f>a.D.ta?f:a.D.ta;a.D.ua=h>a.D.ua?h:a.D.ua;a.D.va=k>a.D.va?k:a.D.va;null!=a.Eb&&(e=a.g.F-a.za.F,c=a.g.G-a.za.G,d=a.g.H-a.za.H,f=a.qc,f.x=e,f.y=c,f.z=d,a.hc.pc.nc.fd(a.Eb,a.D,a.qc));a=b}};J.prototype.Sc=function(){return this.Xb};
J.prototype.di=function(a){this.Xb=a;this.Wg()};J.prototype.fi=function(){this.Ob=!1;this.Kb=0};J.prototype.ei=function(){this.Ob=!0;this.Kb=0};J.prototype.Jh=function(){return this.Ob};J.prototype.Eh=function(){return this.Kb};J.prototype.tg=function(a){this.Oh=a;this.Ob=!1;this.Kb=0};J.prototype.be=function(){return this.gh};J.prototype.vh=function(a){this.gh=a};J.prototype.mg=function(){return this.Xg};J.prototype.Lh=function(a){this.Xg=a};J.prototype.tb=function(){return this.sa};J.prototype.Pb=
function(){return this.U};Ab.prototype.Ma=function(){return this.dh};Ab.prototype.Rb=function(a){this.dh=a};Ab.prototype.Ya=function(){return this.kh};Ab.prototype.Wb=function(a){this.kh=a};Ab.prototype.Sa=function(){var a=this.ra,b=new Ob;b.F=a.F;b.G=a.G;b.H=a.H;b.A=a.A;b.j=a.j;b.m=a.m;b.o=a.o;b.v=a.v;b.s=a.s;b.u=a.u;b.l=a.l;b.B=a.B;return b};Ab.prototype.Wa=function(a){var b=this.ra;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B};Ab.prototype.C=function(){var a=
this.g,b=new Ob;b.F=a.F;b.G=a.G;b.H=a.H;b.A=a.A;b.j=a.j;b.m=a.m;b.o=a.o;b.v=a.v;b.s=a.s;b.u=a.u;b.l=a.l;b.B=a.B;return b};Ab.prototype.I=function(a){var b=this.g;a.F=b.F;a.G=b.G;a.H=b.H;a.A=b.A;a.j=b.j;a.m=b.m;a.o=b.o;a.v=b.v;a.s=b.s;a.u=b.u;a.l=b.l;a.B=b.B};Ab.prototype.Sb=function(a){var b=this.ra;b.F=a.F;b.G=a.G;b.H=a.H;b.A=a.A;b.j=a.j;b.m=a.m;b.o=a.o;b.v=a.v;b.s=a.s;b.u=a.u;b.l=a.l;b.B=a.B;if(null!=this.hc)for(a=this.hc,a.Wg(),b=a.vc;null!=b;){var e=b.U,d=a.za,c=a.g,f=b.za,h=b.ra;var k=d.A*h.A+
d.j*h.o+d.m*h.u;var g=d.A*h.j+d.j*h.v+d.m*h.l;var l=d.A*h.m+d.j*h.s+d.m*h.B;var m=d.o*h.A+d.v*h.o+d.s*h.u;var n=d.o*h.j+d.v*h.v+d.s*h.l;var q=d.o*h.m+d.v*h.s+d.s*h.B;var p=d.u*h.A+d.l*h.o+d.B*h.u;var r=d.u*h.j+d.l*h.v+d.B*h.l;var t=d.u*h.m+d.l*h.s+d.B*h.B;f.A=k;f.j=g;f.m=l;f.o=m;f.v=n;f.s=q;f.u=p;f.l=r;f.B=t;k=d.A*h.F+d.j*h.G+d.m*h.H;g=d.o*h.F+d.v*h.G+d.s*h.H;h=d.u*h.F+d.l*h.G+d.B*h.H;f.F=k;f.G=g;f.H=h;f.F+=d.F;f.G+=d.G;f.H+=d.H;d=b.g;f=b.ra;h=c.A*f.A+c.j*f.o+c.m*f.u;k=c.A*f.j+c.j*f.v+c.m*f.l;g=c.A*
f.m+c.j*f.s+c.m*f.B;l=c.o*f.A+c.v*f.o+c.s*f.u;m=c.o*f.j+c.v*f.v+c.s*f.l;n=c.o*f.m+c.v*f.s+c.s*f.B;q=c.u*f.A+c.l*f.o+c.B*f.u;p=c.u*f.j+c.l*f.v+c.B*f.l;r=c.u*f.m+c.l*f.s+c.B*f.B;d.A=h;d.j=k;d.m=g;d.o=l;d.v=m;d.s=n;d.u=q;d.l=p;d.B=r;h=c.A*f.F+c.j*f.G+c.m*f.H;k=c.o*f.F+c.v*f.G+c.s*f.H;f=c.u*f.F+c.l*f.G+c.B*f.H;d.F=h;d.G=k;d.H=f;d.F+=c.F;d.G+=c.G;d.H+=c.H;b.Tb.Yb(b.D,b.za);c=b.D.wa;d=b.D.xa;f=b.D.ya;h=b.D.ta;k=b.D.ua;g=b.D.va;b.Tb.Yb(b.D,b.g);b.D.wa=c<b.D.wa?c:b.D.wa;b.D.xa=d<b.D.xa?d:b.D.xa;b.D.ya=f<
b.D.ya?f:b.D.ya;b.D.ta=h>b.D.ta?h:b.D.ta;b.D.ua=k>b.D.ua?k:b.D.ua;b.D.va=g>b.D.va?g:b.D.va;null!=b.Eb&&(c=b.g.F-b.za.F,d=b.g.G-b.za.G,f=b.g.H-b.za.H,h=b.qc,h.x=c,h.y=d,h.z=f,b.hc.pc.nc.fd(b.Eb,b.D,b.qc));b=e}};Ab.prototype.qa=function(){return this.Qh};Ab.prototype.Pb=function(a){this.Qh=a;if(null!=this.hc){a=this.hc;a.Wg();for(var b=a.vc;null!=b;){var e=b.U,d=a.za,c=a.g,f=b.za,h=b.ra;var k=d.A*h.A+d.j*h.o+d.m*h.u;var g=d.A*h.j+d.j*h.v+d.m*h.l;var l=d.A*h.m+d.j*h.s+d.m*h.B;var m=d.o*h.A+d.v*h.o+d.s*
h.u;var n=d.o*h.j+d.v*h.v+d.s*h.l;var q=d.o*h.m+d.v*h.s+d.s*h.B;var p=d.u*h.A+d.l*h.o+d.B*h.u;var r=d.u*h.j+d.l*h.v+d.B*h.l;var t=d.u*h.m+d.l*h.s+d.B*h.B;f.A=k;f.j=g;f.m=l;f.o=m;f.v=n;f.s=q;f.u=p;f.l=r;f.B=t;k=d.A*h.F+d.j*h.G+d.m*h.H;g=d.o*h.F+d.v*h.G+d.s*h.H;h=d.u*h.F+d.l*h.G+d.B*h.H;f.F=k;f.G=g;f.H=h;f.F+=d.F;f.G+=d.G;f.H+=d.H;d=b.g;f=b.ra;h=c.A*f.A+c.j*f.o+c.m*f.u;k=c.A*f.j+c.j*f.v+c.m*f.l;g=c.A*f.m+c.j*f.s+c.m*f.B;l=c.o*f.A+c.v*f.o+c.s*f.u;m=c.o*f.j+c.v*f.v+c.s*f.l;n=c.o*f.m+c.v*f.s+c.s*f.B;q=
c.u*f.A+c.l*f.o+c.B*f.u;p=c.u*f.j+c.l*f.v+c.B*f.l;r=c.u*f.m+c.l*f.s+c.B*f.B;d.A=h;d.j=k;d.m=g;d.o=l;d.v=m;d.s=n;d.u=q;d.l=p;d.B=r;h=c.A*f.F+c.j*f.G+c.m*f.H;k=c.o*f.F+c.v*f.G+c.s*f.H;f=c.u*f.F+c.l*f.G+c.B*f.H;d.F=h;d.G=k;d.H=f;d.F+=c.F;d.G+=c.G;d.H+=c.H;b.Tb.Yb(b.D,b.za);c=b.D.wa;d=b.D.xa;f=b.D.ya;h=b.D.ta;k=b.D.ua;g=b.D.va;b.Tb.Yb(b.D,b.g);b.D.wa=c<b.D.wa?c:b.D.wa;b.D.xa=d<b.D.xa?d:b.D.xa;b.D.ya=f<b.D.ya?f:b.D.ya;b.D.ta=h>b.D.ta?h:b.D.ta;b.D.ua=k>b.D.ua?k:b.D.ua;b.D.va=g>b.D.va?g:b.D.va;null!=b.Eb&&
(c=b.g.F-b.za.F,d=b.g.G-b.za.G,f=b.g.H-b.za.H,h=b.qc,h.x=c,h.y=d,h.z=f,b.hc.pc.nc.fd(b.Eb,b.D,b.qc));b=e}}};Ab.prototype.M=function(){return this.D.clone()};Ab.prototype.V=function(a){a.Dd(this.D)};Ab.prototype.Oa=function(){return this.Tb};Ab.prototype.nb=function(){return this.hc};Ab.prototype.W=function(){return this.$g};Ab.prototype.ob=function(a){this.$g=a};Ab.prototype.Y=function(){return this.ah};Ab.prototype.Ib=function(a){this.ah=a};Ab.prototype.aa=function(){return this.ld};Ab.prototype.Jb=
function(a){this.ld=a};Ab.prototype.i=function(){return this.sa};Ab.prototype.h=function(){return this.U};"undefined"!=typeof performance&&"function"==typeof performance.now&&(Jh.h=performance.now.bind(performance));Kk.BRUTE_FORCE=1;Kk.BVH=2;Bj.SPHERE=0;Bj.BOX=1;Bj.CYLINDER=2;Bj.CONE=3;Bj.CAPSULE=4;Bj.CONVEX_HULL=5;Hh.h=0;z.numCreations=0;ra.defaultFriction=.2;ra.defaultRestitution=.2;ra.defaultDensity=1;ra.defaultCollisionGroup=1;ra.defaultCollisionMask=1;ra.maxTranslationPerStep=20;ra.maxRotationPerStep=
3.14159265358979;ra.bvhProxyPadding=.1;ra.bvhIncrementalCollisionThreshold=.45;ra.defaultGJKMargin=.05;ra.enableGJKCaching=!0;ra.maxEPAVertices=128;ra.maxEPAPolyhedronFaces=128;ra.contactEnableBounceThreshold=.5;ra.velocityBaumgarte=.2;ra.positionSplitImpulseBaumgarte=.4;ra.positionNgsBaumgarte=1;ra.contactUseAlternativePositionCorrectionAlgorithmDepthThreshold=.05;ra.defaultContactPositionCorrectionAlgorithm=0;ra.alternativeContactPositionCorrectionAlgorithm=1;ra.contactPersistenceThreshold=.05;
ra.maxManifoldPoints=4;ra.defaultJointConstraintSolverType=0;ra.defaultJointPositionCorrectionAlgorithm=0;ra.jointWarmStartingFactorForBaungarte=.8;ra.jointWarmStartingFactor=.95;ra.minSpringDamperDampingRatio=1E-6;ra.minRagdollMaxSwingAngle=1E-6;ra.maxJacobianRows=6;ra.directMlcpSolverEps=1E-9;ra.islandInitialRigidBodyArraySize=128;ra.islandInitialConstraintArraySize=128;ra.sleepingVelocityThreshold=.2;ra.sleepingAngularVelocityThreshold=.5;ra.sleepingTimeThreshold=1;ra.disableSleeping=!1;ra.linearSlop=
.005;ra.angularSlop=.017453292519943278;yc.instance=new yc;Xg.SUCCEEDED=0;Xg.GJK_FAILED_TO_MAKE_TETRAHEDRON=1;Xg.GJK_DID_NOT_CONVERGE=2;Xg.EPA_FAILED_TO_INIT=257;Xg.EPA_FAILED_TO_ADD_VERTEX=258;Xg.EPA_DID_NOT_CONVERGE=259;ia.numCreations=0;Ha.numCreations=0;Sb.POSITIVE_INFINITY=Infinity;Sb.NEGATIVE_INFINITY=-Infinity;Sb.PI=3.14159265358979;Sb.TWO_PI=6.28318530717958;Sb.HALF_PI=1.570796326794895;Sb.TO_RADIANS=.017453292519943278;Sb.TO_DEGREES=57.29577951308238;Gb.numCreations=0;ii.broadPhaseCollisionTime=
0;ii.narrowPhaseCollisionTime=0;ii.dynamicsTime=0;ii.totalTime=0;Fh.BAUMGARTE=0;Fh.SPLIT_IMPULSE=1;Fh.NGS=2;Wg.SPHERICAL=0;Wg.REVOLUTE=1;Wg.CYLINDRICAL=2;Wg.PRISMATIC=3;Wg.UNIVERSAL=4;Wg.RAGDOLL=5;Wg.GENERIC=6;Ck.ITERATIVE=0;Ck.DIRECT=1;Eh.DYNAMIC=0;Eh.STATIC=1;Eh.KINEMATIC=2;il.h()})({});
