<!DOCTYPE html>

<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, width=device-width">
    <title>How to set up JavaScript libraries as ES6-modules</title>
    <link rel="stylesheet" href="/libs/bootstrap@5.3.3/bootstrap.min.css">
    <link rel="stylesheet" href="/libs/highlightjs@11.9.0/styles/base16/ia-dark.min.css">
    <script src="/libs/highlightjs@11.9.0/highlight.min.js"></script>
    <script src="/libs/highlightjs-line-numbers@2.8.0/highlightjs-line-numbers.min.js"></script>
    <style>
        .hljs-ln-line {
            padding-left: 10px;
        }

        .hljs-ln-numbers {
            text-align: right;
            border-right: 1px solid #CCC;
            margin-right: 10px;
        }

        .hljs-ln-n {
            padding-right: 5px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div id="menu"></div>

        <h3>How to set up JavaScript libraries as ES6-modules</h3>

        <p>Use "importmap" as below. The best solution to upload libraries to a hosting, for example, GitHub Pages, because UNPKG and jsDelivr don't work sometimes. Skypack requires a lot of time to search a library there. Your website will be online forever. You can copy libraries from "node_modules" to your GitHub Pages website. For this create the "libs" folder and folders inside it with the names like "gl-matrix@3.4.3", "box2d-wasm@7.0.0" and so on and copy libraries there from the "node_modules" folder. Or you can copy library from jsDelivr, for example, copy and save this file: <a href="https://cdn.jsdelivr.net/npm/@box2d/core@0.10.0/+esm" target="_blank">https://cdn.jsdelivr.net/npm/@box2d/core@0.10.0/+esm</a></p>

        <h4>Table of contents</h4>

        <ul>
            <li><a href="#gl-matrix">glMatrix</a></li>
            <li><a href="#box2d-wasm">Box2D-WASM</a></li>
            <li><a href="#box2d-core">@box2d/core</a></li>
            <li><a href="#pixi">Pixi.js 8</a></li>
            <li><a href="#phaser">Phaser 3</a></li>
        </ul>

        <h4 id="gl-matrix">glMatrix + GitHub Pages:</h4>

        <ul>
            <li><a href="https://plnkr.co/edit/w26tostV7cLmGlOR?preview">Plunker playground</a> for glMatrix to set up it from GitHub Pages</li>
            <li><a href="https://glitch.com/edit/#!/set-up-glmatrix-as-es6-module-in-javascript">Glitch playground</a> for glMatrix to set up it from GitHub Pages</li>
        </ul>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;

&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title>Set up glMatrix as ES6-module in JavaScript&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script type="importmap"&gt;
        {
            "imports": {
                "gl-matrix": "https://8observer8.github.io/libs/gl-matrix@3.4.3/gl-matrix.min.js"
            }
        }
    &lt;/script&gt;

    &lt;script type="module"&gt;
        import { glMatrix, mat4, vec2 } from "gl-matrix";

        // Convert degrees to radians
        const degrees = 45;
        const radians = glMatrix.toRadian(degrees);
        console.log(`radians = ${radians}`);

        // Sum of two vectors
        const v1 = vec2.fromValues(1, 2);
        const v2 = vec2.fromValues(5, 6);
        const sum = vec2.create();
        vec2.add(sum, v1, v2);
        console.log(`sum = (${sum[0]}, ${sum[1]})`);

        // Identity matrix
        const m = mat4.create();
        console.log("Identity matrix:", m);
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>

        <p>You can use these links for glMatrix:</p>

        <ul>
            <li>GitHub Pages: <a href="https://8observer8.github.io/libs/gl-matrix@3.4.3/gl-matrix.min.js" target="_blank">https://8observer8.github.io/libs/gl-matrix@3.4.3/gl-matrix.min.js</a></li>
            <li>UNPKG: <a href="https://unpkg.com/gl-matrix@3.4.3/esm/index.js" target="_blank">https://unpkg.com/gl-matrix@3.4.3/esm/index.js</a></li>
            <li>jsDelivr: <a href="https://cdn.jsdelivr.net/npm/gl-matrix@3.4.3/esm/index.js" target="_blank">https://cdn.jsdelivr.net/npm/gl-matrix@3.4.3/esm/index.js</a></li>
            <li>jsDelivr: <a href="https://cdn.jsdelivr.net/npm/gl-matrix@3.4.3/+esm" target="_blank">https://cdn.jsdelivr.net/npm/gl-matrix@3.4.3/+esm</a></li>
            <li>Skypack: <a href="https://cdn.skypack.dev/gl-matrix@3.4.3" target="_blank">https://cdn.skypack.dev/gl-matrix@3.4.3</a></li>
        </ul>

        <h4 id="box2d-wasm">Box2D-WASM + GitHub Pages:</h4>

        <ul>
            <li><a href="https://plnkr.co/edit/ESCZ0sOoBnTA2m1S?preview" target="_blank">Plunker playground</a> for Box2D-WASM to set up it from GitHub Pages</li>
            <li><a href="https://glitch.com/edit/#!/set-up-box2dwasm-as-es6-module-in-javascript" target="_blank">Glitch playground</a> for Box2D-WASM to set up it from GitHub Pages</li>
        </ul>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;

&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title>Set up Box2D-WASM as ES6-module in JavaScript&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script type="importmap"&gt;
        {
            "imports": {
                "box2d-wasm": "https://8observer8.github.io/libs/box2d-wasm@7.0.0/es/entry.js"
            }
        }
    &lt;/script&gt;

    &lt;script type="module"&gt;
        import Box2DLib from "box2d-wasm";
        let box2d, world;

        init();

        async function init() {
            await initBox2D();

            const {
                b2Vec2,
                b2World
            } = box2d;

            world = new b2World(new b2Vec2(0, -9.8));
            const gravity = world.GetGravity();
            console.log(`gravity = (${gravity.x}, ${gravity.y})`);
        }

        function initBox2D() {
            return new Promise(resolve => {
                Box2DLib().then((re) => {
                    box2d = re;
                    resolve();
                });
            });
        }
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>

        You can use these links for Box2D-WASM:

        <ul>
            <li>GitHub Pages: <a href="https://8observer8.github.io/libs/box2d-wasm@7.0.0/es/entry.js" target="_blank">https://8observer8.github.io/libs/box2d-wasm@7.0.0/es/entry.js</a></li>
            <li>UNPKG: <a href="https://unpkg.com/box2d-wasm@7.0.0/dist/es/entry.js" target="_blank">https://unpkg.com/box2d-wasm@7.0.0/dist/es/entry.js</a></li>
            <li>jsDelivr: <a href="https://cdn.jsdelivr.net/npm/box2d-wasm@7.0.0/dist/es/entry.js" target="_blank">https://cdn.jsdelivr.net/npm/box2d-wasm@7.0.0/dist/es/entry.js</a></li>
            <li>jsDelivr (this link doesn't work): <a href="https://cdn.jsdelivr.net/npm/box2d-wasm@7.0.0/+esm" target="_blank">https://cdn.jsdelivr.net/npm/box2d-wasm@7.0.0/+esm</a></li>
            <li>Skypack: this package doesn't exist</li>
        </ul>

        <h4 id="box2d-core">@box2d/core + GitHub Pages</h4>

        <ul>
            <li><a href="https://plnkr.co/edit/AnjKb8DvWoMUklqa?preview" target="_blank">Plunker playground</a> for @box2d/core to set up it from GitHub Pages</li>
            <li><a href="https://glitch.com/edit/#!/set-up-box2dcore-as-es6-module-in-javascript" target="_blank">Glitch playground</a> for @box2d/core to set up it from GitHub Pages</li>
        </ul>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;

&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title>Set up @box2d/core as ES6-module in JavaScript&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script type="importmap"&gt;
        {
            "imports": {
                "@box2d/core": "https://8observer8.github.io/libs/box2d-core@0.10.0/box2d-core.min.js"
            }
        }
    &lt;/script&gt;

    &lt;script type="module"&gt;
        import { b2BodyType, b2PolygonShape, b2World } from "@box2d/core";

        const world = b2World.Create({ x: 0, y: -9.8 });
        const gravity = world.GetGravity();
        console.log(`gravity = (${gravity.x}, ${gravity.y})`);
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>

        <p>You can use these links for @box2d/core:</p>

        <p>GitHub Pages:</p>

        <ul>
            <li>@box2d/core@0.10.0: <a href="https://8observer8.github.io/libs/box2d-core@0.10.0/box2d-core.min.js" target="_blank">https://8observer8.github.io/libs/box2d-core@0.10.0/box2d-core.min.js</a></li>
            <li>@box2d/debug-draw@0.10.0: <a href="https://8observer8.github.io/libs/box2d-debug-draw@0.10.0/box2d-core.min.js" target="_blank">https://8observer8.github.io/libs/box2d-debug-draw@0.10.0/box2d-debug-draw.min.js</a></li>
            <li>@box2d/particles@0.10.0: <a href="https://8observer8.github.io/libs/box2d-particles@0.10.0/box2d-core.min.js" target="_blank">https://8observer8.github.io/libs/box2d-debug-draw@0.10.0/box2d-particles.min.js</a></li>
            <li>@box2d/controllers@0.10.0: <a href="https://8observer8.github.io/libs/box2d-controllers@0.10.0/box2d-core.min.js" target="_blank">https://8observer8.github.io/libs/box2d-debug-draw@0.10.0/box2d-controllers.min.js</a></li>
            <li>@box2d/lights@0.10.0: <a href="https://8observer8.github.io/libs/box2d-lights@0.10.0/box2d-lights.min.js" target="_blank">https://8observer8.github.io/libs/box2d-debug-draw@0.10.0/box2d-lights.min.js</a></li>
        </ul>

        <p>Skypack:</p>

        <ul>
            <li>@box2d/core@0.10.0: <a href="https://cdn.skypack.dev/@box2d/core@0.10.0" target="_blank">https://cdn.skypack.dev/@box2d/core@0.10.0</a></li>
            <li>@box2d/debug-draw@0.10.0: <a href="https://cdn.skypack.dev/@box2d/debug-draw@0.10.0" target="_blank">https://cdn.skypack.dev/@box2d/debug-draw@0.10.0</a></li>
            <li>@box2d/particles@0.10.0: <a href="https://cdn.skypack.dev/@box2d/particles@0.10.0" target="_blank">https://cdn.skypack.dev/@box2d/particles@0.10.0</a></li>
            <li>@box2d/lights@0.10.0: <a href="https://cdn.skypack.dev/@box2d/lights@0.10.0" target="_blank">https://cdn.skypack.dev/@box2d/lights@0.10.0</a></li>
            <li>@box2d/controllers@0.10.0: <a href="https://cdn.skypack.dev/@box2d/controllers@0.10.0" target="_blank">https://cdn.skypack.dev/@box2d/controllers@0.10.0</a></li>
        </ul>

        <p>jsDelivr:</p>

        <ul>
            <li>@box2d/core: <a href="https://cdn.jsdelivr.net/npm/@box2d/core@0.10.0/+esm" target="_blank">https://cdn.jsdelivr.net/npm/@box2d/core@0.10.0/+esm</a>
            <li>@box2d/debug-draw: <a href="https://cdn.jsdelivr.net/npm/@box2d/debug-draw@0.10.0/+esm" target="_blank">https://cdn.jsdelivr.net/npm/@box2d/debug-draw@0.10.0/+esm</a></li>
            <li>@box2d/particles: <a href="https://cdn.jsdelivr.net/npm/@box2d/particles@0.10.0/+esm" target="_blank">https://cdn.jsdelivr.net/npm/@box2d/particles@0.10.0/+esm</a></li>
            <li>@box2d/lights: <a href="https://cdn.jsdelivr.net/npm/@box2d/lights@0.10.0/+esm" target="_blank">https://cdn.jsdelivr.net/npm/@box2d/lights@0.10.0/+esm</a></li>
            <li>@box2d/controllers: <a href="https://cdn.jsdelivr.net/npm/@box2d/controllers@0.10.0/+esm" target="_blank">https://cdn.jsdelivr.net/npm/@box2d/controllers@0.10.0/+esm</a></li>
            <!-- <li><a href="https://plnkr.co/edit/gjwwZNskLkwL0LpY?preview" target="_blank">@box2d/debug-draw playground</a></li> -->

        <p>These links do not work:</p>

        <ul>
            <li>UNPKG: <a href="https://unpkg.com/@box2d/core@0.10.0/dist/index.js" target="_blank">https://unpkg.com/@box2d/core@0.10.0/dist/index.js</a></li>
            <!-- <li>UNPKG @box2d/debug-draw (this link doesn't work): <a href="https://unpkg.com/@box2d/debug-draw@0.10.0/dist/index.js" target="_blank">https://unpkg.com/@box2d/debug-draw@0.10.0/dist/index.js</a></li> -->
            <li>jsDelivr: <a href="https://cdn.jsdelivr.net/npm/@box2d/core@0.10.0/dist/index.js" target="_blank">https://cdn.jsdelivr.net/npm/@box2d/core@0.10.0/dist/index.js</a></li>
            <!-- <li>jsDelivr @box2d/debug-draw (this link doesn't work): <a href="https://cdn.jsdelivr.net/npm/@box2d/debug-draw@0.10.0/dist/index.js" target="_blank">https://cdn.jsdelivr.net/npm/@box2d/debug-draw@0.10.0/dist/index.js</a></li> -->
        </ul>

        <h4 id="pixi">Pixi.js 8 + GitHub Pages:</h4>

        <ul>
            <li><a href="https://plnkr.co/edit/SUnS0OLmWdHdjX8c?preview" target="_blank">Plunker playground</a> for Pixi.js 8 to set up it from GitHub Pages</li>
            <li><a href="https://glitch.com/edit/#!/set-up-pixijs8-as-es6-module-in-javascript" target="_blank">Glitch playground</a> for Pixi.js 8 to set up it from GitHub Pages</li>
        </ul>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;

&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title>Set up Pixi.js 8 as ES6-module in JavaScript&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script type="importmap"&gt;
        {
            "imports": {
                "pixi.js": "https://8observer8.github.io/libs/pixi.js@8.1.6/pixi.min.mjs"
            }
        }
    &lt;/script&gt;

    &lt;script type="module"&gt;
        import { Application, Graphics } from "pixi.js";

        // Create the main application and the canvas
        const app = new Application();
        await app.init({ width: 400, height: 400 });
        document.body.appendChild(app.canvas);

        // Create a frame with lines
        const frame = new Graphics();
        frame.setStrokeStyle({ color: 0xCC5FB4, width: 5 });
        const pos = { x: 100, y: 300 };
        const size = { w: 200, h: 50 }
        frame.moveTo(pos.x, pos.y);
        frame.lineTo(pos.x, pos.y + size.h);
        frame.lineTo(pos.x + size.w, pos.y + size.h);
        frame.lineTo(pos.x + size.w, pos.y);
        frame.lineTo(pos.x, pos.y);
        frame.stroke();
        app.stage.addChild(frame);

        // Create a frame
        const frame2 = new Graphics();
        frame2.setStrokeStyle({ color: 0xCC5FB4, width: 5 });
        frame2.rect(20, 100, 100, 150);
        frame2.stroke();
        app.stage.addChild(frame2);

        // Create a ring
        const ring = new Graphics();
        ring.setStrokeStyle({ color: 0x4A5FB4, width: 5 });
        ring.circle(200, 100, 50);
        ring.stroke();
        app.stage.addChild(ring);
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>

        You can use these links for Pixi.js 8:

        <ul>
            <li>GitHub Pages: <a href="https://8observer8.github.io/libs/pixi.js@8.1.6/pixi.min.mjs" target="_blank">https://8observer8.github.io/libs/pixi.js@8.1.6/pixi.min.mjs</a></li>
            <li>UNPKG: <a href="https://unpkg.com/pixi.js@8.1.6/dist/pixi.min.mjs" target="_blank">https://unpkg.com/pixi.js@8.1.6/dist/pixi.min.mjs</a></li>
            <li>jsDelivr: <a href="https://cdn.jsdelivr.net/npm/pixi.js@8.1.6/dist/pixi.min.mjs" target="_blank">https://cdn.jsdelivr.net/npm/pixi.js@8.1.6/dist/pixi.min.mjs</a></li>
            <li>jsDelivr (this link doesn't work, <a href="https://github.com/pixijs/pixijs/issues/10616" target="_blank">see the issue</a>): <a href="https://cdn.jsdelivr.net/npm/pixi.js@8.1.6/+esm">https://cdn.jsdelivr.net/npm/pixi.js@8.1.6/+esm</a></li>
        </ul>

        <h4 id="phaser">Phaser 3 + GitHub Pages</h4>

        <ul>
            <li><a href="https://plnkr.co/edit/mm3jHaUaYniABAvg?preview" target="_blank">Plunker playground</a> for Phaser 3 to set up it from GitHub Pages</li>
            <li><a href="https://glitch.com/edit/#!/set-up-phaser3-as-es6-module-in-javascript" target="_blank">Glitch playground</a> for Phaser 3 to set up it from GitHub Pages</li>
        </ul>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;

&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title>Set up Phaser 3 as ES6-module in JavaScript&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;script type="importmap"&gt;
        {
            "imports": {
                "phaser3": "https://8observer8.github.io/libs/phaser@3.80.1/phaser.esm.min.js"
            }
        }
    &lt;/script&gt;

    &lt;script type="module"&gt;
        import { WEBGL, Game, Scale } from "phaser3";

        const config = {
            type: WEBGL,

            width: 800,
            height: 600,
            scaleMode: Scale.ScaleModes.FIT,
            autoCenter: Scale.Center.CENTER_BOTH,

            autoFocus: true,
            scene: { preload, create, update },
            backgroundColor: '#555',
        };

        const game = new Game(config);

        function preload() {}

        function create() {
            this.graphics = this.add.graphics();
            this.graphics.lineStyle(10, 0xff00ff);
            this.graphics.strokeCircle(200, 150, 100);
        }

        function update() {}
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>

        You can use these links for Phaser 3:

        <ul>
            <li>GitHub Pages: <a href="https://8observer8.github.io/libs/phaser@3.80.1/phaser.esm.min.js" target="_blank">https://8observer8.github.io/libs/phaser@3.80.1/phaser.esm.min.js</a></li>
            <li>UNPKG: <a href="https://unpkg.com/phaser@3.80.1/dist/phaser.esm.min.js" target="_blank">https://unpkg.com/phaser@3.80.1/dist/phaser.esm.min.js</a></li>
            <li>jsDelivr: <a href="https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.esm.min.js" target="_blank">https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.esm.min.js</a></li>
            <li>jsDelivr (this link doesn't work): <a href="https://cdn.jsdelivr.net/npm/phaser@3.80.1/+esm">https://cdn.jsdelivr.net/npm/phaser@3.80.1/+esm</a></li>
        </ul>

    </div>

    <script>
        hljs.highlightAll();
        hljs.initLineNumbersOnLoad();
    </script>

    <!-- Since import maps are not yet supported by all browsers, it is
        necessary to add the polyfill es-module-shims.js -->
    <script async src="/libs/es-module-shims@1.10.0/es-module-shims.js"></script>

    <script type="importmap">
        {
            "imports": {
                "ejs": "/libs/ejs@3.1.10/ejs.min.js"
            }
        }
    </script>

    <script type="module" src="./js/index.js"></script>
</body>