!function e(t,o,r){function a(i,n){if(!o[i]){if(!t[i]){var c="function"==typeof require&&require;if(!n&&c)return c(i,!0);if(s)return s(i,!0);var p=new Error("Cannot find module '"+i+"'");throw p.code="MODULE_NOT_FOUND",p}var l=o[i]={exports:{}};t[i][0].call(l.exports,function(e){var o=t[i][1][e];return a(o||e)},l,l.exports,e,t,o,r)}return o[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,o){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(o,"__esModule",{value:!0});!function(e){var t=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.preload=function(){this.game.load.image("preloadBar","./assets/images/preloader-bar.png")},t.prototype.create=function(){this.game.stage.backgroundColor="#fff",this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.refresh(),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.state.start("Preload",!0,!1)},t}(Phaser.State);e.Boot=t}(o.TopDownGame||(o.TopDownGame={}))},{}],2:[function(e,t,o){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(o,"__esModule",{value:!0});var a,s=e("./Boot").TopDownGame.Boot,i=e("./Preload").TopDownGame.Preload,n=e("./PlayGame").TopDownGame.PlayGame;!function(e){var t=function(e){function t(t,o){var r=e.call(this,t,o,Phaser.AUTO,"")||this;return r.state.add("Boot",s,!1),r.state.add("Preload",i,!1),r.state.add("PlayGame",n,!1),r.state.start("Boot",!0,!0),r}return r(t,e),t}(Phaser.Game);e.Game=t}(a=o.TopDownGame||(o.TopDownGame={})),window.onload=function(){new a.Game(160,160),console.log("The game is on")}},{"./Boot":1,"./PlayGame":3,"./Preload":4}],3:[function(e,t,o){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(o,"__esModule",{value:!0});!function(e){var t=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.create=function(){this.map=this.game.add.tilemap("level1"),this.map.addTilesetImage("tiles","gameTiles"),this.background=this.map.createLayer("backgroundLayer"),this.walls=this.map.createLayer("blockedLayer"),this.map.setCollisionBetween(1,2e3,!0,"blockedLayer"),this.background.resizeWorld(),this.createItems(),this.createDoors(),this.createPlayer(),this.cursors=this.game.input.keyboard.createCursorKeys()},t.prototype.createItems=function(){var e=this;this.items=this.game.add.group(),this.items.enableBody=!0,this.findObjectsByType("item",this.map,"objectsLayer").forEach(function(t){e.createFromTiledObject(t,e.items)})},t.prototype.createDoors=function(){var e=this;this.doors=this.game.add.group(),this.items.enableBody=!0,this.findObjectsByType("door",this.map,"objectsLayer").forEach(function(t){e.createFromTiledObject(t,e.doors)})},t.prototype.createPlayer=function(){var e=this.findObjectsByType("playerStart",this.map,"objectsLayer");this.player=this.game.add.sprite(e[0].x,e[0].y,"player"),this.player.anchor.setTo(.5),this.game.physics.arcade.enable(this.player),this.player.body.collideWorldBounds=!0,this.game.camera.follow(this.player)},t.prototype.findObjectsByType=function(e,t,o){var r=this,a=[];return t.objects[o].forEach(function(t){t.properties.type===e&&(t.y-=r.map.tileHeight,a.push(t))}),a},t.prototype.createFromTiledObject=function(e,t){var o=t.create(e.x,e.y,e.properties.sprite);Object.keys(e.properties).forEach(function(t){o[t]=e.properties[t]})},t.prototype.update=function(){this.player.body.velocity.x=0,this.player.body.velocity.y=0,this.game.physics.arcade.collide(this.player,this.walls),this.game.physics.arcade.collide(this.player,this.items,this.collect,null,this),this.cursors.up.isDown?this.player.body.velocity.y-=50:this.cursors.down.isDown&&(this.player.body.velocity.y+=50),this.cursors.left.isDown?this.player.body.velocity.x-=50:this.cursors.right.isDown&&(this.player.body.velocity.x+=50)},t.prototype.collect=function(e,t){t.destroy(),console.log("yummy")},t}(Phaser.State);e.PlayGame=t}(o.TopDownGame||(o.TopDownGame={}))},{}],4:[function(e,t,o){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(o,"__esModule",{value:!0});!function(e){var t=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.preload=function(){this.preloadBar=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY+128,"preloadBar"),this.preloadBar.anchor.setTo(.5),this.load.setPreloadSprite(this.preloadBar),this.load.tilemap("level1","./assets/tilemaps/level1.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("level2","./assets/tilemaps/level2.json",null,Phaser.Tilemap.TILED_JSON),this.load.image("gameTiles","./assets/images/tiles.png"),this.load.image("greencup","./assets/images/greencup.png"),this.load.image("bluecup","./assets/images/bluecup.png"),this.load.image("player","./assets/images/player.png"),this.load.image("browndoor","./assets/images/browndoor.png")},t.prototype.create=function(){this.game.state.start("PlayGame")},t}(Phaser.State);e.Preload=t}(o.TopDownGame||(o.TopDownGame={}))},{}]},{},[2]);
//# sourceMappingURL=bundle.js.map
