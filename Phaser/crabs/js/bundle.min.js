"use strict";var GameState={preload:function(){this.game.load.crossOrigin="anonymous",this.load.image("background","assets/images/green-island-beach-background-640x360-275.jpg"),this.load.spritesheet("crab","assets/images/crab.png",150,148),this.load.audio("backgroundAudio",["assets/audio/my-veselye-meduzy.ogg","assets/audio/my-veselye-meduzy.mp3"]),this.load.audio("mouseClick",["assets/audio/mouse-click.ogg","assets/audio/mouse-click.mp3"])},create:function(){this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.background=this.game.add.sprite(0,0,"background"),this.backgroundAudio=this.game.add.audio("backgroundAudio"),this.backgroundAudio.loop=!0,this.backgroundAudio.play(),this.mouseClick=this.game.add.audio("mouseClick");for(var a=[],i=0;i<24;i++)a.push(i);this.crab0=this.game.add.sprite(1*this.game.width/4,3*this.game.height/4,"crab"),this.crab0.animations.add("crabAnimation",a,20,!0),this.crab0.animations.play("crabAnimation"),this.crab0.inputEnabled=!0,this.crab0.input.pixelPerfectClick=!0,this.crab0.events.onInputDown.add(this.animate,this),this.crab0.customParams={animated:!0},this.crab0.anchor.setTo(.5),this.crab0.angle=20,this.crab1=this.game.add.sprite(this.game.world.centerX,3*this.game.height/5,"crab"),this.crab1.animations.add("crabAnimation",a,20,!0),this.crab1.animations.play("crabAnimation"),this.crab1.inputEnabled=!0,this.crab1.input.pixelPerfectClick=!0,this.crab1.events.onInputDown.add(this.animate,this),this.crab1.customParams={animated:!0},this.crab1.anchor.setTo(.5),this.crab2=this.game.add.sprite(3*this.game.width/4,3*this.game.height/4,"crab"),this.crab2.animations.add("crabAnimation",a,20,!0),this.crab2.animations.play("crabAnimation"),this.crab2.inputEnabled=!0,this.crab2.input.pixelPerfectClick=!0,this.crab2.events.onInputDown.add(this.animate,this),this.crab2.customParams={animated:!0},this.crab2.anchor.setTo(.5),this.crab2.angle=-20},update:function(){this.crab1.customParams.animated&&(this.crab1.angle+=1)},animate:function(a,i){a.customParams.animated?(a.customParams.animated=!1,a.animations.stop("crabAnimation")):(a.customParams.animated=!0,a.animations.play("crabAnimation")),this.mouseClick.play()}};function main(){var a=new Phaser.Game(640,360,Phaser.AUTO);a.state.add("GameState",GameState),a.state.start("GameState")}window.onload=main;