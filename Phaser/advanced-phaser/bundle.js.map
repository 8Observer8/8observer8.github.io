{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/Boot.ts","src/Game.ts","src/Level1.ts","src/MainMenu.ts","src/Player.ts","src/Preloader.ts"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Castlevania","Boot","_super","__extends","prototype","preload","this","load","image","create","input","maxPointers","stage","disableVisibilityChange","game","device","desktop","scale","pageAlignHorizontally","scaleMode","Phaser","ScaleManager","SHOW_ALL","minWidth","minHeight","maxWidth","maxHeight","forceLandscape","refresh","state","start","State","Level1","MainMenu","Preloader","Game","_this","AUTO","add","window","onload","Player","physics","startSystem","Physics","ARCADE","background","sprite","music","audio","play","player","alpha","logo","world","centerX","anchor","setTo","tween","to","Easing","Bounce","InOut","y","Elastic","Out","onDown","addOnce","fadeOut","Linear","None","onComplete","startGame","x","animations","existing","enable","update","body","velocity","keyboard","isDown","Keyboard","LEFT","RIGHT","frame","Sprite","preloadBar","setPreloadSprite","spritesheet","startMainMenu"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace Castlevania\r\n{\r\n    export class Boot extends Phaser.State\r\n    {\r\n        preload()\r\n        {\r\n            this.load.image('preloadBar', './assets/loader.png');\r\n        }\r\n\r\n        create()\r\n        {\r\n            this.input.maxPointers = 1;\r\n            this.stage.disableVisibilityChange = true;\r\n\r\n            if (this.game.device.desktop)\r\n            {\r\n                this.scale.pageAlignHorizontally = true;\r\n                this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n            }\r\n            else\r\n            {\r\n                // Mobile settings\r\n                this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n                this.scale.minWidth = 480;\r\n                this.scale.minHeight = 260;\r\n                this.scale.maxWidth = 1024;\r\n                this.scale.maxHeight = 768;\r\n                this.scale.forceLandscape = true;\r\n                this.scale.pageAlignHorizontally = true;\r\n                this.scale.refresh();\r\n            }\r\n\r\n            this.game.state.start('Preloader', true, false);\r\n        }\r\n    }\r\n}","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nimport * as BootModule from \"./Boot\";\r\nimport Boot = BootModule.Castlevania.Boot;\r\n\r\nimport * as Level1Module from \"./Level1\";\r\nimport Level1 = Level1Module.Castlevania.Level1;\r\n\r\nimport * as MainMenuModule from \"./MainMenu\";\r\nimport MainMenu = MainMenuModule.Castlevania.MainMenu;\r\n\r\nimport * as PreloaderModule from \"./Preloader\";\r\nimport Preloader = PreloaderModule.Castlevania.Preloader;\r\n\r\nnamespace Castlevania\r\n{\r\n    export class Game extends Phaser.Game\r\n    {\r\n        constructor()\r\n        {\r\n            super(800, 600, Phaser.AUTO, '');\r\n            this.state.add('Boot', Boot, false);\r\n            this.state.add('Preloader', Preloader, false);\r\n            this.state.add('MainMenu', MainMenu, false);\r\n            this.state.add('Level1', Level1, false);\r\n            this.state.start('Boot');\r\n        }\r\n    }\r\n}\r\n\r\nwindow.onload = () =>\r\n{\r\n    new Castlevania.Game();\r\n};\r\n","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nimport * as PlayerModule from \"./Player\";\r\nimport Player = PlayerModule.Castlevania.Player;\r\n\r\nexport namespace Castlevania\r\n{\r\n    export class Level1 extends Phaser.State\r\n    {\r\n        background: Phaser.Sprite;\r\n        music: Phaser.Sound;\r\n        player: Player;\r\n\r\n        create()\r\n        {\r\n            this.physics.startSystem(Phaser.Physics.ARCADE);\r\n            this.background = this.add.sprite(0, 0, 'level1');\r\n            this.music = this.add.audio('music', 1, false);\r\n            this.music.play();\r\n            this.player = new Player(this.game, 130, 332);\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace Castlevania\r\n{\r\n    export class MainMenu extends Phaser.State\r\n    {\r\n        background: Phaser.Sprite;\r\n        logo: Phaser.Sprite;\r\n\r\n        create()\r\n        {\r\n            this.background = this.add.sprite(0, 0, 'titlepage');\r\n            this.background.alpha = 0;\r\n\r\n            this.logo = this.add.sprite(this.world.centerX, -300, 'logo');\r\n            this.logo.anchor.setTo(0.5);\r\n\r\n            this.add.tween(this.background).to({ alpha: 1 }, 2000, Phaser.Easing.Bounce.InOut, true);\r\n            this.add.tween(this.logo).to({ y: 220 }, 2000, Phaser.Easing.Elastic.Out, true, 2000);\r\n\r\n            this.input.onDown.addOnce(this.fadeOut, this);\r\n        }\r\n\r\n        fadeOut()\r\n        {\r\n            this.add.tween(this.background).to({ alpha: 0 }, 2000, Phaser.Easing.Linear.None, true);\r\n            var tween = this.add.tween(this.logo).to({ y: 800 }, 2000, Phaser.Easing.Linear.None, true);\r\n            tween.onComplete.add(this.startGame, this);\r\n        }\r\n\r\n        startGame()\r\n        {\r\n            this.game.state.start('Level1', true, false);\r\n        }\r\n    }\r\n}","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace Castlevania\r\n{\r\n    export class Player extends Phaser.Sprite\r\n    {\r\n        constructor(game: Phaser.Game, x: number, y: number)\r\n        {\r\n            super(game, x, y, 'simon', 0);\r\n            this.anchor.setTo(0.5);\r\n            this.animations.add('walk', [0, 1, 2, 3, 4], 10, true);\r\n            game.add.existing(this);\r\n            game.physics.enable(this);\r\n        }\r\n\r\n        update()\r\n        {\r\n            this.body.velocity.x = 0;\r\n            if (this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT))\r\n            {\r\n                this.body.velocity.x = -150;\r\n                this.animations.play('walk');\r\n                if (this.scale.x === 1)\r\n                {\r\n                    this.scale.x = -1;\r\n                }\r\n            }\r\n            else if (this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT))\r\n            {\r\n                this.body.velocity.x = 150;\r\n                this.animations.play('walk');\r\n                if (this.scale.x === -1)\r\n                {\r\n                    this.scale.x = 1;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.animations.frame = 0;\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace Castlevania\r\n{\r\n    export class Preloader extends Phaser.State\r\n    {\r\n        preloadBar: Phaser.Sprite;\r\n\r\n        preload()\r\n        {\r\n            this.preloadBar = this.game.add.sprite(200, 250, 'preloadBar');\r\n            this.load.setPreloadSprite(this.preloadBar);\r\n\r\n            this.load.image('titlepage', './assets/titlepage.jpg');\r\n            this.load.image('logo', './assets/logo.png');\r\n            this.load.audio('music', './assets/title.mp3', true);\r\n            this.load.spritesheet('simon', './assets/simon.png', 58, 96, 5);\r\n            this.load.image('level1', './assets/level1.png');\r\n        }\r\n\r\n        create()\r\n        {\r\n            var tween = this.add.tween(this.preloadBar)\r\n            .to(\r\n                { alpha: 0 },\r\n                1000,\r\n                Phaser.Easing.Linear.None,\r\n                true\r\n            );\r\n            tween.onComplete.add(this.startMainMenu, this);\r\n        }\r\n\r\n        startMainMenu()\r\n        {\r\n            this.game.state.start('MainMenu', true, false);\r\n        }\r\n    }\r\n}"]}