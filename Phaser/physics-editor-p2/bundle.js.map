{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/Boot.ts","src/Game.ts","src/Level.ts","src/Program.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport class Boot extends Phaser.State\r\n{\r\n    public constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    public preload()\r\n    {\r\n        this.load.image(\"megatron\", \"./assets/megatron.png\");\r\n        this.game.load.physics(\"physicsInfo\", \"./assets/physics.json\");\r\n    }\r\n\r\n    public create()\r\n    {\r\n        this.game.state.start(\"Level\");\r\n    }\r\n}","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nimport { Boot } from \"./Boot\";\r\nimport { Level } from \"./Level\";\r\n\r\nexport class Game extends Phaser.Game\r\n{\r\n    public constructor()\r\n    {\r\n        super(800, 600, Phaser.AUTO, \"content\");\r\n        this.state.add(\"Boot\", Boot, false);\r\n        this.state.add(\"Level\", Level, false);\r\n        this.state.start(\"Boot\");\r\n    }\r\n}\r\n","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport class Level extends Phaser.State\r\n{\r\n    private _player1: Phaser.Sprite;\r\n    private _player2: Phaser.Sprite;\r\n\r\n    public constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    public create()\r\n    {\r\n        // #1\r\n        // this._player1 = this.game.add.sprite(this.game.width / 2, 150, \"megatron\");\r\n        // this._player2 = this.game.add.sprite(this.game.width / 2, this.game.height, \"megatron\");\r\n\r\n        // this.game.physics.startSystem(Phaser.Physics.P2JS);\r\n\r\n        // // Enabled physics on our sprites\r\n        // this.game.physics.p2.enable([this._player1, this._player2]);\r\n\r\n        // // Make our one body motionless\r\n        // this._player1.body.static = true;\r\n\r\n        // // Now create a sprite between our two bodies, parameters are rest length, stiffness and damping\r\n        // // Rest length is the length of the spring at rest ( where it's not under pressure )\r\n        // // Stiffness is the resistance to movement of the spring\r\n        // // Damping determines how fast the spring loses it's \"boing\"  Our low damping keeps our spring \"boinging\"\r\n        // // Boing is a word I made up to describe the up and down motion of a spring doing it's spring thing\r\n        // this.game.physics.p2.createSpring(this._player1, this._player2, 200, 2, 0.3);\r\n\r\n        // // Lets loop a timed event every 10 seconds that moves the one end of our spring back to the start\r\n        // // Mostly just so people that didn't see it run the first time in the browser have something to see!\r\n        // this.game.time.events.loop(Phaser.Timer.SECOND * 5, () =>\r\n        // {\r\n        //     this._player2.body.x = this.game.width / 2;\r\n        //     this._player2.body.y = this.game.height;\r\n        // }, this);\r\n\r\n        // #2\r\n        this._player1 = this.game.add.sprite(0, 0, \"megatron\");\r\n        this._player2 = this.game.add.sprite(0, 0, \"megatron\");\r\n\r\n        // Being lazy, positioning sprite after creation so we have a valid width/height\r\n        this._player1.position.set(this._player1.width / 2, 150);\r\n\r\n        // Now another sprite on the right side of the screen, down slightly\r\n        this._player2.position.set(this.game.width / 2, 150);\r\n\r\n        this.game.physics.startSystem(Phaser.Physics.P2JS);\r\n\r\n        // Passing in true while enabling physics on an object causes the debug renderer to draw the physics body\r\n        this.game.physics.p2.enable([this._player1, this._player2], true);\r\n\r\n        // You need to call clearShapes() to get rid of the existing bounding box\r\n        this._player1.body.clearShapes();\r\n        this._player2.body.clearShapes();\r\n\r\n        // Now load the polygon bounding data we created externally\r\n        this._player1.body.loadPolygon(\"physicsInfo\", \"megatron\");\r\n        this._player2.body.loadPolygon(\"physicsInfo\", \"megatron\");\r\n\r\n        // Now let's get this party started\r\n        this._player2.body.moveLeft(80);\r\n\r\n        // Finally, when the collision occurs, move back to the beginning and start over\r\n        this._player2.body.onBeginContact.add(\r\n            (body: any, bodyB: any, shapeA: any, shapeB: any, equation: any) =>\r\n        {\r\n            this._player2.body.x = this.game.width / 2;\r\n            this._player2.body.y = 150;\r\n        }, this);\r\n    }\r\n}\r\n","\r\nimport { Game } from \"./Game\";\r\n\r\nexport class Program\r\n{\r\n    public static Main()\r\n    {\r\n        new Game();\r\n    }\r\n}\r\n\r\nwindow.onload = () =>\r\n{\r\n    Program.Main();\r\n};\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvQm9vdC50cyIsInNyYy9HYW1lLnRzIiwic3JjL0xldmVsLnRzIiwic3JjL1Byb2dyYW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUEsMkNBQTJDOzs7Ozs7Ozs7Ozs7QUFFM0M7SUFBMEIsd0JBQVk7SUFFbEM7ZUFFSSxpQkFBTztJQUNYLENBQUM7SUFFTSxzQkFBTyxHQUFkO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLHVCQUF1QixDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFTSxxQkFBTSxHQUFiO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFDTCxXQUFDO0FBQUQsQ0FqQkEsQUFpQkMsQ0FqQnlCLE1BQU0sQ0FBQyxLQUFLLEdBaUJyQztBQWpCWSxvQkFBSTs7O0FDRmpCLDJDQUEyQzs7Ozs7Ozs7Ozs7O0FBRTNDLCtCQUE4QjtBQUM5QixpQ0FBZ0M7QUFFaEM7SUFBMEIsd0JBQVc7SUFFakM7UUFBQSxZQUVJLGtCQUFNLEdBQUcsRUFBRSxHQUFHLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsU0FJMUM7UUFIRyxLQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsV0FBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3BDLEtBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxhQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDdEMsS0FBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7O0lBQzdCLENBQUM7SUFDTCxX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QkFBOEI7QUFFOUI7SUFBQTtJQU1BLENBQUM7SUFKaUIsWUFBSSxHQUFsQjtRQUVJLElBQUksV0FBSSxFQUFFLENBQUM7SUFDZixDQUFDO0lBQ0wsY0FBQztBQUFELENBTkEsQUFNQyxJQUFBO0FBTlksMEJBQU87QUFRcEIsTUFBTSxDQUFDLE1BQU0sR0FBRztJQUVaLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vbGlicy9waGFzZXIuZC50c1wiIC8+XHJcblxyXG5leHBvcnQgY2xhc3MgQm9vdCBleHRlbmRzIFBoYXNlci5TdGF0ZVxyXG57XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZWxvYWQoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZShcIm1lZ2F0cm9uXCIsIFwiLi9hc3NldHMvbWVnYXRyb24ucG5nXCIpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLnBoeXNpY3MoXCJwaHlzaWNzSW5mb1wiLCBcIi4vYXNzZXRzL3BoeXNpY3MuanNvblwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmdhbWUuc3RhdGUuc3RhcnQoXCJMZXZlbFwiKTtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2xpYnMvcGhhc2VyLmQudHNcIiAvPlxyXG5cclxuaW1wb3J0IHsgQm9vdCB9IGZyb20gXCIuL0Jvb3RcIjtcclxuaW1wb3J0IHsgTGV2ZWwgfSBmcm9tIFwiLi9MZXZlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUgZXh0ZW5kcyBQaGFzZXIuR2FtZVxyXG57XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKDgwMCwgNjAwLCBQaGFzZXIuQVVUTywgXCJjb250ZW50XCIpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUuYWRkKFwiQm9vdFwiLCBCb290LCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5hZGQoXCJMZXZlbFwiLCBMZXZlbCwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUuc3RhcnQoXCJCb290XCIpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2xpYnMvcGhhc2VyLmQudHNcIiAvPlxyXG5cclxuZXhwb3J0IGNsYXNzIExldmVsIGV4dGVuZHMgUGhhc2VyLlN0YXRlXHJcbntcclxuICAgIHByaXZhdGUgX3BsYXllcjE6IFBoYXNlci5TcHJpdGU7XHJcbiAgICBwcml2YXRlIF9wbGF5ZXIyOiBQaGFzZXIuU3ByaXRlO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKClcclxuICAgIHtcclxuICAgICAgICAvLyAjMVxyXG4gICAgICAgIC8vIHRoaXMuX3BsYXllcjEgPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSh0aGlzLmdhbWUud2lkdGggLyAyLCAxNTAsIFwibWVnYXRyb25cIik7XHJcbiAgICAgICAgLy8gdGhpcy5fcGxheWVyMiA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKHRoaXMuZ2FtZS53aWR0aCAvIDIsIHRoaXMuZ2FtZS5oZWlnaHQsIFwibWVnYXRyb25cIik7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuZ2FtZS5waHlzaWNzLnN0YXJ0U3lzdGVtKFBoYXNlci5QaHlzaWNzLlAySlMpO1xyXG5cclxuICAgICAgICAvLyAvLyBFbmFibGVkIHBoeXNpY3Mgb24gb3VyIHNwcml0ZXNcclxuICAgICAgICAvLyB0aGlzLmdhbWUucGh5c2ljcy5wMi5lbmFibGUoW3RoaXMuX3BsYXllcjEsIHRoaXMuX3BsYXllcjJdKTtcclxuXHJcbiAgICAgICAgLy8gLy8gTWFrZSBvdXIgb25lIGJvZHkgbW90aW9ubGVzc1xyXG4gICAgICAgIC8vIHRoaXMuX3BsYXllcjEuYm9keS5zdGF0aWMgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyAvLyBOb3cgY3JlYXRlIGEgc3ByaXRlIGJldHdlZW4gb3VyIHR3byBib2RpZXMsIHBhcmFtZXRlcnMgYXJlIHJlc3QgbGVuZ3RoLCBzdGlmZm5lc3MgYW5kIGRhbXBpbmdcclxuICAgICAgICAvLyAvLyBSZXN0IGxlbmd0aCBpcyB0aGUgbGVuZ3RoIG9mIHRoZSBzcHJpbmcgYXQgcmVzdCAoIHdoZXJlIGl0J3Mgbm90IHVuZGVyIHByZXNzdXJlIClcclxuICAgICAgICAvLyAvLyBTdGlmZm5lc3MgaXMgdGhlIHJlc2lzdGFuY2UgdG8gbW92ZW1lbnQgb2YgdGhlIHNwcmluZ1xyXG4gICAgICAgIC8vIC8vIERhbXBpbmcgZGV0ZXJtaW5lcyBob3cgZmFzdCB0aGUgc3ByaW5nIGxvc2VzIGl0J3MgXCJib2luZ1wiICBPdXIgbG93IGRhbXBpbmcga2VlcHMgb3VyIHNwcmluZyBcImJvaW5naW5nXCJcclxuICAgICAgICAvLyAvLyBCb2luZyBpcyBhIHdvcmQgSSBtYWRlIHVwIHRvIGRlc2NyaWJlIHRoZSB1cCBhbmQgZG93biBtb3Rpb24gb2YgYSBzcHJpbmcgZG9pbmcgaXQncyBzcHJpbmcgdGhpbmdcclxuICAgICAgICAvLyB0aGlzLmdhbWUucGh5c2ljcy5wMi5jcmVhdGVTcHJpbmcodGhpcy5fcGxheWVyMSwgdGhpcy5fcGxheWVyMiwgMjAwLCAyLCAwLjMpO1xyXG5cclxuICAgICAgICAvLyAvLyBMZXRzIGxvb3AgYSB0aW1lZCBldmVudCBldmVyeSAxMCBzZWNvbmRzIHRoYXQgbW92ZXMgdGhlIG9uZSBlbmQgb2Ygb3VyIHNwcmluZyBiYWNrIHRvIHRoZSBzdGFydFxyXG4gICAgICAgIC8vIC8vIE1vc3RseSBqdXN0IHNvIHBlb3BsZSB0aGF0IGRpZG4ndCBzZWUgaXQgcnVuIHRoZSBmaXJzdCB0aW1lIGluIHRoZSBicm93c2VyIGhhdmUgc29tZXRoaW5nIHRvIHNlZSFcclxuICAgICAgICAvLyB0aGlzLmdhbWUudGltZS5ldmVudHMubG9vcChQaGFzZXIuVGltZXIuU0VDT05EICogNSwgKCkgPT5cclxuICAgICAgICAvLyB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuX3BsYXllcjIuYm9keS54ID0gdGhpcy5nYW1lLndpZHRoIC8gMjtcclxuICAgICAgICAvLyAgICAgdGhpcy5fcGxheWVyMi5ib2R5LnkgPSB0aGlzLmdhbWUuaGVpZ2h0O1xyXG4gICAgICAgIC8vIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyAjMlxyXG4gICAgICAgIHRoaXMuX3BsYXllcjEgPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSgwLCAwLCBcIm1lZ2F0cm9uXCIpO1xyXG4gICAgICAgIHRoaXMuX3BsYXllcjIgPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSgwLCAwLCBcIm1lZ2F0cm9uXCIpO1xyXG5cclxuICAgICAgICAvLyBCZWluZyBsYXp5LCBwb3NpdGlvbmluZyBzcHJpdGUgYWZ0ZXIgY3JlYXRpb24gc28gd2UgaGF2ZSBhIHZhbGlkIHdpZHRoL2hlaWdodFxyXG4gICAgICAgIHRoaXMuX3BsYXllcjEucG9zaXRpb24uc2V0KHRoaXMuX3BsYXllcjEud2lkdGggLyAyLCAxNTApO1xyXG5cclxuICAgICAgICAvLyBOb3cgYW5vdGhlciBzcHJpdGUgb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIHNjcmVlbiwgZG93biBzbGlnaHRseVxyXG4gICAgICAgIHRoaXMuX3BsYXllcjIucG9zaXRpb24uc2V0KHRoaXMuZ2FtZS53aWR0aCAvIDIsIDE1MCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZS5waHlzaWNzLnN0YXJ0U3lzdGVtKFBoYXNlci5QaHlzaWNzLlAySlMpO1xyXG5cclxuICAgICAgICAvLyBQYXNzaW5nIGluIHRydWUgd2hpbGUgZW5hYmxpbmcgcGh5c2ljcyBvbiBhbiBvYmplY3QgY2F1c2VzIHRoZSBkZWJ1ZyByZW5kZXJlciB0byBkcmF3IHRoZSBwaHlzaWNzIGJvZHlcclxuICAgICAgICB0aGlzLmdhbWUucGh5c2ljcy5wMi5lbmFibGUoW3RoaXMuX3BsYXllcjEsIHRoaXMuX3BsYXllcjJdLCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gWW91IG5lZWQgdG8gY2FsbCBjbGVhclNoYXBlcygpIHRvIGdldCByaWQgb2YgdGhlIGV4aXN0aW5nIGJvdW5kaW5nIGJveFxyXG4gICAgICAgIHRoaXMuX3BsYXllcjEuYm9keS5jbGVhclNoYXBlcygpO1xyXG4gICAgICAgIHRoaXMuX3BsYXllcjIuYm9keS5jbGVhclNoYXBlcygpO1xyXG5cclxuICAgICAgICAvLyBOb3cgbG9hZCB0aGUgcG9seWdvbiBib3VuZGluZyBkYXRhIHdlIGNyZWF0ZWQgZXh0ZXJuYWxseVxyXG4gICAgICAgIHRoaXMuX3BsYXllcjEuYm9keS5sb2FkUG9seWdvbihcInBoeXNpY3NJbmZvXCIsIFwibWVnYXRyb25cIik7XHJcbiAgICAgICAgdGhpcy5fcGxheWVyMi5ib2R5LmxvYWRQb2x5Z29uKFwicGh5c2ljc0luZm9cIiwgXCJtZWdhdHJvblwiKTtcclxuXHJcbiAgICAgICAgLy8gTm93IGxldCdzIGdldCB0aGlzIHBhcnR5IHN0YXJ0ZWRcclxuICAgICAgICB0aGlzLl9wbGF5ZXIyLmJvZHkubW92ZUxlZnQoODApO1xyXG5cclxuICAgICAgICAvLyBGaW5hbGx5LCB3aGVuIHRoZSBjb2xsaXNpb24gb2NjdXJzLCBtb3ZlIGJhY2sgdG8gdGhlIGJlZ2lubmluZyBhbmQgc3RhcnQgb3ZlclxyXG4gICAgICAgIHRoaXMuX3BsYXllcjIuYm9keS5vbkJlZ2luQ29udGFjdC5hZGQoXHJcbiAgICAgICAgICAgIChib2R5OiBhbnksIGJvZHlCOiBhbnksIHNoYXBlQTogYW55LCBzaGFwZUI6IGFueSwgZXF1YXRpb246IGFueSkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsYXllcjIuYm9keS54ID0gdGhpcy5nYW1lLndpZHRoIC8gMjtcclxuICAgICAgICAgICAgdGhpcy5fcGxheWVyMi5ib2R5LnkgPSAxNTA7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiXHJcbmltcG9ydCB7IEdhbWUgfSBmcm9tIFwiLi9HYW1lXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvZ3JhbVxyXG57XHJcbiAgICBwdWJsaWMgc3RhdGljIE1haW4oKVxyXG4gICAge1xyXG4gICAgICAgIG5ldyBHYW1lKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PlxyXG57XHJcbiAgICBQcm9ncmFtLk1haW4oKTtcclxufTtcclxuIl19"}