var a0_0x21ad92=a0_0x4560;(function(_0x168fcb,_0x5dce48){var _0xe73cf3=a0_0x4560,_0x29e3e2=_0x168fcb();while(!![]){try{var _0x186fd9=parseInt(_0xe73cf3(0xb8))/0x1+parseInt(_0xe73cf3(0x102))/0x2+-parseInt(_0xe73cf3(0xbd))/0x3*(-parseInt(_0xe73cf3(0xd2))/0x4)+-parseInt(_0xe73cf3(0x13b))/0x5+parseInt(_0xe73cf3(0x10c))/0x6*(-parseInt(_0xe73cf3(0xa4))/0x7)+-parseInt(_0xe73cf3(0x11e))/0x8*(parseInt(_0xe73cf3(0x113))/0x9)+-parseInt(_0xe73cf3(0x114))/0xa*(-parseInt(_0xe73cf3(0x90))/0xb);if(_0x186fd9===_0x5dce48)break;else _0x29e3e2['push'](_0x29e3e2['shift']());}catch(_0x1e41fc){_0x29e3e2['push'](_0x29e3e2['shift']());}}}(a0_0x34d3,0x563cb));import{mat4,vec3,quat,glMatrix,vec4}from'gl-matrix';import a0_0x1f0fb1 from'ammo';let Ammo=null,world=null;function initAmmo(){return new Promise(_0x1d1507=>{a0_0x1f0fb1()['then'](_0x58b938=>{var _0x1f6665=a0_0x4560,_0x58b938=new(Ammo=_0x58b938)[(_0x1f6665(0xc4))](),_0x52b8c1=new Ammo[(_0x1f6665(0xa3))](_0x58b938),_0x5e2527=new Ammo[(_0x1f6665(0xdd))](),_0x3b8764=new Ammo[(_0x1f6665(0x75))]();(world=new Ammo[(_0x1f6665(0x10e))](_0x52b8c1,_0x5e2527,_0x3b8764,_0x58b938))[_0x1f6665(0x95)](new Ammo[(_0x1f6665(0xfe))](0x0,-9.8,0x0)),_0x1d1507();});});}let gl=null;function initWebGLContext(_0x5ec933){var _0x528bd5=a0_0x4560,_0x52c339=document['getElementById'](_0x5ec933);return null===_0x52c339?(console['log'](_0x528bd5(0xbc)+_0x5ec933+'\x22'),!0x1):(gl=_0x52c339[_0x528bd5(0x8f)](_0x528bd5(0x116),{'alpha':!0x1,'premultipliedAlpha':!0x1}),!0x0);}async function createProgram(_0x594e97,_0x4d0df7,_0x79e0cf){var _0xcf5116=a0_0x4560;let _0x571297=await fetch(_0x594e97+_0x4d0df7);var _0x3fa2f3,_0x25528f=await _0x571297[_0xcf5116(0x79)](),_0x594e97=await(_0x571297=await fetch(_0x594e97+_0x79e0cf))[_0xcf5116(0x79)](),_0x226764=gl[_0xcf5116(0xc8)](gl['VERTEX_SHADER']),_0x25528f=(gl[_0xcf5116(0x10a)](_0x226764,_0x25528f),gl[_0xcf5116(0xa6)](_0x226764),gl['getShaderParameter'](_0x226764,gl[_0xcf5116(0x12c)]));return _0x25528f?(_0x3fa2f3=gl[_0xcf5116(0xc8)](gl[_0xcf5116(0x13d)]),gl[_0xcf5116(0x10a)](_0x3fa2f3,_0x594e97),gl['compileShader'](_0x3fa2f3),(_0x25528f=gl[_0xcf5116(0x12d)](_0x3fa2f3,gl['COMPILE_STATUS']))?(_0x594e97=gl[_0xcf5116(0x136)](),gl[_0xcf5116(0xc0)](_0x594e97,_0x226764),gl['attachShader'](_0x594e97,_0x3fa2f3),gl[_0xcf5116(0x124)](_0x594e97),(_0x25528f=gl['getProgramParameter'](_0x594e97,gl[_0xcf5116(0x140)]))?(gl[_0xcf5116(0x103)](_0x594e97),_0x594e97):(console['log'](_0xcf5116(0xc9)+_0x4d0df7+_0xcf5116(0xa9)+_0x79e0cf),console[_0xcf5116(0x104)](gl['getProgramInfoLog'](_0x594e97)),null)):(console[_0xcf5116(0x104)](_0x79e0cf+':\x20'+gl[_0xcf5116(0x89)](_0x3fa2f3)),null)):(console[_0xcf5116(0x104)](_0x4d0df7+':\x20'+gl[_0xcf5116(0x89)](_0x226764)),null);}async function initVertexBuffers(_0x245bb8,_0x11c119){var _0x31c1bb=a0_0x4560,_0x24a036={};for(let _0x4e9219=0x0;_0x4e9219<_0x11c119['length'];_0x4e9219++){var _0x4fde34=await(await fetch(_0x245bb8+_0x11c119[_0x4e9219]+_0x31c1bb(0x129)))[_0x31c1bb(0x79)](),_0x4fde34=new DOMParser()[_0x31c1bb(0xcf)](_0x4fde34,'text/xml');let _0x5c068d=_0x4fde34[_0x31c1bb(0xe8)](_0x31c1bb(0x7f),_0x4fde34,null,XPathResult['ANY_TYPE'],null),_0x887260=_0x5c068d['iterateNext']();var _0x8bc003,_0x294f6a,_0x381e04,_0x55baa2,_0x17999b,_0x4733fc=_0x887260[_0x31c1bb(0x142)][_0x31c1bb(0x118)]()[_0x31c1bb(0xd0)]('\x20')['map'](_0x45c687=>parseInt(_0x45c687)),_0x14b64e=(_0x5c068d=_0x4fde34[_0x31c1bb(0xe8)](_0x31c1bb(0xe6),_0x4fde34,null,XPathResult[_0x31c1bb(0x66)],null),(_0x887260=_0x5c068d['iterateNext']())[_0x31c1bb(0x142)][_0x31c1bb(0x118)]()[_0x31c1bb(0xd0)]('\x20')[_0x31c1bb(0xb5)](_0x3287b9=>parseFloat(_0x3287b9))),_0x265751=(_0x5c068d=_0x4fde34[_0x31c1bb(0xe8)](_0x31c1bb(0xde),_0x4fde34,null,XPathResult[_0x31c1bb(0x66)],null),(_0x887260=_0x5c068d[_0x31c1bb(0xef)]())[_0x31c1bb(0x142)][_0x31c1bb(0x118)]()['split']('\x20')['map'](_0x312e5b=>parseFloat(_0x312e5b))),_0x53edac=(_0x5c068d=_0x4fde34[_0x31c1bb(0xe8)]('//*[local-name()\x20=\x20\x27float_array\x27][substring(@id,\x20string-length(@id)\x20-string-length(\x27mesh-map-0-array\x27)\x20+\x201)\x20=\x20\x27mesh-map-0-array\x27]',_0x4fde34,null,XPathResult[_0x31c1bb(0x66)],null),(_0x887260=_0x5c068d[_0x31c1bb(0xef)]())[_0x31c1bb(0x142)][_0x31c1bb(0x118)]()[_0x31c1bb(0xd0)]('\x20')[_0x31c1bb(0xb5)](_0x7a183c=>parseFloat(_0x7a183c))),_0x4a9502=mat4[_0x31c1bb(0x11b)](),_0x338db1=(mat4[_0x31c1bb(0x73)](_0x4a9502,-Math['PI']/0x2),[]),_0x86c309=[],_0x3298f1=[],_0x345d1d=_0x4733fc[_0x31c1bb(0xf2)]/0x9;for(let _0xa751e6=0x0;_0xa751e6<_0x345d1d;_0xa751e6++)for(let _0x1a185c=0x0;_0x1a185c<0x9;_0x1a185c++)(0x9*_0xa751e6+_0x1a185c)%0x3==0x0?(_0x294f6a=_0x14b64e[0x3*_0x4733fc[0x9*_0xa751e6+_0x1a185c]+0x0],_0x381e04=_0x14b64e[0x3*_0x4733fc[0x9*_0xa751e6+_0x1a185c]+0x1],_0x8bc003=_0x14b64e[0x3*_0x4733fc[0x9*_0xa751e6+_0x1a185c]+0x2],_0x294f6a=vec3['fromValues'](_0x294f6a,_0x381e04,_0x8bc003),_0x381e04=vec3[_0x31c1bb(0x11b)](),vec3['transformMat4'](_0x381e04,_0x294f6a,_0x4a9502),_0x338db1[_0x31c1bb(0xa7)](_0x381e04[0x0]),_0x338db1[_0x31c1bb(0xa7)](_0x381e04[0x1]),_0x338db1[_0x31c1bb(0xa7)](_0x381e04[0x2])):(0x9*_0xa751e6+_0x1a185c)%0x3==0x1?(_0x8bc003=_0x265751[0x3*_0x4733fc[0x9*_0xa751e6+_0x1a185c]+0x0],_0x294f6a=_0x265751[0x3*_0x4733fc[0x9*_0xa751e6+_0x1a185c]+0x1],_0x381e04=_0x265751[0x3*_0x4733fc[0x9*_0xa751e6+_0x1a185c]+0x2],_0x55baa2=vec3['fromValues'](_0x8bc003,_0x294f6a,_0x381e04),_0x17999b=vec3[_0x31c1bb(0x11b)](),vec3[_0x31c1bb(0xf1)](_0x17999b,_0x55baa2,_0x4a9502),_0x86c309[_0x31c1bb(0xa7)](_0x17999b[0x0]),_0x86c309[_0x31c1bb(0xa7)](_0x17999b[0x1]),_0x86c309[_0x31c1bb(0xa7)](_0x17999b[0x2])):(0x9*_0xa751e6+_0x1a185c)%0x3==0x2&&(_0x3298f1[_0x31c1bb(0xa7)](_0x53edac[0x2*_0x4733fc[0x9*_0xa751e6+_0x1a185c]+0x0]),_0x3298f1[_0x31c1bb(0xa7)](_0x53edac[0x2*_0x4733fc[0x9*_0xa751e6+_0x1a185c]+0x1]));var _0x4fde34=gl[_0x31c1bb(0xc7)](),_0x4f0eef=(gl[_0x31c1bb(0xaa)](gl[_0x31c1bb(0x69)],_0x4fde34),gl[_0x31c1bb(0x8d)](gl[_0x31c1bb(0x69)],new Float32Array(_0x338db1),gl[_0x31c1bb(0x10b)]),gl[_0x31c1bb(0xc7)]()),_0x3ad1d1=(gl[_0x31c1bb(0xaa)](gl[_0x31c1bb(0x69)],_0x4f0eef),gl[_0x31c1bb(0x8d)](gl[_0x31c1bb(0x69)],new Float32Array(_0x86c309),gl[_0x31c1bb(0x10b)]),gl['createBuffer']()),_0x4fde34=(gl[_0x31c1bb(0xaa)](gl['ARRAY_BUFFER'],_0x3ad1d1),gl[_0x31c1bb(0x8d)](gl[_0x31c1bb(0x69)],new Float32Array(_0x3298f1),gl['STATIC_DRAW']),{'vertPosBuffer':_0x4fde34,'normalBuffer':_0x4f0eef,'texCoordBuffer':_0x3ad1d1,'amountOfVertices':_0x338db1['length']/0x3});_0x24a036[_0x11c119[_0x4e9219]]=_0x4fde34;}return _0x24a036;}class Collider{constructor(_0x173bf9,_0x5548b7,_0x3fd2b6,_0x12406a){var _0x3df20a=a0_0x4560;this[_0x3df20a(0xb3)]=_0x173bf9,this[_0x3df20a(0xbb)]=_0x5548b7,this[_0x3df20a(0x86)]=null,this[_0x3df20a(0x108)]=new Ammo[(_0x3df20a(0xda))](),this['tempRotation']=null;var _0x173bf9=new Ammo['btVector3'](_0x173bf9[0x0],_0x173bf9[0x1],_0x173bf9[0x2]),_0x5548b7=new Ammo[(_0x3df20a(0x6b))](_0x5548b7[0x0],_0x5548b7[0x1],_0x5548b7[0x2],_0x5548b7[0x3]),_0x3cc22f=new Ammo[(_0x3df20a(0xda))](),_0x173bf9=(_0x3cc22f['setIdentity'](),_0x3cc22f['setOrigin'](_0x173bf9),_0x3cc22f[_0x3df20a(0x111)](_0x5548b7),new Ammo['btDefaultMotionState'](_0x3cc22f)),_0x5548b7=new Ammo[(_0x3df20a(0xfe))](0x0,0x0,0x0),_0x3cc22f=(0.001<=_0x12406a&&_0x3fd2b6['calculateLocalInertia'](_0x12406a,_0x5548b7),new Ammo['btRigidBodyConstructionInfo'](_0x12406a,_0x173bf9,_0x3fd2b6,_0x5548b7));this[_0x3df20a(0x76)]=new Ammo[(_0x3df20a(0x7e))](_0x3cc22f),this['body'][_0x3df20a(0x143)](0x4),this[_0x3df20a(0x76)][_0x3df20a(0x97)](0x1),this[_0x3df20a(0x76)][_0x3df20a(0x94)](0.1),world['addRigidBody'](this[_0x3df20a(0x76)]);}['update'](){var _0x4bc485=a0_0x4560;this[_0x4bc485(0x86)]=this['body'][_0x4bc485(0xa5)](),this[_0x4bc485(0x86)]&&(this[_0x4bc485(0x86)]['getWorldTransform'](this[_0x4bc485(0x108)]),this['position'][0x0]=this[_0x4bc485(0x108)][_0x4bc485(0x72)]()['x'](),this[_0x4bc485(0xb3)][0x1]=this['tempTransform'][_0x4bc485(0x72)]()['y'](),this[_0x4bc485(0xb3)][0x2]=this[_0x4bc485(0x108)][_0x4bc485(0x72)]()['z'](),this[_0x4bc485(0xae)]=this[_0x4bc485(0x108)][_0x4bc485(0xed)](),this[_0x4bc485(0xbb)][0x0]=this[_0x4bc485(0xae)]['x'](),this[_0x4bc485(0xbb)][0x1]=this[_0x4bc485(0xae)]['y'](),this[_0x4bc485(0xbb)][0x2]=this[_0x4bc485(0xae)]['z'](),this['rotation'][0x3]=this[_0x4bc485(0xae)]['w']());}}function a0_0x34d3(){var _0x436ad2=['Failed\x20to\x20get\x20a\x20canvas\x20element\x20with\x20the\x20name\x20\x22','1183449hrghQL','toX','projViewMatrix','attachShader','assets/models/','getDebugMode','pressed','btDefaultCollisionConfiguration','setLinearVelocity','fromRotationTranslationScale','createBuffer','createShader','Link\x20error\x20with\x20shaders\x20','bind','button','doMouseDrag','drawLine','onclick','parseFromString','split','getUniformLocation','4DRjKlR','wheel','modelMatrix','btSphereShape','removeEventListener','setDebugDrawer','rotationTo','pointerLockElement','btTransform','centerX','cos','btDbvtBroadphase','//*[local-name()\x20=\x20\x27float_array\x27][substring(@id,\x20string-length(@id)\x20-string-length(\x27mesh-normals-array\x27)\x20+\x201)\x20=\x20\x27mesh-normals-array\x27]','isPanning','debugMode','clientX','getElementById','DEPTH_TEST','repeat','setAngularFactor','//*[local-name()\x20=\x20\x27float_array\x27][substring(@id,\x20string-length(@id)\x20-string-length(\x27mesh-positions-array\x27)\x20+\x201)\x20=\x20\x27mesh-positions-array\x27]','mousedown','evaluate','toY','FLOAT','debugDrawer','style','getRotation','cross','iterateNext','transformQuat','transformMat4','length','setDebugMode','keyup','heap','forEach','requestPointerLock','color.frag','centerY','ArrowUp','ArrowRight','lightless.frag','fromZ','btVector3','getBoundingClientRect','uColorLocation','prevXForPan','297460HFsnom','useProgram','log','getAttribLocation','mousemove','boundDoMousePanDrag','tempTransform','top','shaderSource','STATIC_DRAW','24SvTezu','keys','btDiscreteDynamicsWorld','translate','left','setRotation','drawCallback','18AWbPiS','180KnkqxL','aPositionLocation','webgl','uColor','trim','ArrowLeft','identity','create','panY','doMousePanDrag','220016dHQiYd','renderCanvas','doMouseUp','mouseup','getViewMatrix','program','linkProgram','scale','isDraging','rotateX','onmousemove','.dae','doMouseWheel','canvas','COMPILE_STATUS','getShaderParameter','addEventListener','none','abs','prevYForPan','vec','amountOfVertices','movementY','toRadian','createProgram','edge','uniformMatrix4fv','oncontextmenu','vertPosBuffer','924020aTFwmt','debugDrawWorld','FRAGMENT_SHADER','uniform3fv','center','LINK_STATUS','instructions','textContent','setActivationState','movementX','boundDoMousePanUp','ANY_TYPE','onpointerlockchange','fromY','ARRAY_BUFFER','vertexAttribPointer','btQuaternion','KeyW','mvpMatrix','getLinearVelocity','clear','assets/shaders/','onKeyChange','getOrigin','fromXRotation','display','btSequentialImpulseConstraintSolver','body','mul','btBoxShape','text','fromValues','prevY','clientY','deltaY','btRigidBody','//*[local-name()\x20=\x20\x27p\x27]/text()','update','KeyA','onresize','code','vertexBuffers','rotateZ','tempMotionState','xLimit','doMousePanDawn','getShaderInfoLog','enableVertexAttribArray','min','centerZ','bufferData','onkeydown','getContext','10681waRaGS','drawArrays','boundDoMouseDrag','add','setRollingFriction','setGravity','toZ','setFriction','preventDefault','reportErrorWarning','draw','fromX','keydown','lookAt','height','uMvpMatrix','HEAPF32','rotateY','width','btCollisionDispatcher','34902qjNKCn','getMotionState','compileShader','push','perspective','\x20and\x20','bindBuffer','doMouseDown','setAngularVelocity','setDamping','tempRotation','prevX','max','sin','viewDistance','position','boundDoMouseUp','map','unitX','aPosition','52288xPeSAA','KeyD','clearColor','rotation'];a0_0x34d3=function(){return _0x436ad2;};return a0_0x34d3();}class DebugDrawer{constructor(_0x4f1ecb){var _0x4c2317=a0_0x4560;this['edge']=_0x4f1ecb,this[_0x4c2317(0xbf)]=null,this[_0x4c2317(0xf5)]=null,this[_0x4c2317(0xeb)]=new Ammo['DebugDrawer'](),this['debugDrawer']['drawLine']=((_0x167873,_0x136102,_0x3dbd58)=>{var _0x5ebc30=_0x4c2317;this[_0x5ebc30(0xcd)](_0x167873,_0x136102,_0x3dbd58);})['bind'](this),this['debugDrawer'][_0x4c2317(0xf3)]=()=>{},this['debugMode']=0x1,this['debugDrawer'][_0x4c2317(0xc2)]=()=>this[_0x4c2317(0xe0)],this[_0x4c2317(0xeb)]['setDebugMode'](0x1),this[_0x4c2317(0xeb)]['drawContactPoint']=(_0x3cf5f1,_0x2b658a,_0x4d345e,_0xb72c9a,_0xd94aa5)=>{},this['debugDrawer'][_0x4c2317(0x99)]=_0x1e2484=>{},this[_0x4c2317(0xeb)]['draw3dText']=(_0x4efa4c,_0xdf9f04)=>{},world[_0x4c2317(0xd7)](this['debugDrawer']),this[_0x4c2317(0x9b)]=0x0,this[_0x4c2317(0x68)]=0x0,this[_0x4c2317(0xfd)]=0x0,this[_0x4c2317(0xbe)]=0x0,this[_0x4c2317(0xe9)]=0x0,this['toZ']=0x0,this['r']=0x0,this['g']=0x0,this['b']=0x0,this[_0x4c2317(0xdb)]=0x0,this[_0x4c2317(0xf9)]=0x0,this[_0x4c2317(0x8c)]=0x0,this[_0x4c2317(0xf2)]=0x0,this[_0x4c2317(0x132)]=vec3[_0x4c2317(0x11b)](),this['x']=0x0,this['y']=0x0,this['z']=0x0,this[_0x4c2317(0xb6)]=vec3['fromValues'](0x1,0x0,0x0);}[a0_0x21ad92(0xcd)](_0x372058,_0x2369e2,_0x39a177){var _0x2a6fee=a0_0x21ad92;this['heap']=Ammo[_0x2a6fee(0xa0)],this[_0x2a6fee(0x9b)]=this[_0x2a6fee(0xf5)][(parseInt(_0x372058)+0x0)/0x4],this['fromY']=this[_0x2a6fee(0xf5)][(parseInt(_0x372058)+0x4)/0x4],this[_0x2a6fee(0xfd)]=this[_0x2a6fee(0xf5)][(parseInt(_0x372058)+0x8)/0x4],this[_0x2a6fee(0xbe)]=this[_0x2a6fee(0xf5)][(parseInt(_0x2369e2)+0x0)/0x4],this[_0x2a6fee(0xe9)]=this[_0x2a6fee(0xf5)][(parseInt(_0x2369e2)+0x4)/0x4],this[_0x2a6fee(0x96)]=this[_0x2a6fee(0xf5)][(parseInt(_0x2369e2)+0x8)/0x4],this['r']=this[_0x2a6fee(0xf5)][(parseInt(_0x39a177)+0x0)/0x4],this['g']=this['heap'][(parseInt(_0x39a177)+0x4)/0x4],this['b']=this[_0x2a6fee(0xf5)][(parseInt(_0x39a177)+0x8)/0x4],this[_0x2a6fee(0x9b)]>this[_0x2a6fee(0xbe)]?this[_0x2a6fee(0xdb)]=this[_0x2a6fee(0xbe)]+Math[_0x2a6fee(0x130)](this['fromX']-this[_0x2a6fee(0xbe)])/0x2:this[_0x2a6fee(0xdb)]=this[_0x2a6fee(0x9b)]+Math[_0x2a6fee(0x130)](this[_0x2a6fee(0xbe)]-this[_0x2a6fee(0x9b)])/0x2,this[_0x2a6fee(0x68)]>this[_0x2a6fee(0xe9)]?this[_0x2a6fee(0xf9)]=this[_0x2a6fee(0xe9)]+Math['abs'](this[_0x2a6fee(0x68)]-this[_0x2a6fee(0xe9)])/0x2:this['centerY']=this['fromY']+Math[_0x2a6fee(0x130)](this[_0x2a6fee(0xe9)]-this[_0x2a6fee(0x68)])/0x2,this[_0x2a6fee(0xfd)]>this[_0x2a6fee(0x96)]?this['centerZ']=this[_0x2a6fee(0x96)]+Math[_0x2a6fee(0x130)](this['fromZ']-this[_0x2a6fee(0x96)])/0x2:this[_0x2a6fee(0x8c)]=this['fromZ']+Math[_0x2a6fee(0x130)](this[_0x2a6fee(0x96)]-this['fromZ'])/0x2,this[_0x2a6fee(0x132)][0x0]=this['toX']-this[_0x2a6fee(0x9b)],this['vec'][0x1]=this[_0x2a6fee(0xe9)]-this[_0x2a6fee(0x68)],this[_0x2a6fee(0x132)][0x2]=this[_0x2a6fee(0x96)]-this[_0x2a6fee(0xfd)],this[_0x2a6fee(0xf2)]=vec3[_0x2a6fee(0xf2)](this[_0x2a6fee(0x132)]),vec3['normalize'](this[_0x2a6fee(0x132)],this[_0x2a6fee(0x132)]),quat[_0x2a6fee(0xd8)](this['edge'][_0x2a6fee(0xbb)],this[_0x2a6fee(0xb6)],this[_0x2a6fee(0x132)]),this[_0x2a6fee(0x137)][_0x2a6fee(0x125)]=[this['length'],0.03,0.03],this[_0x2a6fee(0x137)]['position']=[this[_0x2a6fee(0xdb)],this['centerY'],this['centerZ']],this[_0x2a6fee(0x137)][_0x2a6fee(0x9a)](this['projViewMatrix'],[this['r'],this['g'],this['b']]);}}class OrbitControls{constructor(_0x5ceb13,_0x51fbd7,_0x32e72c,_0x48f5bd,_0x3e610a,_0x5878a4,_0x4b4eff){var _0x2ad502=a0_0x21ad92;this[_0x2ad502(0x12b)]=_0x5ceb13,this[_0x2ad502(0x87)]=0x55,this[_0x2ad502(0xdf)]=!0x1,this['panX']=_0x5878a4,this[_0x2ad502(0x11c)]=_0x4b4eff,this['prevXForPan']=0x0,this[_0x2ad502(0x131)]=0x0,this[_0x2ad502(0x13f)]=vec3[_0x2ad502(0x11b)](),this['m']=mat4['create'](),this[_0x2ad502(0x12b)][_0x2ad502(0x139)]=_0x11ee29=>(_0x11ee29[_0x2ad502(0x98)](),!0x1),_0x5ceb13[_0x2ad502(0x12e)]('mousedown',_0x12e734=>{var _0x10a404=_0x2ad502;0x0===_0x12e734[_0x10a404(0xcb)]||0x1===_0x12e734[_0x10a404(0xcb)]?this[_0x10a404(0xab)](_0x12e734):0x2===_0x12e734['button']&&this[_0x10a404(0x88)](_0x12e734);},!0x1),_0x5ceb13['addEventListener'](_0x2ad502(0xd3),_0x29be4f=>{this['doMouseWheel'](_0x29be4f);},!0x1),this['rotateX']=_0x48f5bd,this[_0x2ad502(0xa1)]=_0x3e610a,this[_0x2ad502(0xb2)]=_0x32e72c,this['drawCallback']=_0x51fbd7,this[_0x2ad502(0x92)]=this[_0x2ad502(0xcc)][_0x2ad502(0xca)](this),this[_0x2ad502(0xb4)]=this['doMouseUp']['bind'](this),this[_0x2ad502(0x107)]=this[_0x2ad502(0x11d)]['bind'](this),this[_0x2ad502(0x65)]=this['doMousePanUp']['bind'](this);}[a0_0x21ad92(0x122)](_0xa7f419){var _0xde0169=a0_0x21ad92,_0x22202d=Math[_0xde0169(0xdc)](glMatrix['toRadian'](this[_0xde0169(0x127)])),_0x5078fe=Math[_0xde0169(0xb1)](glMatrix[_0xde0169(0x135)](this['rotateX'])),_0x3c9105=Math[_0xde0169(0xdc)](glMatrix[_0xde0169(0x135)](this[_0xde0169(0xa1)])),_0x62f91=Math['sin'](glMatrix[_0xde0169(0x135)](this[_0xde0169(0xa1)])),_0x75f864=vec3['fromValues'](_0x5078fe*_0x62f91,_0x22202d,-_0x5078fe*_0x3c9105),_0x62f91=vec3[_0xde0169(0x7a)](-_0x22202d*_0x62f91,_0x5078fe,_0x22202d*_0x3c9105),_0x5078fe=mat4['create'](),_0x22202d=(vec3[_0xde0169(0x125)](_0x62f91,_0x62f91,this[_0xde0169(0xb2)]),vec3[_0xde0169(0x11b)]());return vec3[_0xde0169(0x93)](_0x22202d,_0x62f91,this[_0xde0169(0x13f)]),mat4[_0xde0169(0x9d)](_0x5078fe,_0x22202d,this[_0xde0169(0x13f)],_0x75f864),_0x5078fe;}['doMouseDown'](_0x26ea32){var _0x4abbfd=a0_0x21ad92;this['isDraging']=!0x0,document[_0x4abbfd(0x12e)](_0x4abbfd(0x106),this[_0x4abbfd(0x92)],!0x1),document[_0x4abbfd(0x12e)](_0x4abbfd(0x121),this[_0x4abbfd(0xb4)],!0x1);var _0x286daa=this['canvas'][_0x4abbfd(0xff)]();this['prevX']=_0x26ea32[_0x4abbfd(0xe1)]-_0x286daa['left'],this['prevY']=_0x26ea32[_0x4abbfd(0x7c)]-_0x286daa[_0x4abbfd(0x109)];}[a0_0x21ad92(0xcc)](_0x39873b){var _0x281e99=a0_0x21ad92,_0x1163e6,_0x346fe3,_0x26c214,_0x456c8e;this[_0x281e99(0x126)]&&(_0x456c8e=this[_0x281e99(0x12b)][_0x281e99(0xff)](),_0x1163e6=_0x39873b[_0x281e99(0xe1)]-_0x456c8e['left'],_0x346fe3=0xb4/this[_0x281e99(0x12b)][_0x281e99(0x9e)],_0x26c214=0xb4/this[_0x281e99(0x12b)][_0x281e99(0xa2)],_0x39873b=this['rotateX']+_0x346fe3*((_0x346fe3=_0x39873b[_0x281e99(0x7c)]-_0x456c8e[_0x281e99(0x109)])-this[_0x281e99(0x7b)]),_0x456c8e=this[_0x281e99(0xa1)]+_0x26c214*(_0x1163e6-this[_0x281e99(0xaf)]),_0x39873b=Math[_0x281e99(0xb0)](-this[_0x281e99(0x87)],Math[_0x281e99(0x8b)](this['xLimit'],_0x39873b)),this[_0x281e99(0xaf)]=_0x1163e6,this[_0x281e99(0x7b)]=_0x346fe3,_0x39873b==this['rotateX']&&_0x456c8e==this[_0x281e99(0xa1)]||(this[_0x281e99(0x127)]=_0x39873b,this[_0x281e99(0xa1)]=_0x456c8e,this[_0x281e99(0x112)]()));}[a0_0x21ad92(0x120)](_0x852761){var _0x22fea8=a0_0x21ad92;this[_0x22fea8(0x126)]&&(this[_0x22fea8(0x126)]=!0x1,document[_0x22fea8(0xd6)](_0x22fea8(0xe7),this[_0x22fea8(0x92)],!0x1),document[_0x22fea8(0xd6)]('mouseup',this[_0x22fea8(0xb4)],!0x1));}[a0_0x21ad92(0x12a)](_0x4b1339){var _0x341edb=a0_0x21ad92;_0x4b1339=_0x4b1339[_0x341edb(0x7d)]/0x64,(this[_0x341edb(0xb2)]+=_0x4b1339,this[_0x341edb(0xb2)]<0x1?this[_0x341edb(0xb2)]-=_0x4b1339:this[_0x341edb(0x112)]());}[a0_0x21ad92(0x88)](_0x563961){var _0x327152=a0_0x21ad92,_0x542851;this[_0x327152(0xdf)]||(this[_0x327152(0xdf)]=!0x0,document['addEventListener'](_0x327152(0x106),this[_0x327152(0x107)],!0x1),document[_0x327152(0x12e)](_0x327152(0x121),this['boundDoMousePanUp'],!0x1),_0x542851=this[_0x327152(0x12b)][_0x327152(0xff)](),this[_0x327152(0x101)]=_0x563961[_0x327152(0xe1)]-_0x542851[_0x327152(0x110)],this['prevYForPan']=_0x563961[_0x327152(0x7c)]-_0x542851[_0x327152(0x109)]);}[a0_0x21ad92(0x11d)](_0x5f1ef2){var _0x3e0030=a0_0x21ad92,_0x17dda9,_0x4c31d1,_0x1c301e,_0x2a1b5e;this[_0x3e0030(0xdf)]&&(_0x4c31d1=this[_0x3e0030(0x12b)][_0x3e0030(0xff)](),_0x17dda9=_0x5f1ef2[_0x3e0030(0xe1)]-_0x4c31d1[_0x3e0030(0x110)],_0x5f1ef2=_0x5f1ef2[_0x3e0030(0x7c)]-_0x4c31d1['top'],_0x4c31d1=this['getViewMatrix'](),_0x1c301e=vec3[_0x3e0030(0x7a)](_0x4c31d1[0x0],_0x4c31d1[0x4],_0x4c31d1[0x8]),_0x2a1b5e=(this[_0x3e0030(0x101)]-_0x17dda9)/0x64,vec3['scaleAndAdd'](this[_0x3e0030(0x13f)],this[_0x3e0030(0x13f)],_0x1c301e,_0x2a1b5e),_0x1c301e=vec3['fromValues'](_0x4c31d1[0x1],_0x4c31d1[0x5],_0x4c31d1[0x9]),_0x2a1b5e=(_0x5f1ef2-this[_0x3e0030(0x131)])/0x64,vec3['scaleAndAdd'](this[_0x3e0030(0x13f)],this['center'],_0x1c301e,_0x2a1b5e),this[_0x3e0030(0x101)]=_0x17dda9,this['prevYForPan']=_0x5f1ef2,this[_0x3e0030(0x112)]());}['doMousePanUp'](_0x41f236){var _0x3fa359=a0_0x21ad92;this[_0x3fa359(0xdf)]=!0x1,document[_0x3fa359(0xd6)](_0x3fa359(0xe7),this[_0x3fa359(0x107)],!0x1),document[_0x3fa359(0xd6)](_0x3fa359(0x121),this[_0x3fa359(0x65)],!0x1);}}function a0_0x4560(_0x432360,_0x2290d1){var _0x34d3c5=a0_0x34d3();return a0_0x4560=function(_0x45609b,_0x377412){_0x45609b=_0x45609b-0x65;var _0x418239=_0x34d3c5[_0x45609b];return _0x418239;},a0_0x4560(_0x432360,_0x2290d1);}class Keyboard{constructor(){var _0x5ae416=a0_0x21ad92;this[_0x5ae416(0x10d)]={},document[_0x5ae416(0x12e)](_0x5ae416(0x9c),_0x59f436=>{var _0x175bda=_0x5ae416;this[_0x175bda(0x71)](_0x59f436,!0x0);},!0x0),document[_0x5ae416(0x12e)](_0x5ae416(0xf4),_0x6f1291=>{var _0x33d286=_0x5ae416;this[_0x33d286(0x71)](_0x6f1291,!0x1);},!0x1);}['pressed'](_0x388db4){return this['keys'][_0x388db4];}[a0_0x21ad92(0x71)](_0x2c0016,_0x19ea45){var _0x5994f3=a0_0x21ad92;this[_0x5994f3(0x10d)][_0x2c0016[_0x5994f3(0x83)]]=_0x19ea45;}}class Lightless{constructor(_0x9f8301,_0x10fe2b){var _0x3a8cfa=a0_0x21ad92;this[_0x3a8cfa(0x123)]=_0x9f8301,this['vertexBuffers']=_0x10fe2b,this[_0x3a8cfa(0xb3)]=vec3[_0x3a8cfa(0x7a)](0x0,0x0,0x0),this[_0x3a8cfa(0xbb)]=quat['create'](),this[_0x3a8cfa(0x125)]=vec3[_0x3a8cfa(0x7a)](0x1,0x1,0x1),this[_0x3a8cfa(0x6d)]=mat4[_0x3a8cfa(0x11b)](),this[_0x3a8cfa(0xd4)]=mat4['create'](),gl[_0x3a8cfa(0x103)](_0x9f8301),this['aPositionLocation']=gl[_0x3a8cfa(0x105)](_0x9f8301,'aPosition'),this['uMvpMatrixLocation']=gl[_0x3a8cfa(0xd1)](_0x9f8301,_0x3a8cfa(0x9f)),this['uColorLocation']=gl[_0x3a8cfa(0xd1)](_0x9f8301,_0x3a8cfa(0x117));}[a0_0x21ad92(0xca)](){var _0x434179=a0_0x21ad92;gl[_0x434179(0xaa)](gl[_0x434179(0x69)],this['vertexBuffers'][_0x434179(0x13a)]),gl[_0x434179(0x6a)](this['aPositionLocation'],0x3,gl[_0x434179(0xea)],!0x1,0x0,0x0),gl[_0x434179(0x8a)](this[_0x434179(0x115)]);}[a0_0x21ad92(0x9a)](_0x2cd92b,_0xb9d44d){var _0x4bb5db=a0_0x21ad92;gl[_0x4bb5db(0x103)](this['program']),mat4[_0x4bb5db(0xc6)](this['modelMatrix'],this[_0x4bb5db(0xbb)],this[_0x4bb5db(0xb3)],this[_0x4bb5db(0x125)]),mat4[_0x4bb5db(0x77)](this[_0x4bb5db(0x6d)],_0x2cd92b,this[_0x4bb5db(0xd4)]),gl[_0x4bb5db(0x138)](this['uMvpMatrixLocation'],!0x1,this[_0x4bb5db(0x6d)]),gl[_0x4bb5db(0x13e)](this[_0x4bb5db(0x100)],_0xb9d44d),this[_0x4bb5db(0xca)](),gl[_0x4bb5db(0x91)](gl['TRIANGLES'],0x0,this[_0x4bb5db(0x84)][_0x4bb5db(0x133)]);}}let aPositionLocation,vertPosBuffer,uColorLocation,uMvpMatrixLocation,colorProgram,showColliders=!0x0,isOrbitControls=!0x1,orbitControls,debugDrawer,keyboard=new Keyboard(),inputs=[],playerCollider,forward=vec3[a0_0x21ad92(0x7a)](0x0,0x0,0x1),direction=vec3[a0_0x21ad92(0x7a)](forward[0x0],forward[0x1],forward[0x2]),linearSpeed=0x5,angularSpeed=0x5,cameraSpeed=0x1e,cameraAngleX=0x0,lowAngleLimit=0x32,highAngleLimit=-0x32,pitchForward=vec3[a0_0x21ad92(0x11b)](),forwardTrans=vec4[a0_0x21ad92(0x11b)](),dist=vec4[a0_0x21ad92(0x11b)](),cross=vec3[a0_0x21ad92(0x11b)](),mvpMatrix=mat4['create'](),modelMatrix=mat4[a0_0x21ad92(0x11b)](),viewMatrix=mat4[a0_0x21ad92(0x11b)](),projMatrix=mat4[a0_0x21ad92(0x11b)](),projViewMatrix=mat4[a0_0x21ad92(0x11b)](),sidePanel=document[a0_0x21ad92(0xe2)]('sidePanel'),showInstructions=!0x0,instructions=document[a0_0x21ad92(0xe2)](a0_0x21ad92(0x141));async function init(){var _0x26576c=a0_0x21ad92,_0x1056c5,_0x54c3c4;initWebGLContext(_0x26576c(0x11f))&&(gl[_0x26576c(0xba)](0.2,0.2,0.2,0x1),gl['enable'](gl[_0x26576c(0xe3)]),await initAmmo(),world['getGravity'](),colorProgram=await createProgram(_0x26576c(0x70),'color.vert',_0x26576c(0xf8)),vertPosBuffer=gl[_0x26576c(0xc7)](),gl[_0x26576c(0xaa)](gl[_0x26576c(0x69)],vertPosBuffer),gl[_0x26576c(0x8d)](gl[_0x26576c(0x69)],new Float32Array([-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5]),gl[_0x26576c(0x10b)]),aPositionLocation=gl[_0x26576c(0x105)](colorProgram,_0x26576c(0xb7)),uMvpMatrixLocation=gl['getUniformLocation'](colorProgram,_0x26576c(0x9f)),uColorLocation=gl[_0x26576c(0xd1)](colorProgram,_0x26576c(0x117)),_0x54c3c4=await initVertexBuffers(_0x26576c(0xc1),['cube']),_0x1056c5=await createProgram(_0x26576c(0x70),'lightless.vert',_0x26576c(0xfc)),_0x1056c5=new Lightless(_0x1056c5,_0x54c3c4['cube']),debugDrawer=new DebugDrawer(_0x1056c5),_0x54c3c4=[0x1e,0x1,0x1e],_0x1056c5=new Ammo[(_0x26576c(0x78))](new Ammo[(_0x26576c(0xfe))](_0x54c3c4[0x0]/0x2,_0x54c3c4[0x1]/0x2,_0x54c3c4[0x2]/0x2)),new Collider([0x0,-0.5,0x0],[0x0,0x0,0x0,0x1],_0x1056c5,0x0),_0x54c3c4=[0x5,0.5,0x5],_0x1056c5=new Ammo[(_0x26576c(0x78))](new Ammo[(_0x26576c(0xfe))](_0x54c3c4[0x0]/0x2,_0x54c3c4[0x1]/0x2,_0x54c3c4[0x2]/0x2)),new Collider([0x3,0.7,0x5],[-0.217,0x0,0x0,0.976],_0x1056c5,0x0),_0x54c3c4=[0x5,0.5,0x5],_0x1056c5=new Ammo['btBoxShape'](new Ammo[(_0x26576c(0xfe))](_0x54c3c4[0x0]/0x2,_0x54c3c4[0x1]/0x2,_0x54c3c4[0x2]/0x2)),new Collider([0x3,1.8,0xa],[0x0,0x0,0x0,0x1],_0x1056c5,0x0),_0x54c3c4=new Ammo[(_0x26576c(0xd5))](0x1),(playerCollider=new Collider([0x0,0x2,-0x5],[0x0,0x0,0x0,0x1],_0x54c3c4,0x50))[_0x26576c(0x76)][_0x26576c(0xe5)](0x0,0x1,0x0),playerCollider[_0x26576c(0x76)][_0x26576c(0xad)](0.9,0.99),orbitControls=new OrbitControls(gl[_0x26576c(0x12b)],()=>{var _0x2a88bd=_0x26576c;isOrbitControls&&(viewMatrix=orbitControls[_0x2a88bd(0x122)](),mat4[_0x2a88bd(0x77)](projViewMatrix,projMatrix,viewMatrix),debugDrawer[_0x2a88bd(0xbf)]=projViewMatrix);},0xa,0x1e,0x0,0x0,0x0),viewMatrix=orbitControls[_0x26576c(0x122)](),window[_0x26576c(0x82)]=()=>{var _0x5d1207=_0x26576c,_0x304d83=gl[_0x5d1207(0x12b)]['clientWidth'],_0xc47cd0=gl['canvas']['clientHeight'],_0x3ce925=(gl[_0x5d1207(0x12b)][_0x5d1207(0xa2)]=_0x304d83)/(gl['canvas']['height']=_0xc47cd0);gl['viewport'](0x0,0x0,_0x304d83,_0xc47cd0),mat4[_0x5d1207(0x11a)](projMatrix),mat4[_0x5d1207(0xa8)](projMatrix,glMatrix[_0x5d1207(0x135)](0x37),_0x3ce925,0.1,0x1f4),mat4[_0x5d1207(0x77)](projViewMatrix,projMatrix,viewMatrix),debugDrawer['projViewMatrix']=projViewMatrix,draw();},window[_0x26576c(0x82)](null));}function draw(){var _0x43829c=a0_0x21ad92,_0x5b3a5e,_0x48e597;keyboardHandler(),(isOrbitControls?applyThirdPersonInput:applyFirstPersonInput)(),playerCollider[_0x43829c(0x80)](),world['stepSimulation'](0.016,0x8),isOrbitControls||(mat4[_0x43829c(0x11a)](viewMatrix),vec3[_0x43829c(0x127)](pitchForward,forward,[0x0,0x0,0x0],glMatrix[_0x43829c(0x135)](cameraAngleX)),vec4[_0x43829c(0xf0)](forwardTrans,[pitchForward[0x0],pitchForward[0x1],pitchForward[0x2],0x0],playerCollider[_0x43829c(0xbb)]),vec4[_0x43829c(0x93)](dist,[playerCollider[_0x43829c(0xb3)][0x0],playerCollider[_0x43829c(0xb3)][0x1],playerCollider['position'][0x2],0x0],forwardTrans),_0x5b3a5e=vec3['create'](),_0x48e597=vec3[_0x43829c(0x7a)](forwardTrans[0x0],0x0,forwardTrans[0x2]),vec3['normalize'](_0x48e597,_0x48e597),vec3[_0x43829c(0x125)](_0x48e597,_0x48e597,0.5),vec3[_0x43829c(0x93)](_0x5b3a5e,[playerCollider[_0x43829c(0xb3)][0x0],playerCollider[_0x43829c(0xb3)][0x1]+0x4,playerCollider[_0x43829c(0xb3)][0x2]],_0x48e597),mat4[_0x43829c(0x9d)](viewMatrix,_0x5b3a5e,[dist[0x0],dist[0x1]+0x4,dist[0x2]],[0x0,0x1,0x0]),mat4['mul'](projViewMatrix,projMatrix,viewMatrix)),gl[_0x43829c(0x6f)](gl['COLOR_BUFFER_BIT']|gl['DEPTH_BUFFER_BIT']),gl[_0x43829c(0xaa)](gl[_0x43829c(0x69)],vertPosBuffer),gl[_0x43829c(0x6a)](aPositionLocation,0x2,gl[_0x43829c(0xea)],!0x1,0x0,0x0),gl['enableVertexAttribArray'](aPositionLocation),drawRectangle(0x0,0x0,0x1e,0x1e,[0x5a,0x0,0x0],[0.058,0.615,0.345]),showColliders&&world[_0x43829c(0x13c)](),requestAnimationFrame(draw);}function drawRectangle(_0x136d55,_0x25c4be,_0x4c4749,_0x39d992,_0x599adc,_0x1deff6){var _0x40e30d=a0_0x21ad92;gl['useProgram'](colorProgram),mat4['identity'](modelMatrix),mat4[_0x40e30d(0x10f)](modelMatrix,modelMatrix,[_0x136d55,_0x25c4be,0x0]),mat4[_0x40e30d(0x127)](modelMatrix,modelMatrix,glMatrix[_0x40e30d(0x135)](_0x599adc[0x0])),mat4[_0x40e30d(0xa1)](modelMatrix,modelMatrix,glMatrix[_0x40e30d(0x135)](_0x599adc[0x1])),mat4[_0x40e30d(0x85)](modelMatrix,modelMatrix,glMatrix[_0x40e30d(0x135)](_0x599adc[0x2])),mat4['scale'](modelMatrix,modelMatrix,[_0x4c4749,_0x39d992,0x1]),mat4['mul'](mvpMatrix,projViewMatrix,modelMatrix),gl['uniformMatrix4fv'](uMvpMatrixLocation,!0x1,mvpMatrix),gl['uniform3fv'](uColorLocation,_0x1deff6),gl['drawArrays'](gl['TRIANGLE_STRIP'],0x0,0x4);}function keyboardHandler(){var _0x402abf=a0_0x21ad92;!showInstructions&&((keyboard[_0x402abf(0xc3)](_0x402abf(0x6c))||keyboard[_0x402abf(0xc3)](_0x402abf(0xfa)))&&inputs[_0x402abf(0xa7)]('u'),(keyboard[_0x402abf(0xc3)]('KeyS')||keyboard['pressed']('ArrowDown'))&&inputs[_0x402abf(0xa7)]('d'),(keyboard[_0x402abf(0xc3)](_0x402abf(0x81))||keyboard[_0x402abf(0xc3)](_0x402abf(0x119)))&&inputs[_0x402abf(0xa7)]('l'),keyboard[_0x402abf(0xc3)](_0x402abf(0xb9))||keyboard[_0x402abf(0xc3)](_0x402abf(0xfb)))&&inputs[_0x402abf(0xa7)]('r');}function applyFirstPersonInput(){var _0x2d4f0f=a0_0x21ad92;inputs[_0x2d4f0f(0xf6)](_0x282eeb=>{var _0x333062=_0x2d4f0f,_0x39f183;'u'===_0x282eeb&&(_0x39f183=playerCollider[_0x333062(0x76)]['getLinearVelocity']()['y'](),_0x39f183=new Ammo[(_0x333062(0xfe))](direction[0x0]*linearSpeed,_0x39f183,direction[0x2]*linearSpeed),playerCollider[_0x333062(0x76)][_0x333062(0xc5)](_0x39f183)),'d'===_0x282eeb&&(_0x39f183=playerCollider[_0x333062(0x76)][_0x333062(0x6e)]()['y'](),_0x39f183=new Ammo['btVector3'](-direction[0x0]*linearSpeed,_0x39f183,-direction[0x2]*linearSpeed),playerCollider[_0x333062(0x76)]['setLinearVelocity'](_0x39f183)),'l'===_0x282eeb&&(_0x39f183=playerCollider[_0x333062(0x76)][_0x333062(0x6e)]()['y'](),vec3[_0x333062(0xee)](cross,[0x0,0x1,0x0],[forwardTrans[0x0],forwardTrans[0x1],forwardTrans[0x2]]),_0x39f183=new Ammo[(_0x333062(0xfe))](cross[0x0]*linearSpeed,_0x39f183,cross[0x2]*linearSpeed),playerCollider[_0x333062(0x76)]['setLinearVelocity'](_0x39f183)),'r'===_0x282eeb&&(_0x39f183=playerCollider[_0x333062(0x76)][_0x333062(0x6e)]()['y'](),vec3[_0x333062(0xee)](cross,[0x0,0x1,0x0],[forwardTrans[0x0],forwardTrans[0x1],forwardTrans[0x2]]),_0x282eeb=new Ammo[(_0x333062(0xfe))](-cross[0x0]*linearSpeed,_0x39f183,-cross[0x2]*linearSpeed),playerCollider['body']['setLinearVelocity'](_0x282eeb));}),vec3[_0x2d4f0f(0xf0)](direction,forward,playerCollider[_0x2d4f0f(0xbb)]),inputs[_0x2d4f0f(0xf2)]&&(inputs=[]);}function applyThirdPersonInput(){var _0x3b7419=a0_0x21ad92;inputs['forEach'](_0x141526=>{var _0x506e97=a0_0x4560,_0x2c6dd8;'u'===_0x141526&&(_0x2c6dd8=playerCollider[_0x506e97(0x76)][_0x506e97(0x6e)]()['y'](),_0x2c6dd8=new Ammo['btVector3'](direction[0x0]*linearSpeed,_0x2c6dd8,direction[0x2]*linearSpeed),playerCollider[_0x506e97(0x76)][_0x506e97(0xc5)](_0x2c6dd8)),'d'===_0x141526&&(_0x2c6dd8=playerCollider['body'][_0x506e97(0x6e)]()['y'](),_0x2c6dd8=new Ammo['btVector3'](-direction[0x0]*linearSpeed,_0x2c6dd8,-direction[0x2]*linearSpeed),playerCollider[_0x506e97(0x76)][_0x506e97(0xc5)](_0x2c6dd8)),'l'===_0x141526&&(_0x2c6dd8=new Ammo[(_0x506e97(0xfe))](0x0,angularSpeed,0x0),playerCollider['body'][_0x506e97(0xac)](_0x2c6dd8)),'r'===_0x141526&&(_0x2c6dd8=new Ammo['btVector3'](0x0,-angularSpeed,0x0),playerCollider[_0x506e97(0x76)][_0x506e97(0xac)](_0x2c6dd8));}),vec3[_0x3b7419(0xf0)](direction,forward,playerCollider['rotation']),inputs[_0x3b7419(0xf2)]&&(inputs=[]);}instructions&&(instructions[a0_0x21ad92(0xce)]=()=>{var _0x48fcb2=a0_0x21ad92;instructions[_0x48fcb2(0xec)]['display']=_0x48fcb2(0x12f),showInstructions=!0x1,document[_0x48fcb2(0x76)][_0x48fcb2(0xf7)]();}),init(),document[a0_0x21ad92(0x8e)]=_0x574d6c=>{var _0x47d11c=a0_0x21ad92;_0x574d6c[_0x47d11c(0xe4)]||('KeyC'===_0x574d6c[_0x47d11c(0x83)]&&(showColliders=!showColliders),showInstructions)||'KeyF'!==_0x574d6c[_0x47d11c(0x83)]||(isOrbitControls=!0x1,document[_0x47d11c(0x76)][_0x47d11c(0xf7)](),sidePanel[_0x47d11c(0xec)][_0x47d11c(0x74)]=_0x47d11c(0x12f));},document[a0_0x21ad92(0x76)][a0_0x21ad92(0x128)]=()=>{var _0x5a41c0=a0_0x21ad92,_0x27793e,_0x8b7db3;document[_0x5a41c0(0xd9)]!==document[_0x5a41c0(0x76)]||isOrbitControls||(_0x27793e=event[_0x5a41c0(0x144)],_0x8b7db3=event[_0x5a41c0(0x134)],(cameraAngleX=(cameraAngleX+=cameraSpeed*_0x8b7db3/0x64)>lowAngleLimit?lowAngleLimit:cameraAngleX)<highAngleLimit&&(cameraAngleX=highAngleLimit),_0x8b7db3=new Ammo[(_0x5a41c0(0xfe))](0x0,-angularSpeed*_0x27793e/0xa,0x0),playerCollider[_0x5a41c0(0x76)]['setAngularVelocity'](_0x8b7db3));},document[a0_0x21ad92(0x67)]=()=>{var _0x561119=a0_0x21ad92,_0x4213e1;document[_0x561119(0xd9)]||(isOrbitControls=!isOrbitControls)&&(viewMatrix=orbitControls[_0x561119(0x122)](),mat4[_0x561119(0x77)](projViewMatrix,projMatrix,viewMatrix),debugDrawer[_0x561119(0xbf)]=projViewMatrix,sidePanel['style'][_0x561119(0x74)]='',_0x4213e1=new Ammo[(_0x561119(0xfe))](0x0,0x0,0x0),playerCollider[_0x561119(0x76)][_0x561119(0xac)](_0x4213e1));};